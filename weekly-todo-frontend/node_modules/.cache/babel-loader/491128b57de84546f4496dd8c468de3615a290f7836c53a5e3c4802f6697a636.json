{"ast":null,"code":"import { setStyleProperty, setStyle, isIos } from '@zag-js/dom-query';\n\n// src/index.ts\nvar LOCK_CLASSNAME = \"data-scroll-lock\";\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction preventBodyScroll(_document) {\n  const doc = _document ?? document;\n  const win = doc.defaultView ?? window;\n  const {\n    documentElement,\n    body\n  } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked) return;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  const setScrollbarWidthProperty = () => setStyleProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n  const paddingProperty = getPaddingProperty(documentElement);\n  const setBodyStyle = () => setStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: `${scrollbarWidth}px`\n  });\n  const setBodyStyleIOS = () => {\n    const {\n      scrollX,\n      scrollY,\n      visualViewport\n    } = win;\n    const offsetLeft = visualViewport?.offsetLeft ?? 0;\n    const offsetTop = visualViewport?.offsetTop ?? 0;\n    const restoreStyle = setStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`\n    });\n    return () => {\n      restoreStyle?.();\n      win.scrollTo({\n        left: scrollX,\n        top: scrollY,\n        behavior: \"instant\"\n      });\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setBodyStyleIOS() : setBodyStyle()];\n  return () => {\n    cleanups.forEach(fn => fn?.());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\nexport { preventBodyScroll };","map":{"version":3,"names":["setStyleProperty","setStyle","isIos","LOCK_CLASSNAME","getPaddingProperty","documentElement","documentLeft","getBoundingClientRect","left","scrollbarX","Math","round","scrollLeft","preventBodyScroll","_document","doc","document","win","defaultView","window","body","locked","hasAttribute","setAttribute","scrollbarWidth","innerWidth","clientWidth","setScrollbarWidthProperty","paddingProperty","setBodyStyle","overflow","setBodyStyleIOS","scrollX","scrollY","visualViewport","offsetLeft","offsetTop","restoreStyle","position","top","floor","right","scrollTo","behavior","cleanups","forEach","fn","removeAttribute"],"sources":["C:/Users/tuanl/weekly-todo-frontend/node_modules/@zag-js/remove-scroll/dist/index.mjs"],"sourcesContent":["import { setStyleProperty, setStyle, isIos } from '@zag-js/dom-query';\n\n// src/index.ts\nvar LOCK_CLASSNAME = \"data-scroll-lock\";\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction preventBodyScroll(_document) {\n  const doc = _document ?? document;\n  const win = doc.defaultView ?? window;\n  const { documentElement, body } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked) return;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  const setScrollbarWidthProperty = () => setStyleProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n  const paddingProperty = getPaddingProperty(documentElement);\n  const setBodyStyle = () => setStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: `${scrollbarWidth}px`\n  });\n  const setBodyStyleIOS = () => {\n    const { scrollX, scrollY, visualViewport } = win;\n    const offsetLeft = visualViewport?.offsetLeft ?? 0;\n    const offsetTop = visualViewport?.offsetTop ?? 0;\n    const restoreStyle = setStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`\n    });\n    return () => {\n      restoreStyle?.();\n      win.scrollTo({ left: scrollX, top: scrollY, behavior: \"instant\" });\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setBodyStyleIOS() : setBodyStyle()];\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\n\nexport { preventBodyScroll };\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,mBAAmB;;AAErE;AACA,IAAIC,cAAc,GAAG,kBAAkB;AACvC,SAASC,kBAAkBA,CAACC,eAAe,EAAE;EAC3C,MAAMC,YAAY,GAAGD,eAAe,CAACE,qBAAqB,CAAC,CAAC,CAACC,IAAI;EACjE,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAAC,GAAGD,eAAe,CAACO,UAAU;EACxE,OAAOH,UAAU,GAAG,aAAa,GAAG,cAAc;AACpD;AACA,SAASI,iBAAiBA,CAACC,SAAS,EAAE;EACpC,MAAMC,GAAG,GAAGD,SAAS,IAAIE,QAAQ;EACjC,MAAMC,GAAG,GAAGF,GAAG,CAACG,WAAW,IAAIC,MAAM;EACrC,MAAM;IAAEd,eAAe;IAAEe;EAAK,CAAC,GAAGL,GAAG;EACrC,MAAMM,MAAM,GAAGD,IAAI,CAACE,YAAY,CAACnB,cAAc,CAAC;EAChD,IAAIkB,MAAM,EAAE;EACZD,IAAI,CAACG,YAAY,CAACpB,cAAc,EAAE,EAAE,CAAC;EACrC,MAAMqB,cAAc,GAAGP,GAAG,CAACQ,UAAU,GAAGpB,eAAe,CAACqB,WAAW;EACnE,MAAMC,yBAAyB,GAAGA,CAAA,KAAM3B,gBAAgB,CAACK,eAAe,EAAE,mBAAmB,EAAE,GAAGmB,cAAc,IAAI,CAAC;EACrH,MAAMI,eAAe,GAAGxB,kBAAkB,CAACC,eAAe,CAAC;EAC3D,MAAMwB,YAAY,GAAGA,CAAA,KAAM5B,QAAQ,CAACmB,IAAI,EAAE;IACxCU,QAAQ,EAAE,QAAQ;IAClB,CAACF,eAAe,GAAG,GAAGJ,cAAc;EACtC,CAAC,CAAC;EACF,MAAMO,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAM;MAAEC,OAAO;MAAEC,OAAO;MAAEC;IAAe,CAAC,GAAGjB,GAAG;IAChD,MAAMkB,UAAU,GAAGD,cAAc,EAAEC,UAAU,IAAI,CAAC;IAClD,MAAMC,SAAS,GAAGF,cAAc,EAAEE,SAAS,IAAI,CAAC;IAChD,MAAMC,YAAY,GAAGpC,QAAQ,CAACmB,IAAI,EAAE;MAClCkB,QAAQ,EAAE,OAAO;MACjBR,QAAQ,EAAE,QAAQ;MAClBS,GAAG,EAAE,GAAG,EAAEN,OAAO,GAAGvB,IAAI,CAAC8B,KAAK,CAACJ,SAAS,CAAC,CAAC,IAAI;MAC9C5B,IAAI,EAAE,GAAG,EAAEwB,OAAO,GAAGtB,IAAI,CAAC8B,KAAK,CAACL,UAAU,CAAC,CAAC,IAAI;MAChDM,KAAK,EAAE,GAAG;MACV,CAACb,eAAe,GAAG,GAAGJ,cAAc;IACtC,CAAC,CAAC;IACF,OAAO,MAAM;MACXa,YAAY,GAAG,CAAC;MAChBpB,GAAG,CAACyB,QAAQ,CAAC;QAAElC,IAAI,EAAEwB,OAAO;QAAEO,GAAG,EAAEN,OAAO;QAAEU,QAAQ,EAAE;MAAU,CAAC,CAAC;IACpE,CAAC;EACH,CAAC;EACD,MAAMC,QAAQ,GAAG,CAACjB,yBAAyB,CAAC,CAAC,EAAEzB,KAAK,CAAC,CAAC,GAAG6B,eAAe,CAAC,CAAC,GAAGF,YAAY,CAAC,CAAC,CAAC;EAC5F,OAAO,MAAM;IACXe,QAAQ,CAACC,OAAO,CAAEC,EAAE,IAAKA,EAAE,GAAG,CAAC,CAAC;IAChC1B,IAAI,CAAC2B,eAAe,CAAC5C,cAAc,CAAC;EACtC,CAAC;AACH;AAEA,SAASU,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}