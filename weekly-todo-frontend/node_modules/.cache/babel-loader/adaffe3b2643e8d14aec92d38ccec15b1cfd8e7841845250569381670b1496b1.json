{"ast":null,"code":"import { createAnatomy } from '@zag-js/anatomy';\nimport { createGuards, createMachine, mergeProps } from '@zag-js/core';\nimport { isHTMLElement, contains, raf, getComputedStyle as getComputedStyle$1, getWindow, dataAttr, getDocument } from '@zag-js/dom-query';\nimport { getPlacement, getPlacementStyles } from '@zag-js/popper';\nimport { trackDismissableBranch } from '@zag-js/dismissable';\nimport { trapFocus } from '@zag-js/focus-trap';\nimport { trackInteractOutside } from '@zag-js/interact-outside';\nimport { prevIndex, nextIndex, isString, isEqual, createSplitProps } from '@zag-js/utils';\nimport { createProps } from '@zag-js/types';\n\n// src/tour.anatomy.ts\nvar anatomy = createAnatomy(\"tour\").parts(\"content\", \"actionTrigger\", \"closeTrigger\", \"progressText\", \"title\", \"description\", \"positioner\", \"arrow\", \"arrowTip\", \"backdrop\", \"spotlight\");\nvar parts = anatomy.build();\n\n// src/tour.dom.ts\nvar getPositionerId = ctx => ctx.ids?.positioner ?? `tour-positioner-${ctx.id}`;\nvar getContentId = ctx => ctx.ids?.content ?? `tour-content-${ctx.id}`;\nvar getTitleId = ctx => ctx.ids?.title ?? `tour-title-${ctx.id}`;\nvar getDescriptionId = ctx => ctx.ids?.description ?? `tour-desc-${ctx.id}`;\nvar getArrowId = ctx => ctx.ids?.arrow ?? `tour-arrow-${ctx.id}`;\nvar getBackdropId = ctx => ctx.ids?.backdrop ?? `tour-backdrop-${ctx.id}`;\nvar getContentEl = ctx => ctx.getById(getContentId(ctx));\nvar getPositionerEl = ctx => ctx.getById(getPositionerId(ctx));\nvar getBackdropEl = ctx => ctx.getById(getBackdropId(ctx));\n\n// src/utils/clip-path.ts\nfunction getClipPath(options) {\n  const {\n    radius = 0,\n    rootSize: {\n      width: w,\n      height: h\n    },\n    rect: {\n      width,\n      height,\n      x,\n      y\n    },\n    enabled = true\n  } = options;\n  if (!enabled) return \"\";\n  const {\n    topLeft = 0,\n    topRight = 0,\n    bottomRight = 0,\n    bottomLeft = 0\n  } = typeof radius === \"number\" ? {\n    topLeft: radius,\n    topRight: radius,\n    bottomRight: radius,\n    bottomLeft: radius\n  } : radius;\n  return `M${w},${h}  H0  V0  H${w}  V${h}  Z  M${x + topLeft},${y}  a${topLeft},${topLeft},0,0,0-${topLeft},${topLeft}  V${height + y - bottomLeft}  a${bottomLeft},${bottomLeft},0,0,0,${bottomLeft},${bottomLeft}  H${width + x - bottomRight}  a${bottomRight},${bottomRight},0,0,0,${bottomRight}-${bottomRight}  V${y + topRight}  a${topRight},${topRight},0,0,0-${topRight}-${topRight}  Z`;\n}\n\n// src/utils/step.ts\nvar isTooltipStep = step => {\n  return step?.type === \"tooltip\";\n};\nvar isDialogStep = step => {\n  return step?.type === \"dialog\";\n};\nvar isTooltipPlacement = placement => {\n  return placement != null && placement != \"center\";\n};\nvar normalizeStep = step => {\n  if (step.type === \"floating\") {\n    return {\n      backdrop: false,\n      arrow: false,\n      placement: \"bottom-end\",\n      ...step\n    };\n  }\n  if (step.target == null || step.type === \"dialog\") {\n    return {\n      type: \"dialog\",\n      placement: \"center\",\n      backdrop: true,\n      ...step\n    };\n  }\n  if (!step.type || step.type === \"tooltip\") {\n    return {\n      type: \"tooltip\",\n      arrow: true,\n      backdrop: true,\n      ...step\n    };\n  }\n  return step;\n};\nvar findStep = (steps, id) => {\n  const res = id != null ? steps.find(step => step.id === id) : null;\n  return res ? normalizeStep(res) : null;\n};\nvar findStepIndex = (steps, id) => {\n  return id != null ? steps.findIndex(step => step.id === id) : -1;\n};\n\n// src/tour.connect.ts\nfunction connect(service, normalize) {\n  const {\n    state,\n    context,\n    computed,\n    send,\n    prop,\n    scope\n  } = service;\n  const open = state.hasTag(\"open\");\n  const steps = Array.from(context.get(\"steps\"));\n  const stepIndex = computed(\"stepIndex\");\n  const step = computed(\"step\");\n  const hasTarget = typeof step?.target?.() !== \"undefined\";\n  const hasNextStep = computed(\"hasNextStep\");\n  const hasPrevStep = computed(\"hasPrevStep\");\n  const firstStep = computed(\"isFirstStep\");\n  const lastStep = computed(\"isLastStep\");\n  const placement = context.get(\"currentPlacement\");\n  const targetRect = context.get(\"targetRect\");\n  const popperStyles = getPlacementStyles({\n    strategy: \"absolute\",\n    placement: isTooltipPlacement(placement) ? placement : void 0\n  });\n  const clipPath = getClipPath({\n    enabled: isTooltipStep(step),\n    rect: targetRect,\n    rootSize: context.get(\"boundarySize\"),\n    radius: prop(\"spotlightRadius\")\n  });\n  const actionMap = {\n    next() {\n      send({\n        type: \"STEP.NEXT\",\n        src: \"actionTrigger\"\n      });\n    },\n    prev() {\n      send({\n        type: \"STEP.PREV\",\n        src: \"actionTrigger\"\n      });\n    },\n    dismiss() {\n      send({\n        type: \"DISMISS\",\n        src: \"actionTrigger\"\n      });\n    },\n    goto(id) {\n      send({\n        type: \"STEP.SET\",\n        value: id,\n        src: \"actionTrigger\"\n      });\n    }\n  };\n  return {\n    open,\n    totalSteps: steps.length,\n    stepIndex,\n    step,\n    hasNextStep,\n    hasPrevStep,\n    firstStep,\n    lastStep,\n    addStep(step2) {\n      const next = steps.concat(step2);\n      send({\n        type: \"STEPS.SET\",\n        value: next,\n        src: \"addStep\"\n      });\n    },\n    removeStep(id) {\n      const next = steps.filter(step2 => step2.id !== id);\n      send({\n        type: \"STEPS.SET\",\n        value: next,\n        src: \"removeStep\"\n      });\n    },\n    updateStep(id, stepOverrides) {\n      const next = steps.map(step2 => step2.id === id ? mergeProps(step2, stepOverrides) : step2);\n      send({\n        type: \"STEPS.SET\",\n        value: next,\n        src: \"updateStep\"\n      });\n    },\n    setSteps(steps2) {\n      send({\n        type: \"STEPS.SET\",\n        value: steps2,\n        src: \"setSteps\"\n      });\n    },\n    setStep(id) {\n      send({\n        type: \"STEP.SET\",\n        value: id\n      });\n    },\n    start(id) {\n      send({\n        type: \"START\",\n        id\n      });\n    },\n    isValidStep(id) {\n      return steps.some(step2 => step2.id === id);\n    },\n    isCurrentStep(id) {\n      return Boolean(step?.id === id);\n    },\n    next() {\n      send({\n        type: \"STEP.NEXT\"\n      });\n    },\n    prev() {\n      send({\n        type: \"STEP.PREV\"\n      });\n    },\n    getProgressPercent() {\n      return stepIndex / steps.length * 100;\n    },\n    getProgressText() {\n      const effectiveSteps = steps.filter(step2 => step2.type !== \"wait\");\n      const index = findStepIndex(effectiveSteps, step?.id);\n      const details = {\n        current: index,\n        total: effectiveSteps.length\n      };\n      return prop(\"translations\").progressText?.(details) ?? \"\";\n    },\n    getBackdropProps() {\n      return normalize.element({\n        ...parts.backdrop.attrs,\n        id: getBackdropId(scope),\n        dir: prop(\"dir\"),\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-type\": step?.type,\n        style: {\n          \"--tour-layer\": 0,\n          clipPath: isTooltipStep(step) ? `path(\"${clipPath}\")` : void 0,\n          position: \"absolute\",\n          inset: \"0\",\n          willChange: \"clip-path\"\n        }\n      });\n    },\n    getSpotlightProps() {\n      return normalize.element({\n        ...parts.spotlight.attrs,\n        hidden: !open || !step?.target?.(),\n        style: {\n          \"--tour-layer\": 1,\n          position: \"absolute\",\n          width: `${targetRect.width}px`,\n          height: `${targetRect.height}px`,\n          left: `${targetRect.x}px`,\n          top: `${targetRect.y}px`,\n          borderRadius: `${prop(\"spotlightRadius\")}px`,\n          pointerEvents: \"none\"\n        }\n      });\n    },\n    getProgressTextProps() {\n      return normalize.element({\n        ...parts.progressText.attrs\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        \"data-type\": step?.type,\n        \"data-placement\": placement,\n        style: {\n          \"--tour-layer\": 2,\n          ...(step?.type === \"tooltip\" && popperStyles.floating)\n        }\n      });\n    },\n    getArrowProps() {\n      return normalize.element({\n        id: getArrowId(scope),\n        ...parts.arrow.attrs,\n        dir: prop(\"dir\"),\n        hidden: step?.type !== \"tooltip\",\n        style: step?.type === \"tooltip\" ? popperStyles.arrow : void 0,\n        opacity: hasTarget ? void 0 : 0\n      });\n    },\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: prop(\"dir\"),\n        style: popperStyles.arrowTip\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        id: getContentId(scope),\n        dir: prop(\"dir\"),\n        role: \"alertdialog\",\n        \"aria-modal\": \"true\",\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\",\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-type\": step?.type,\n        \"data-placement\": placement,\n        \"data-step\": step?.id,\n        \"aria-labelledby\": getTitleId(scope),\n        \"aria-describedby\": getDescriptionId(scope),\n        tabIndex: -1,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!prop(\"keyboardNavigation\")) return;\n          const isRtl = prop(\"dir\") === \"rtl\";\n          switch (event.key) {\n            case \"ArrowRight\":\n              if (!hasNextStep) return;\n              send({\n                type: isRtl ? \"STEP.PREV\" : \"STEP.NEXT\",\n                src: \"keydown\"\n              });\n              break;\n            case \"ArrowLeft\":\n              if (!hasPrevStep) return;\n              send({\n                type: isRtl ? \"STEP.NEXT\" : \"STEP.PREV\",\n                src: \"keydown\"\n              });\n              break;\n          }\n        }\n      });\n    },\n    getTitleProps() {\n      return normalize.element({\n        ...parts.title.attrs,\n        id: getTitleId(scope),\n        \"data-placement\": hasTarget ? placement : \"center\"\n      });\n    },\n    getDescriptionProps() {\n      return normalize.element({\n        ...parts.description.attrs,\n        id: getDescriptionId(scope),\n        \"data-placement\": hasTarget ? placement : \"center\"\n      });\n    },\n    getCloseTriggerProps() {\n      return normalize.element({\n        ...parts.closeTrigger.attrs,\n        \"data-type\": step?.type,\n        \"aria-label\": prop(\"translations\").close,\n        onClick: actionMap.dismiss\n      });\n    },\n    getActionTriggerProps(props2) {\n      const {\n        action,\n        attrs\n      } = props2.action;\n      let actionProps = {};\n      switch (action) {\n        case \"next\":\n          actionProps = {\n            \"data-type\": \"next\",\n            disabled: !hasNextStep,\n            \"data-disabled\": dataAttr(!hasNextStep),\n            \"aria-label\": prop(\"translations\").nextStep,\n            onClick: actionMap.next\n          };\n          break;\n        case \"prev\":\n          actionProps = {\n            \"data-type\": \"prev\",\n            disabled: !hasPrevStep,\n            \"data-disabled\": dataAttr(!hasPrevStep),\n            \"aria-label\": prop(\"translations\").prevStep,\n            onClick: actionMap.prev\n          };\n          break;\n        case \"dismiss\":\n          actionProps = {\n            \"data-type\": \"close\",\n            \"aria-label\": prop(\"translations\").close,\n            onClick: actionMap.dismiss\n          };\n          break;\n        default:\n          actionProps = {\n            \"data-type\": \"custom\",\n            onClick() {\n              if (typeof action === \"function\") {\n                action(actionMap);\n              }\n            }\n          };\n          break;\n      }\n      return normalize.button({\n        ...parts.actionTrigger.attrs,\n        type: \"button\",\n        ...attrs,\n        ...actionProps\n      });\n    }\n  };\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nvar normalizeEventPoint = event => {\n  let clientX = event.clientX;\n  let clientY = event.clientY;\n  let win = event.view || window;\n  let frame = getFrameElement(win);\n  while (frame) {\n    const iframeRect = frame.getBoundingClientRect();\n    const css = getComputedStyle(frame);\n    const left = iframeRect.left + (frame.clientLeft + parseFloat(css.paddingLeft));\n    const top = iframeRect.top + (frame.clientTop + parseFloat(css.paddingTop));\n    clientX += left;\n    clientY += top;\n    win = getWindow(frame);\n    frame = getFrameElement(win);\n  }\n  return {\n    clientX,\n    clientY\n  };\n};\nfunction isEventInRect(rect, event) {\n  const {\n    clientX,\n    clientY\n  } = normalizeEventPoint(event);\n  return rect.y <= clientY && clientY <= rect.y + rect.height && rect.x <= clientX && clientX <= rect.x + rect.width;\n}\nfunction offset(r, i) {\n  const dx = i.x || 0;\n  const dy = i.y || 0;\n  return {\n    x: r.x - dx,\n    y: r.y - dy,\n    width: r.width + dx + dx,\n    height: r.height + dy + dy\n  };\n}\n\n// src/tour.machine.ts\nvar {\n  and\n} = createGuards();\nvar getEffectiveSteps = steps => steps.filter(step => step.type !== \"wait\");\nvar getProgress = (steps, stepIndex) => {\n  const effectiveLength = getEffectiveSteps(steps).length;\n  return (stepIndex + 1) / effectiveLength;\n};\nvar machine = createMachine({\n  props({\n    props: props2\n  }) {\n    return {\n      preventInteraction: false,\n      closeOnInteractOutside: true,\n      closeOnEscape: true,\n      keyboardNavigation: true,\n      spotlightOffset: {\n        x: 10,\n        y: 10\n      },\n      spotlightRadius: 4,\n      ...props2,\n      translations: {\n        nextStep: \"next step\",\n        prevStep: \"previous step\",\n        close: \"close tour\",\n        progressText: ({\n          current,\n          total\n        }) => `${current + 1} of ${total}`,\n        skip: \"skip tour\",\n        ...props2.translations\n      }\n    };\n  },\n  initialState() {\n    return \"tour.inactive\";\n  },\n  context({\n    prop,\n    bindable,\n    getContext\n  }) {\n    return {\n      steps: bindable(() => ({\n        defaultValue: prop(\"steps\") ?? [],\n        onChange(value) {\n          prop(\"onStepsChange\")?.({\n            steps: value\n          });\n        }\n      })),\n      stepId: bindable(() => ({\n        defaultValue: prop(\"stepId\"),\n        sync: true,\n        onChange(value) {\n          const context = getContext();\n          const steps = context.get(\"steps\");\n          const stepIndex = findStepIndex(steps, value);\n          const progress = getProgress(steps, stepIndex);\n          const complete = stepIndex == steps.length - 1;\n          prop(\"onStepChange\")?.({\n            stepId: value,\n            stepIndex,\n            totalSteps: steps.length,\n            complete,\n            progress\n          });\n        }\n      })),\n      resolvedTarget: bindable(() => ({\n        sync: true,\n        defaultValue: null\n      })),\n      targetRect: bindable(() => ({\n        defaultValue: {\n          width: 0,\n          height: 0,\n          x: 0,\n          y: 0\n        }\n      })),\n      boundarySize: bindable(() => ({\n        defaultValue: {\n          width: 0,\n          height: 0\n        }\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      }))\n    };\n  },\n  computed: {\n    stepIndex: ({\n      context\n    }) => findStepIndex(context.get(\"steps\"), context.get(\"stepId\")),\n    step: ({\n      context\n    }) => findStep(context.get(\"steps\"), context.get(\"stepId\")),\n    hasNextStep: ({\n      context,\n      computed\n    }) => computed(\"stepIndex\") < context.get(\"steps\").length - 1,\n    hasPrevStep: ({\n      computed\n    }) => computed(\"stepIndex\") > 0,\n    isFirstStep: ({\n      computed\n    }) => computed(\"stepIndex\") === 0,\n    isLastStep: ({\n      context,\n      computed\n    }) => computed(\"stepIndex\") === context.get(\"steps\").length - 1,\n    progress: ({\n      context,\n      computed\n    }) => {\n      const effectiveLength = getEffectiveSteps(context.get(\"steps\")).length;\n      return (computed(\"stepIndex\") + 1) / effectiveLength;\n    }\n  },\n  watch({\n    track,\n    context,\n    action\n  }) {\n    track([() => context.get(\"stepId\")], () => {\n      queueMicrotask(() => {\n        action([\"setResolvedTarget\", \"raiseStepChange\", \"syncTargetAttrs\"]);\n      });\n    });\n  },\n  effects: [\"trackBoundarySize\"],\n  exit: [\"cleanupRefs\"],\n  on: {\n    \"STEPS.SET\": {\n      actions: [\"setSteps\"]\n    },\n    \"STEP.SET\": {\n      actions: [\"setStep\"]\n    },\n    \"STEP.NEXT\": {\n      actions: [\"setNextStep\"]\n    },\n    \"STEP.PREV\": {\n      actions: [\"setPrevStep\"]\n    },\n    \"STEP.CHANGED\": [{\n      guard: and(\"isValidStep\", \"hasResolvedTarget\"),\n      target: \"target.scrolling\",\n      actions: [\"cleanupRefs\"]\n    }, {\n      guard: and(\"isValidStep\", \"hasTarget\"),\n      target: \"target.resolving\",\n      actions: [\"cleanupRefs\"]\n    }, {\n      guard: and(\"isValidStep\", \"isWaitingStep\"),\n      target: \"step.waiting\",\n      actions: [\"cleanupRefs\"]\n    }, {\n      guard: \"isValidStep\",\n      target: \"tour.active\",\n      actions: [\"cleanupRefs\"]\n    }],\n    DISMISS: [{\n      guard: \"isLastStep\",\n      target: \"tour.inactive\",\n      actions: [\"invokeOnDismiss\", \"invokeOnComplete\", \"clearStep\"]\n    }, {\n      target: \"tour.inactive\",\n      actions: [\"invokeOnDismiss\", \"clearStep\"]\n    }]\n  },\n  states: {\n    \"tour.inactive\": {\n      tags: [\"closed\"],\n      on: {\n        START: {\n          actions: [\"setInitialStep\", \"invokeOnStart\"]\n        }\n      }\n    },\n    \"target.resolving\": {\n      tags: [\"closed\"],\n      effects: [\"waitForTarget\", \"waitForTargetTimeout\"],\n      on: {\n        \"TARGET.NOT_FOUND\": {\n          target: \"tour.inactive\",\n          actions: [\"invokeOnNotFound\", \"clearStep\"]\n        },\n        \"TARGET.RESOLVED\": {\n          target: \"target.scrolling\",\n          actions: [\"setResolvedTarget\"]\n        }\n      }\n    },\n    \"target.scrolling\": {\n      tags: [\"open\"],\n      entry: [\"scrollToTarget\"],\n      effects: [\"waitForScrollEnd\", \"trapFocus\", \"trackPlacement\", \"trackDismissableBranch\", \"trackInteractOutside\", \"trackEscapeKeydown\"],\n      on: {\n        \"SCROLL.END\": {\n          target: \"tour.active\"\n        }\n      }\n    },\n    \"step.waiting\": {\n      tags: [\"closed\"]\n    },\n    \"tour.active\": {\n      tags: [\"open\"],\n      effects: [\"trapFocus\", \"trackPlacement\", \"trackDismissableBranch\", \"trackInteractOutside\", \"trackEscapeKeydown\"]\n    }\n  },\n  implementations: {\n    guards: {\n      isLastStep: ({\n        computed,\n        context\n      }) => computed(\"stepIndex\") === context.get(\"steps\").length - 1,\n      isValidStep: ({\n        context\n      }) => context.get(\"stepId\") != null,\n      hasTarget: ({\n        computed\n      }) => computed(\"step\")?.target != null,\n      hasResolvedTarget: ({\n        context\n      }) => context.get(\"resolvedTarget\") != null,\n      isWaitingStep: ({\n        computed\n      }) => computed(\"step\")?.type === \"wait\"\n    },\n    actions: {\n      scrollToTarget({\n        context\n      }) {\n        const node = context.get(\"resolvedTarget\");\n        node?.scrollIntoView({\n          behavior: \"instant\",\n          block: \"center\",\n          inline: \"center\"\n        });\n      },\n      setStep(params) {\n        const {\n          event\n        } = params;\n        setStep(params, event.value);\n      },\n      clearStep(params) {\n        const {\n          context\n        } = params;\n        context.set(\"targetRect\", {\n          width: 0,\n          height: 0,\n          x: 0,\n          y: 0\n        });\n        setStep(params, -1);\n      },\n      setInitialStep(params) {\n        const {\n          context,\n          event\n        } = params;\n        const steps = context.get(\"steps\");\n        if (steps.length === 0) return;\n        if (isString(event.value)) {\n          const idx = findStepIndex(steps, event.value);\n          setStep(params, idx);\n          return;\n        }\n        setStep(params, 0);\n      },\n      setNextStep(params) {\n        const {\n          context,\n          computed\n        } = params;\n        const steps = context.get(\"steps\");\n        const idx = nextIndex(steps, computed(\"stepIndex\"));\n        setStep(params, idx);\n      },\n      setPrevStep(params) {\n        const {\n          context,\n          computed\n        } = params;\n        const steps = context.get(\"steps\");\n        const idx = prevIndex(steps, computed(\"stepIndex\"));\n        setStep(params, idx);\n      },\n      invokeOnStart({\n        prop,\n        context,\n        computed\n      }) {\n        prop(\"onStatusChange\")?.({\n          status: \"started\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnDismiss({\n        prop,\n        context,\n        computed\n      }) {\n        prop(\"onStatusChange\")?.({\n          status: \"dismissed\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnComplete({\n        prop,\n        context,\n        computed\n      }) {\n        prop(\"onStatusChange\")?.({\n          status: \"completed\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnSkip({\n        prop,\n        context,\n        computed\n      }) {\n        prop(\"onStatusChange\")?.({\n          status: \"skipped\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnNotFound({\n        prop,\n        context,\n        computed\n      }) {\n        prop(\"onStatusChange\")?.({\n          status: \"not-found\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      raiseStepChange({\n        send\n      }) {\n        send({\n          type: \"STEP.CHANGED\"\n        });\n      },\n      setResolvedTarget({\n        context,\n        event,\n        computed\n      }) {\n        const node = event.node ?? computed(\"step\")?.target?.();\n        context.set(\"resolvedTarget\", node ?? null);\n      },\n      syncTargetAttrs({\n        context,\n        refs,\n        prop\n      }) {\n        refs.get(\"_targetCleanup\")?.();\n        refs.set(\"_targetCleanup\", void 0);\n        const targetEl = context.get(\"resolvedTarget\");\n        if (!targetEl) return;\n        if (prop(\"preventInteraction\")) targetEl.inert = true;\n        targetEl.setAttribute(\"data-tour-highlighted\", \"\");\n        refs.set(\"_targetCleanup\", () => {\n          if (prop(\"preventInteraction\")) targetEl.inert = false;\n          targetEl.removeAttribute(\"data-tour-highlighted\");\n        });\n      },\n      cleanupRefs({\n        refs\n      }) {\n        refs.get(\"_targetCleanup\")?.();\n        refs.set(\"_targetCleanup\", void 0);\n        refs.get(\"_effectCleanup\")?.();\n        refs.set(\"_effectCleanup\", void 0);\n      },\n      validateSteps({\n        context\n      }) {\n        const ids = /* @__PURE__ */new Set();\n        context.get(\"steps\").forEach(step => {\n          if (ids.has(step.id)) {\n            throw new Error(`[zag-js/tour] Duplicate step id: ${step.id}`);\n          }\n          if (step.target == null && step.type == null) {\n            throw new Error(`[zag-js/tour] Step ${step.id} has no target or type. At least one of those is required.`);\n          }\n          ids.add(step.id);\n        });\n      }\n    },\n    effects: {\n      waitForScrollEnd({\n        send\n      }) {\n        const id = setTimeout(() => {\n          send({\n            type: \"SCROLL.END\"\n          });\n        }, 100);\n        return () => clearTimeout(id);\n      },\n      waitForTargetTimeout({\n        send\n      }) {\n        const id = setTimeout(() => {\n          send({\n            type: \"TARGET.NOT_FOUND\"\n          });\n        }, 3e3);\n        return () => clearTimeout(id);\n      },\n      waitForTarget({\n        scope,\n        computed,\n        send\n      }) {\n        const step = computed(\"step\");\n        if (!step) return;\n        const targetEl = step.target;\n        const win = scope.getWin();\n        const rootNode = scope.getRootNode();\n        const observer = new win.MutationObserver(() => {\n          const node = targetEl?.();\n          if (node) {\n            send({\n              type: \"TARGET.RESOLVED\",\n              node\n            });\n            observer.disconnect();\n          }\n        });\n        observer.observe(rootNode, {\n          childList: true,\n          subtree: true,\n          characterData: true\n        });\n        return () => {\n          observer.disconnect();\n        };\n      },\n      trackBoundarySize({\n        context,\n        scope\n      }) {\n        const win = scope.getWin();\n        const doc = scope.getDoc();\n        const onResize = () => {\n          const width = visualViewport?.width ?? win.innerWidth;\n          const height = doc.documentElement.scrollHeight;\n          context.set(\"boundarySize\", {\n            width,\n            height\n          });\n        };\n        onResize();\n        const viewport = win.visualViewport ?? win;\n        viewport.addEventListener(\"resize\", onResize);\n        return () => viewport.removeEventListener(\"resize\", onResize);\n      },\n      trackEscapeKeydown({\n        scope,\n        send,\n        prop\n      }) {\n        if (!prop(\"closeOnEscape\")) return;\n        const doc = scope.getDoc();\n        const onKeyDown = event => {\n          if (event.key === \"Escape\") {\n            event.preventDefault();\n            event.stopPropagation();\n            send({\n              type: \"DISMISS\",\n              src: \"esc\"\n            });\n          }\n        };\n        doc.addEventListener(\"keydown\", onKeyDown, true);\n        return () => {\n          doc.removeEventListener(\"keydown\", onKeyDown, true);\n        };\n      },\n      trackInteractOutside({\n        context,\n        computed,\n        scope,\n        send,\n        prop\n      }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trackInteractOutside(contentEl, {\n          defer: true,\n          exclude(target) {\n            return contains(step.target?.(), target);\n          },\n          onFocusOutside(event) {\n            prop(\"onFocusOutside\")?.(event);\n            if (!prop(\"closeOnInteractOutside\")) {\n              event.preventDefault();\n            }\n          },\n          onPointerDownOutside(event) {\n            prop(\"onPointerDownOutside\")?.(event);\n            const isWithin = isEventInRect(context.get(\"targetRect\"), event.detail.originalEvent);\n            if (isWithin) {\n              event.preventDefault();\n              return;\n            }\n            if (!prop(\"closeOnInteractOutside\")) {\n              event.preventDefault();\n            }\n          },\n          onInteractOutside(event) {\n            prop(\"onInteractOutside\")?.(event);\n            if (event.defaultPrevented) return;\n            send({\n              type: \"DISMISS\",\n              src: \"interact-outside\"\n            });\n          }\n        });\n      },\n      trackDismissableBranch({\n        computed,\n        scope\n      }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trackDismissableBranch(contentEl, {\n          defer: !contentEl()\n        });\n      },\n      trapFocus({\n        computed,\n        scope\n      }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trapFocus(contentEl, {\n          escapeDeactivates: false,\n          allowOutsideClick: true,\n          preventScroll: true,\n          returnFocusOnDeactivate: false\n        });\n      },\n      trackPlacement({\n        context,\n        computed,\n        scope,\n        prop\n      }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        context.set(\"currentPlacement\", step.placement ?? \"bottom\");\n        if (isDialogStep(step)) {\n          return syncZIndex(scope);\n        }\n        if (!isTooltipStep(step)) {\n          return;\n        }\n        const positionerEl = () => getPositionerEl(scope);\n        return getPlacement(context.get(\"resolvedTarget\"), positionerEl, {\n          defer: true,\n          placement: step.placement ?? \"bottom\",\n          strategy: \"absolute\",\n          gutter: 10,\n          offset: step.offset,\n          getAnchorRect(el) {\n            if (!isHTMLElement(el)) return null;\n            const rect = el.getBoundingClientRect();\n            return offset(rect, prop(\"spotlightOffset\"));\n          },\n          onComplete(data) {\n            const {\n              rects\n            } = data.middlewareData;\n            context.set(\"currentPlacement\", data.placement);\n            context.set(\"targetRect\", rects.reference);\n          }\n        });\n      }\n    }\n  }\n});\nfunction syncZIndex(scope) {\n  return raf(() => {\n    const contentEl = getContentEl(scope);\n    if (!contentEl) return;\n    const styles = getComputedStyle$1(contentEl);\n    const positionerEl = getPositionerEl(scope);\n    const backdropEl = getBackdropEl(scope);\n    if (positionerEl) {\n      positionerEl.style.setProperty(\"--z-index\", styles.zIndex);\n      positionerEl.style.setProperty(\"z-index\", \"var(--z-index)\");\n    }\n    if (backdropEl) {\n      backdropEl.style.setProperty(\"--z-index\", styles.zIndex);\n    }\n  });\n}\nfunction setStep(params, idx) {\n  const {\n    context,\n    refs,\n    computed,\n    prop\n  } = params;\n  const steps = context.get(\"steps\");\n  const step = steps[idx];\n  if (!step) {\n    context.set(\"stepId\", null);\n    return;\n  }\n  if (isEqual(context.get(\"stepId\"), step.id)) return;\n  const update = data => {\n    context.set(\"steps\", prev => prev.map((s, i) => i === idx ? {\n      ...s,\n      ...data\n    } : s));\n  };\n  const next = () => {\n    const idx2 = nextIndex(steps, computed(\"stepIndex\"));\n    context.set(\"stepId\", steps[idx2].id);\n  };\n  const goto = id => {\n    const step2 = findStep(steps, id);\n    if (!step2) return;\n    context.set(\"stepId\", step2.id);\n  };\n  const dismiss = () => {\n    context.set(\"stepId\", null);\n    prop(\"onStatusChange\")?.({\n      status: \"dismissed\",\n      stepId: null,\n      stepIndex: -1\n    });\n  };\n  const show = () => {\n    context.set(\"stepId\", step.id);\n  };\n  if (!step.effect) {\n    show();\n    return;\n  }\n  const cleanup = step.effect({\n    show,\n    next,\n    update,\n    target: step.target,\n    dismiss,\n    goto\n  });\n  refs.set(\"_effectCleanup\", cleanup);\n}\nvar props = createProps()([\"closeOnEscape\", \"closeOnInteractOutside\", \"dir\", \"getRootNode\", \"id\", \"ids\", \"keyboardNavigation\", \"onFocusOutside\", \"onInteractOutside\", \"onPointerDownOutside\", \"onStatusChange\", \"onStepChange\", \"onStepsChange\", \"preventInteraction\", \"spotlightOffset\", \"spotlightRadius\", \"stepId\", \"steps\", \"translations\"]);\nvar splitProps = createSplitProps(props);\nfunction waitForPromise(promise, controller, timeout) {\n  const {\n    signal\n  } = controller;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(new Error(`Timeout of ${timeout}ms exceeded`));\n    }, timeout);\n    signal.addEventListener(\"abort\", () => {\n      clearTimeout(timeoutId);\n      reject(new Error(\"Promise aborted\"));\n    });\n    promise.then(result => {\n      if (!signal.aborted) {\n        clearTimeout(timeoutId);\n        resolve(result);\n      }\n    }).catch(error => {\n      if (!signal.aborted) {\n        clearTimeout(timeoutId);\n        reject(error);\n      }\n    });\n  });\n  const abort = () => controller.abort();\n  return [wrappedPromise, abort];\n}\nfunction waitForElement(target, options) {\n  const {\n    timeout,\n    rootNode\n  } = options;\n  const win = getWindow(rootNode);\n  const doc = getDocument(rootNode);\n  const controller = new win.AbortController();\n  return waitForPromise(new Promise(resolve => {\n    const el = target();\n    if (el) {\n      resolve(el);\n      return;\n    }\n    const observer = new win.MutationObserver(() => {\n      const el2 = target();\n      if (el2) {\n        observer.disconnect();\n        resolve(el2);\n      }\n    });\n    observer.observe(doc.body, {\n      childList: true,\n      subtree: true\n    });\n  }), controller, timeout);\n}\nfunction waitForElementValue(target, value, options) {\n  const {\n    timeout,\n    rootNode\n  } = options;\n  const win = getWindow(rootNode);\n  const controller = new win.AbortController();\n  return waitForPromise(new Promise(resolve => {\n    const el = target();\n    if (!el) return;\n    const checkValue = () => {\n      if (el.value === value) {\n        resolve();\n        el.removeEventListener(\"input\", checkValue);\n      }\n    };\n    checkValue();\n    el.addEventListener(\"input\", checkValue, {\n      signal: controller.signal\n    });\n  }), controller, timeout);\n}\nexport { anatomy, connect, machine, props, splitProps, waitForElement, waitForElementValue };","map":{"version":3,"names":["createAnatomy","createGuards","createMachine","mergeProps","isHTMLElement","contains","raf","getComputedStyle","getComputedStyle$1","getWindow","dataAttr","getDocument","getPlacement","getPlacementStyles","trackDismissableBranch","trapFocus","trackInteractOutside","prevIndex","nextIndex","isString","isEqual","createSplitProps","createProps","anatomy","parts","build","getPositionerId","ctx","ids","positioner","id","getContentId","content","getTitleId","title","getDescriptionId","description","getArrowId","arrow","getBackdropId","backdrop","getContentEl","getById","getPositionerEl","getBackdropEl","getClipPath","options","radius","rootSize","width","w","height","h","rect","x","y","enabled","topLeft","topRight","bottomRight","bottomLeft","isTooltipStep","step","type","isDialogStep","isTooltipPlacement","placement","normalizeStep","target","findStep","steps","res","find","findStepIndex","findIndex","connect","service","normalize","state","context","computed","send","prop","scope","open","hasTag","Array","from","get","stepIndex","hasTarget","hasNextStep","hasPrevStep","firstStep","lastStep","targetRect","popperStyles","strategy","clipPath","actionMap","next","src","prev","dismiss","goto","value","totalSteps","length","addStep","step2","concat","removeStep","filter","updateStep","stepOverrides","map","setSteps","steps2","setStep","start","isValidStep","some","isCurrentStep","Boolean","getProgressPercent","getProgressText","effectiveSteps","index","details","current","total","progressText","getBackdropProps","element","attrs","dir","hidden","style","position","inset","willChange","getSpotlightProps","spotlight","left","top","borderRadius","pointerEvents","getProgressTextProps","getPositionerProps","floating","getArrowProps","opacity","getArrowTipProps","arrowTip","getContentProps","role","tabIndex","onKeyDown","event","defaultPrevented","isRtl","key","getTitleProps","getDescriptionProps","getCloseTriggerProps","closeTrigger","close","onClick","getActionTriggerProps","props2","action","actionProps","disabled","nextStep","prevStep","button","actionTrigger","getFrameElement","win","parent","Object","getPrototypeOf","frameElement","normalizeEventPoint","clientX","clientY","view","window","frame","iframeRect","getBoundingClientRect","css","clientLeft","parseFloat","paddingLeft","clientTop","paddingTop","isEventInRect","offset","r","i","dx","dy","and","getEffectiveSteps","getProgress","effectiveLength","machine","props","preventInteraction","closeOnInteractOutside","closeOnEscape","keyboardNavigation","spotlightOffset","spotlightRadius","translations","skip","initialState","bindable","getContext","defaultValue","onChange","stepId","sync","progress","complete","resolvedTarget","boundarySize","currentPlacement","isFirstStep","isLastStep","watch","track","queueMicrotask","effects","exit","on","actions","guard","DISMISS","states","tags","START","entry","implementations","guards","hasResolvedTarget","isWaitingStep","scrollToTarget","node","scrollIntoView","behavior","block","inline","params","clearStep","set","setInitialStep","idx","setNextStep","setPrevStep","invokeOnStart","status","invokeOnDismiss","invokeOnComplete","invokeOnSkip","invokeOnNotFound","raiseStepChange","setResolvedTarget","syncTargetAttrs","refs","targetEl","inert","setAttribute","removeAttribute","cleanupRefs","validateSteps","Set","forEach","has","Error","add","waitForScrollEnd","setTimeout","clearTimeout","waitForTargetTimeout","waitForTarget","getWin","rootNode","getRootNode","observer","MutationObserver","disconnect","observe","childList","subtree","characterData","trackBoundarySize","doc","getDoc","onResize","visualViewport","innerWidth","documentElement","scrollHeight","viewport","addEventListener","removeEventListener","trackEscapeKeydown","preventDefault","stopPropagation","contentEl","defer","exclude","onFocusOutside","onPointerDownOutside","isWithin","detail","originalEvent","onInteractOutside","escapeDeactivates","allowOutsideClick","preventScroll","returnFocusOnDeactivate","trackPlacement","syncZIndex","positionerEl","gutter","getAnchorRect","el","onComplete","data","rects","middlewareData","reference","styles","backdropEl","setProperty","zIndex","update","s","idx2","show","effect","cleanup","splitProps","waitForPromise","promise","controller","timeout","signal","wrappedPromise","Promise","resolve","reject","timeoutId","then","result","aborted","catch","error","abort","waitForElement","AbortController","el2","body","waitForElementValue","checkValue"],"sources":["C:/Users/tuanl/weekly-todo-frontend/node_modules/@chakra-ui/react/node_modules/@zag-js/tour/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { createGuards, createMachine, mergeProps } from '@zag-js/core';\nimport { isHTMLElement, contains, raf, getComputedStyle as getComputedStyle$1, getWindow, dataAttr, getDocument } from '@zag-js/dom-query';\nimport { getPlacement, getPlacementStyles } from '@zag-js/popper';\nimport { trackDismissableBranch } from '@zag-js/dismissable';\nimport { trapFocus } from '@zag-js/focus-trap';\nimport { trackInteractOutside } from '@zag-js/interact-outside';\nimport { prevIndex, nextIndex, isString, isEqual, createSplitProps } from '@zag-js/utils';\nimport { createProps } from '@zag-js/types';\n\n// src/tour.anatomy.ts\nvar anatomy = createAnatomy(\"tour\").parts(\n  \"content\",\n  \"actionTrigger\",\n  \"closeTrigger\",\n  \"progressText\",\n  \"title\",\n  \"description\",\n  \"positioner\",\n  \"arrow\",\n  \"arrowTip\",\n  \"backdrop\",\n  \"spotlight\"\n);\nvar parts = anatomy.build();\n\n// src/tour.dom.ts\nvar getPositionerId = (ctx) => ctx.ids?.positioner ?? `tour-positioner-${ctx.id}`;\nvar getContentId = (ctx) => ctx.ids?.content ?? `tour-content-${ctx.id}`;\nvar getTitleId = (ctx) => ctx.ids?.title ?? `tour-title-${ctx.id}`;\nvar getDescriptionId = (ctx) => ctx.ids?.description ?? `tour-desc-${ctx.id}`;\nvar getArrowId = (ctx) => ctx.ids?.arrow ?? `tour-arrow-${ctx.id}`;\nvar getBackdropId = (ctx) => ctx.ids?.backdrop ?? `tour-backdrop-${ctx.id}`;\nvar getContentEl = (ctx) => ctx.getById(getContentId(ctx));\nvar getPositionerEl = (ctx) => ctx.getById(getPositionerId(ctx));\nvar getBackdropEl = (ctx) => ctx.getById(getBackdropId(ctx));\n\n// src/utils/clip-path.ts\nfunction getClipPath(options) {\n  const {\n    radius = 0,\n    rootSize: { width: w, height: h },\n    rect: { width, height, x, y },\n    enabled = true\n  } = options;\n  if (!enabled) return \"\";\n  const {\n    topLeft = 0,\n    topRight = 0,\n    bottomRight = 0,\n    bottomLeft = 0\n  } = typeof radius === \"number\" ? { topLeft: radius, topRight: radius, bottomRight: radius, bottomLeft: radius } : radius;\n  return `M${w},${h}  H0  V0  H${w}  V${h}  Z  M${x + topLeft},${y}  a${topLeft},${topLeft},0,0,0-${topLeft},${topLeft}  V${height + y - bottomLeft}  a${bottomLeft},${bottomLeft},0,0,0,${bottomLeft},${bottomLeft}  H${width + x - bottomRight}  a${bottomRight},${bottomRight},0,0,0,${bottomRight}-${bottomRight}  V${y + topRight}  a${topRight},${topRight},0,0,0-${topRight}-${topRight}  Z`;\n}\n\n// src/utils/step.ts\nvar isTooltipStep = (step) => {\n  return step?.type === \"tooltip\";\n};\nvar isDialogStep = (step) => {\n  return step?.type === \"dialog\";\n};\nvar isTooltipPlacement = (placement) => {\n  return placement != null && placement != \"center\";\n};\nvar normalizeStep = (step) => {\n  if (step.type === \"floating\") {\n    return { backdrop: false, arrow: false, placement: \"bottom-end\", ...step };\n  }\n  if (step.target == null || step.type === \"dialog\") {\n    return { type: \"dialog\", placement: \"center\", backdrop: true, ...step };\n  }\n  if (!step.type || step.type === \"tooltip\") {\n    return { type: \"tooltip\", arrow: true, backdrop: true, ...step };\n  }\n  return step;\n};\nvar findStep = (steps, id) => {\n  const res = id != null ? steps.find((step) => step.id === id) : null;\n  return res ? normalizeStep(res) : null;\n};\nvar findStepIndex = (steps, id) => {\n  return id != null ? steps.findIndex((step) => step.id === id) : -1;\n};\n\n// src/tour.connect.ts\nfunction connect(service, normalize) {\n  const { state, context, computed, send, prop, scope } = service;\n  const open = state.hasTag(\"open\");\n  const steps = Array.from(context.get(\"steps\"));\n  const stepIndex = computed(\"stepIndex\");\n  const step = computed(\"step\");\n  const hasTarget = typeof step?.target?.() !== \"undefined\";\n  const hasNextStep = computed(\"hasNextStep\");\n  const hasPrevStep = computed(\"hasPrevStep\");\n  const firstStep = computed(\"isFirstStep\");\n  const lastStep = computed(\"isLastStep\");\n  const placement = context.get(\"currentPlacement\");\n  const targetRect = context.get(\"targetRect\");\n  const popperStyles = getPlacementStyles({\n    strategy: \"absolute\",\n    placement: isTooltipPlacement(placement) ? placement : void 0\n  });\n  const clipPath = getClipPath({\n    enabled: isTooltipStep(step),\n    rect: targetRect,\n    rootSize: context.get(\"boundarySize\"),\n    radius: prop(\"spotlightRadius\")\n  });\n  const actionMap = {\n    next() {\n      send({ type: \"STEP.NEXT\", src: \"actionTrigger\" });\n    },\n    prev() {\n      send({ type: \"STEP.PREV\", src: \"actionTrigger\" });\n    },\n    dismiss() {\n      send({ type: \"DISMISS\", src: \"actionTrigger\" });\n    },\n    goto(id) {\n      send({ type: \"STEP.SET\", value: id, src: \"actionTrigger\" });\n    }\n  };\n  return {\n    open,\n    totalSteps: steps.length,\n    stepIndex,\n    step,\n    hasNextStep,\n    hasPrevStep,\n    firstStep,\n    lastStep,\n    addStep(step2) {\n      const next = steps.concat(step2);\n      send({ type: \"STEPS.SET\", value: next, src: \"addStep\" });\n    },\n    removeStep(id) {\n      const next = steps.filter((step2) => step2.id !== id);\n      send({ type: \"STEPS.SET\", value: next, src: \"removeStep\" });\n    },\n    updateStep(id, stepOverrides) {\n      const next = steps.map((step2) => step2.id === id ? mergeProps(step2, stepOverrides) : step2);\n      send({ type: \"STEPS.SET\", value: next, src: \"updateStep\" });\n    },\n    setSteps(steps2) {\n      send({ type: \"STEPS.SET\", value: steps2, src: \"setSteps\" });\n    },\n    setStep(id) {\n      send({ type: \"STEP.SET\", value: id });\n    },\n    start(id) {\n      send({ type: \"START\", id });\n    },\n    isValidStep(id) {\n      return steps.some((step2) => step2.id === id);\n    },\n    isCurrentStep(id) {\n      return Boolean(step?.id === id);\n    },\n    next() {\n      send({ type: \"STEP.NEXT\" });\n    },\n    prev() {\n      send({ type: \"STEP.PREV\" });\n    },\n    getProgressPercent() {\n      return stepIndex / steps.length * 100;\n    },\n    getProgressText() {\n      const effectiveSteps = steps.filter((step2) => step2.type !== \"wait\");\n      const index = findStepIndex(effectiveSteps, step?.id);\n      const details = { current: index, total: effectiveSteps.length };\n      return prop(\"translations\").progressText?.(details) ?? \"\";\n    },\n    getBackdropProps() {\n      return normalize.element({\n        ...parts.backdrop.attrs,\n        id: getBackdropId(scope),\n        dir: prop(\"dir\"),\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-type\": step?.type,\n        style: {\n          \"--tour-layer\": 0,\n          clipPath: isTooltipStep(step) ? `path(\"${clipPath}\")` : void 0,\n          position: \"absolute\",\n          inset: \"0\",\n          willChange: \"clip-path\"\n        }\n      });\n    },\n    getSpotlightProps() {\n      return normalize.element({\n        ...parts.spotlight.attrs,\n        hidden: !open || !step?.target?.(),\n        style: {\n          \"--tour-layer\": 1,\n          position: \"absolute\",\n          width: `${targetRect.width}px`,\n          height: `${targetRect.height}px`,\n          left: `${targetRect.x}px`,\n          top: `${targetRect.y}px`,\n          borderRadius: `${prop(\"spotlightRadius\")}px`,\n          pointerEvents: \"none\"\n        }\n      });\n    },\n    getProgressTextProps() {\n      return normalize.element({\n        ...parts.progressText.attrs\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        \"data-type\": step?.type,\n        \"data-placement\": placement,\n        style: {\n          \"--tour-layer\": 2,\n          ...step?.type === \"tooltip\" && popperStyles.floating\n        }\n      });\n    },\n    getArrowProps() {\n      return normalize.element({\n        id: getArrowId(scope),\n        ...parts.arrow.attrs,\n        dir: prop(\"dir\"),\n        hidden: step?.type !== \"tooltip\",\n        style: step?.type === \"tooltip\" ? popperStyles.arrow : void 0,\n        opacity: hasTarget ? void 0 : 0\n      });\n    },\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: prop(\"dir\"),\n        style: popperStyles.arrowTip\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        id: getContentId(scope),\n        dir: prop(\"dir\"),\n        role: \"alertdialog\",\n        \"aria-modal\": \"true\",\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\",\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-type\": step?.type,\n        \"data-placement\": placement,\n        \"data-step\": step?.id,\n        \"aria-labelledby\": getTitleId(scope),\n        \"aria-describedby\": getDescriptionId(scope),\n        tabIndex: -1,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!prop(\"keyboardNavigation\")) return;\n          const isRtl = prop(\"dir\") === \"rtl\";\n          switch (event.key) {\n            case \"ArrowRight\":\n              if (!hasNextStep) return;\n              send({ type: isRtl ? \"STEP.PREV\" : \"STEP.NEXT\", src: \"keydown\" });\n              break;\n            case \"ArrowLeft\":\n              if (!hasPrevStep) return;\n              send({ type: isRtl ? \"STEP.NEXT\" : \"STEP.PREV\", src: \"keydown\" });\n              break;\n          }\n        }\n      });\n    },\n    getTitleProps() {\n      return normalize.element({\n        ...parts.title.attrs,\n        id: getTitleId(scope),\n        \"data-placement\": hasTarget ? placement : \"center\"\n      });\n    },\n    getDescriptionProps() {\n      return normalize.element({\n        ...parts.description.attrs,\n        id: getDescriptionId(scope),\n        \"data-placement\": hasTarget ? placement : \"center\"\n      });\n    },\n    getCloseTriggerProps() {\n      return normalize.element({\n        ...parts.closeTrigger.attrs,\n        \"data-type\": step?.type,\n        \"aria-label\": prop(\"translations\").close,\n        onClick: actionMap.dismiss\n      });\n    },\n    getActionTriggerProps(props2) {\n      const { action, attrs } = props2.action;\n      let actionProps = {};\n      switch (action) {\n        case \"next\":\n          actionProps = {\n            \"data-type\": \"next\",\n            disabled: !hasNextStep,\n            \"data-disabled\": dataAttr(!hasNextStep),\n            \"aria-label\": prop(\"translations\").nextStep,\n            onClick: actionMap.next\n          };\n          break;\n        case \"prev\":\n          actionProps = {\n            \"data-type\": \"prev\",\n            disabled: !hasPrevStep,\n            \"data-disabled\": dataAttr(!hasPrevStep),\n            \"aria-label\": prop(\"translations\").prevStep,\n            onClick: actionMap.prev\n          };\n          break;\n        case \"dismiss\":\n          actionProps = {\n            \"data-type\": \"close\",\n            \"aria-label\": prop(\"translations\").close,\n            onClick: actionMap.dismiss\n          };\n          break;\n        default:\n          actionProps = {\n            \"data-type\": \"custom\",\n            onClick() {\n              if (typeof action === \"function\") {\n                action(actionMap);\n              }\n            }\n          };\n          break;\n      }\n      return normalize.button({\n        ...parts.actionTrigger.attrs,\n        type: \"button\",\n        ...attrs,\n        ...actionProps\n      });\n    }\n  };\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nvar normalizeEventPoint = (event) => {\n  let clientX = event.clientX;\n  let clientY = event.clientY;\n  let win = event.view || window;\n  let frame = getFrameElement(win);\n  while (frame) {\n    const iframeRect = frame.getBoundingClientRect();\n    const css = getComputedStyle(frame);\n    const left = iframeRect.left + (frame.clientLeft + parseFloat(css.paddingLeft));\n    const top = iframeRect.top + (frame.clientTop + parseFloat(css.paddingTop));\n    clientX += left;\n    clientY += top;\n    win = getWindow(frame);\n    frame = getFrameElement(win);\n  }\n  return { clientX, clientY };\n};\nfunction isEventInRect(rect, event) {\n  const { clientX, clientY } = normalizeEventPoint(event);\n  return rect.y <= clientY && clientY <= rect.y + rect.height && rect.x <= clientX && clientX <= rect.x + rect.width;\n}\nfunction offset(r, i) {\n  const dx = i.x || 0;\n  const dy = i.y || 0;\n  return {\n    x: r.x - dx,\n    y: r.y - dy,\n    width: r.width + dx + dx,\n    height: r.height + dy + dy\n  };\n}\n\n// src/tour.machine.ts\nvar { and } = createGuards();\nvar getEffectiveSteps = (steps) => steps.filter((step) => step.type !== \"wait\");\nvar getProgress = (steps, stepIndex) => {\n  const effectiveLength = getEffectiveSteps(steps).length;\n  return (stepIndex + 1) / effectiveLength;\n};\nvar machine = createMachine({\n  props({ props: props2 }) {\n    return {\n      preventInteraction: false,\n      closeOnInteractOutside: true,\n      closeOnEscape: true,\n      keyboardNavigation: true,\n      spotlightOffset: { x: 10, y: 10 },\n      spotlightRadius: 4,\n      ...props2,\n      translations: {\n        nextStep: \"next step\",\n        prevStep: \"previous step\",\n        close: \"close tour\",\n        progressText: ({ current, total }) => `${current + 1} of ${total}`,\n        skip: \"skip tour\",\n        ...props2.translations\n      }\n    };\n  },\n  initialState() {\n    return \"tour.inactive\";\n  },\n  context({ prop, bindable, getContext }) {\n    return {\n      steps: bindable(() => ({\n        defaultValue: prop(\"steps\") ?? [],\n        onChange(value) {\n          prop(\"onStepsChange\")?.({ steps: value });\n        }\n      })),\n      stepId: bindable(() => ({\n        defaultValue: prop(\"stepId\"),\n        sync: true,\n        onChange(value) {\n          const context = getContext();\n          const steps = context.get(\"steps\");\n          const stepIndex = findStepIndex(steps, value);\n          const progress = getProgress(steps, stepIndex);\n          const complete = stepIndex == steps.length - 1;\n          prop(\"onStepChange\")?.({ stepId: value, stepIndex, totalSteps: steps.length, complete, progress });\n        }\n      })),\n      resolvedTarget: bindable(() => ({\n        sync: true,\n        defaultValue: null\n      })),\n      targetRect: bindable(() => ({\n        defaultValue: { width: 0, height: 0, x: 0, y: 0 }\n      })),\n      boundarySize: bindable(() => ({\n        defaultValue: { width: 0, height: 0 }\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      }))\n    };\n  },\n  computed: {\n    stepIndex: ({ context }) => findStepIndex(context.get(\"steps\"), context.get(\"stepId\")),\n    step: ({ context }) => findStep(context.get(\"steps\"), context.get(\"stepId\")),\n    hasNextStep: ({ context, computed }) => computed(\"stepIndex\") < context.get(\"steps\").length - 1,\n    hasPrevStep: ({ computed }) => computed(\"stepIndex\") > 0,\n    isFirstStep: ({ computed }) => computed(\"stepIndex\") === 0,\n    isLastStep: ({ context, computed }) => computed(\"stepIndex\") === context.get(\"steps\").length - 1,\n    progress: ({ context, computed }) => {\n      const effectiveLength = getEffectiveSteps(context.get(\"steps\")).length;\n      return (computed(\"stepIndex\") + 1) / effectiveLength;\n    }\n  },\n  watch({ track, context, action }) {\n    track([() => context.get(\"stepId\")], () => {\n      queueMicrotask(() => {\n        action([\"setResolvedTarget\", \"raiseStepChange\", \"syncTargetAttrs\"]);\n      });\n    });\n  },\n  effects: [\"trackBoundarySize\"],\n  exit: [\"cleanupRefs\"],\n  on: {\n    \"STEPS.SET\": {\n      actions: [\"setSteps\"]\n    },\n    \"STEP.SET\": {\n      actions: [\"setStep\"]\n    },\n    \"STEP.NEXT\": {\n      actions: [\"setNextStep\"]\n    },\n    \"STEP.PREV\": {\n      actions: [\"setPrevStep\"]\n    },\n    \"STEP.CHANGED\": [\n      {\n        guard: and(\"isValidStep\", \"hasResolvedTarget\"),\n        target: \"target.scrolling\",\n        actions: [\"cleanupRefs\"]\n      },\n      {\n        guard: and(\"isValidStep\", \"hasTarget\"),\n        target: \"target.resolving\",\n        actions: [\"cleanupRefs\"]\n      },\n      {\n        guard: and(\"isValidStep\", \"isWaitingStep\"),\n        target: \"step.waiting\",\n        actions: [\"cleanupRefs\"]\n      },\n      {\n        guard: \"isValidStep\",\n        target: \"tour.active\",\n        actions: [\"cleanupRefs\"]\n      }\n    ],\n    DISMISS: [\n      {\n        guard: \"isLastStep\",\n        target: \"tour.inactive\",\n        actions: [\"invokeOnDismiss\", \"invokeOnComplete\", \"clearStep\"]\n      },\n      {\n        target: \"tour.inactive\",\n        actions: [\"invokeOnDismiss\", \"clearStep\"]\n      }\n    ]\n  },\n  states: {\n    \"tour.inactive\": {\n      tags: [\"closed\"],\n      on: {\n        START: {\n          actions: [\"setInitialStep\", \"invokeOnStart\"]\n        }\n      }\n    },\n    \"target.resolving\": {\n      tags: [\"closed\"],\n      effects: [\"waitForTarget\", \"waitForTargetTimeout\"],\n      on: {\n        \"TARGET.NOT_FOUND\": {\n          target: \"tour.inactive\",\n          actions: [\"invokeOnNotFound\", \"clearStep\"]\n        },\n        \"TARGET.RESOLVED\": {\n          target: \"target.scrolling\",\n          actions: [\"setResolvedTarget\"]\n        }\n      }\n    },\n    \"target.scrolling\": {\n      tags: [\"open\"],\n      entry: [\"scrollToTarget\"],\n      effects: [\n        \"waitForScrollEnd\",\n        \"trapFocus\",\n        \"trackPlacement\",\n        \"trackDismissableBranch\",\n        \"trackInteractOutside\",\n        \"trackEscapeKeydown\"\n      ],\n      on: {\n        \"SCROLL.END\": {\n          target: \"tour.active\"\n        }\n      }\n    },\n    \"step.waiting\": {\n      tags: [\"closed\"]\n    },\n    \"tour.active\": {\n      tags: [\"open\"],\n      effects: [\"trapFocus\", \"trackPlacement\", \"trackDismissableBranch\", \"trackInteractOutside\", \"trackEscapeKeydown\"]\n    }\n  },\n  implementations: {\n    guards: {\n      isLastStep: ({ computed, context }) => computed(\"stepIndex\") === context.get(\"steps\").length - 1,\n      isValidStep: ({ context }) => context.get(\"stepId\") != null,\n      hasTarget: ({ computed }) => computed(\"step\")?.target != null,\n      hasResolvedTarget: ({ context }) => context.get(\"resolvedTarget\") != null,\n      isWaitingStep: ({ computed }) => computed(\"step\")?.type === \"wait\"\n    },\n    actions: {\n      scrollToTarget({ context }) {\n        const node = context.get(\"resolvedTarget\");\n        node?.scrollIntoView({ behavior: \"instant\", block: \"center\", inline: \"center\" });\n      },\n      setStep(params) {\n        const { event } = params;\n        setStep(params, event.value);\n      },\n      clearStep(params) {\n        const { context } = params;\n        context.set(\"targetRect\", { width: 0, height: 0, x: 0, y: 0 });\n        setStep(params, -1);\n      },\n      setInitialStep(params) {\n        const { context, event } = params;\n        const steps = context.get(\"steps\");\n        if (steps.length === 0) return;\n        if (isString(event.value)) {\n          const idx = findStepIndex(steps, event.value);\n          setStep(params, idx);\n          return;\n        }\n        setStep(params, 0);\n      },\n      setNextStep(params) {\n        const { context, computed } = params;\n        const steps = context.get(\"steps\");\n        const idx = nextIndex(steps, computed(\"stepIndex\"));\n        setStep(params, idx);\n      },\n      setPrevStep(params) {\n        const { context, computed } = params;\n        const steps = context.get(\"steps\");\n        const idx = prevIndex(steps, computed(\"stepIndex\"));\n        setStep(params, idx);\n      },\n      invokeOnStart({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"started\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnDismiss({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"dismissed\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnComplete({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"completed\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnSkip({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"skipped\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnNotFound({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"not-found\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      raiseStepChange({ send }) {\n        send({ type: \"STEP.CHANGED\" });\n      },\n      setResolvedTarget({ context, event, computed }) {\n        const node = event.node ?? computed(\"step\")?.target?.();\n        context.set(\"resolvedTarget\", node ?? null);\n      },\n      syncTargetAttrs({ context, refs, prop }) {\n        refs.get(\"_targetCleanup\")?.();\n        refs.set(\"_targetCleanup\", void 0);\n        const targetEl = context.get(\"resolvedTarget\");\n        if (!targetEl) return;\n        if (prop(\"preventInteraction\")) targetEl.inert = true;\n        targetEl.setAttribute(\"data-tour-highlighted\", \"\");\n        refs.set(\"_targetCleanup\", () => {\n          if (prop(\"preventInteraction\")) targetEl.inert = false;\n          targetEl.removeAttribute(\"data-tour-highlighted\");\n        });\n      },\n      cleanupRefs({ refs }) {\n        refs.get(\"_targetCleanup\")?.();\n        refs.set(\"_targetCleanup\", void 0);\n        refs.get(\"_effectCleanup\")?.();\n        refs.set(\"_effectCleanup\", void 0);\n      },\n      validateSteps({ context }) {\n        const ids = /* @__PURE__ */ new Set();\n        context.get(\"steps\").forEach((step) => {\n          if (ids.has(step.id)) {\n            throw new Error(`[zag-js/tour] Duplicate step id: ${step.id}`);\n          }\n          if (step.target == null && step.type == null) {\n            throw new Error(`[zag-js/tour] Step ${step.id} has no target or type. At least one of those is required.`);\n          }\n          ids.add(step.id);\n        });\n      }\n    },\n    effects: {\n      waitForScrollEnd({ send }) {\n        const id = setTimeout(() => {\n          send({ type: \"SCROLL.END\" });\n        }, 100);\n        return () => clearTimeout(id);\n      },\n      waitForTargetTimeout({ send }) {\n        const id = setTimeout(() => {\n          send({ type: \"TARGET.NOT_FOUND\" });\n        }, 3e3);\n        return () => clearTimeout(id);\n      },\n      waitForTarget({ scope, computed, send }) {\n        const step = computed(\"step\");\n        if (!step) return;\n        const targetEl = step.target;\n        const win = scope.getWin();\n        const rootNode = scope.getRootNode();\n        const observer = new win.MutationObserver(() => {\n          const node = targetEl?.();\n          if (node) {\n            send({ type: \"TARGET.RESOLVED\", node });\n            observer.disconnect();\n          }\n        });\n        observer.observe(rootNode, {\n          childList: true,\n          subtree: true,\n          characterData: true\n        });\n        return () => {\n          observer.disconnect();\n        };\n      },\n      trackBoundarySize({ context, scope }) {\n        const win = scope.getWin();\n        const doc = scope.getDoc();\n        const onResize = () => {\n          const width = visualViewport?.width ?? win.innerWidth;\n          const height = doc.documentElement.scrollHeight;\n          context.set(\"boundarySize\", { width, height });\n        };\n        onResize();\n        const viewport = win.visualViewport ?? win;\n        viewport.addEventListener(\"resize\", onResize);\n        return () => viewport.removeEventListener(\"resize\", onResize);\n      },\n      trackEscapeKeydown({ scope, send, prop }) {\n        if (!prop(\"closeOnEscape\")) return;\n        const doc = scope.getDoc();\n        const onKeyDown = (event) => {\n          if (event.key === \"Escape\") {\n            event.preventDefault();\n            event.stopPropagation();\n            send({ type: \"DISMISS\", src: \"esc\" });\n          }\n        };\n        doc.addEventListener(\"keydown\", onKeyDown, true);\n        return () => {\n          doc.removeEventListener(\"keydown\", onKeyDown, true);\n        };\n      },\n      trackInteractOutside({ context, computed, scope, send, prop }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trackInteractOutside(contentEl, {\n          defer: true,\n          exclude(target) {\n            return contains(step.target?.(), target);\n          },\n          onFocusOutside(event) {\n            prop(\"onFocusOutside\")?.(event);\n            if (!prop(\"closeOnInteractOutside\")) {\n              event.preventDefault();\n            }\n          },\n          onPointerDownOutside(event) {\n            prop(\"onPointerDownOutside\")?.(event);\n            const isWithin = isEventInRect(context.get(\"targetRect\"), event.detail.originalEvent);\n            if (isWithin) {\n              event.preventDefault();\n              return;\n            }\n            if (!prop(\"closeOnInteractOutside\")) {\n              event.preventDefault();\n            }\n          },\n          onInteractOutside(event) {\n            prop(\"onInteractOutside\")?.(event);\n            if (event.defaultPrevented) return;\n            send({ type: \"DISMISS\", src: \"interact-outside\" });\n          }\n        });\n      },\n      trackDismissableBranch({ computed, scope }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trackDismissableBranch(contentEl, { defer: !contentEl() });\n      },\n      trapFocus({ computed, scope }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trapFocus(contentEl, {\n          escapeDeactivates: false,\n          allowOutsideClick: true,\n          preventScroll: true,\n          returnFocusOnDeactivate: false\n        });\n      },\n      trackPlacement({ context, computed, scope, prop }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        context.set(\"currentPlacement\", step.placement ?? \"bottom\");\n        if (isDialogStep(step)) {\n          return syncZIndex(scope);\n        }\n        if (!isTooltipStep(step)) {\n          return;\n        }\n        const positionerEl = () => getPositionerEl(scope);\n        return getPlacement(context.get(\"resolvedTarget\"), positionerEl, {\n          defer: true,\n          placement: step.placement ?? \"bottom\",\n          strategy: \"absolute\",\n          gutter: 10,\n          offset: step.offset,\n          getAnchorRect(el) {\n            if (!isHTMLElement(el)) return null;\n            const rect = el.getBoundingClientRect();\n            return offset(rect, prop(\"spotlightOffset\"));\n          },\n          onComplete(data) {\n            const { rects } = data.middlewareData;\n            context.set(\"currentPlacement\", data.placement);\n            context.set(\"targetRect\", rects.reference);\n          }\n        });\n      }\n    }\n  }\n});\nfunction syncZIndex(scope) {\n  return raf(() => {\n    const contentEl = getContentEl(scope);\n    if (!contentEl) return;\n    const styles = getComputedStyle$1(contentEl);\n    const positionerEl = getPositionerEl(scope);\n    const backdropEl = getBackdropEl(scope);\n    if (positionerEl) {\n      positionerEl.style.setProperty(\"--z-index\", styles.zIndex);\n      positionerEl.style.setProperty(\"z-index\", \"var(--z-index)\");\n    }\n    if (backdropEl) {\n      backdropEl.style.setProperty(\"--z-index\", styles.zIndex);\n    }\n  });\n}\nfunction setStep(params, idx) {\n  const { context, refs, computed, prop } = params;\n  const steps = context.get(\"steps\");\n  const step = steps[idx];\n  if (!step) {\n    context.set(\"stepId\", null);\n    return;\n  }\n  if (isEqual(context.get(\"stepId\"), step.id)) return;\n  const update = (data) => {\n    context.set(\"steps\", (prev) => prev.map((s, i) => i === idx ? { ...s, ...data } : s));\n  };\n  const next = () => {\n    const idx2 = nextIndex(steps, computed(\"stepIndex\"));\n    context.set(\"stepId\", steps[idx2].id);\n  };\n  const goto = (id) => {\n    const step2 = findStep(steps, id);\n    if (!step2) return;\n    context.set(\"stepId\", step2.id);\n  };\n  const dismiss = () => {\n    context.set(\"stepId\", null);\n    prop(\"onStatusChange\")?.({ status: \"dismissed\", stepId: null, stepIndex: -1 });\n  };\n  const show = () => {\n    context.set(\"stepId\", step.id);\n  };\n  if (!step.effect) {\n    show();\n    return;\n  }\n  const cleanup = step.effect({\n    show,\n    next,\n    update,\n    target: step.target,\n    dismiss,\n    goto\n  });\n  refs.set(\"_effectCleanup\", cleanup);\n}\nvar props = createProps()([\n  \"closeOnEscape\",\n  \"closeOnInteractOutside\",\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"keyboardNavigation\",\n  \"onFocusOutside\",\n  \"onInteractOutside\",\n  \"onPointerDownOutside\",\n  \"onStatusChange\",\n  \"onStepChange\",\n  \"onStepsChange\",\n  \"preventInteraction\",\n  \"spotlightOffset\",\n  \"spotlightRadius\",\n  \"stepId\",\n  \"steps\",\n  \"translations\"\n]);\nvar splitProps = createSplitProps(props);\nfunction waitForPromise(promise, controller, timeout) {\n  const { signal } = controller;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(new Error(`Timeout of ${timeout}ms exceeded`));\n    }, timeout);\n    signal.addEventListener(\"abort\", () => {\n      clearTimeout(timeoutId);\n      reject(new Error(\"Promise aborted\"));\n    });\n    promise.then((result) => {\n      if (!signal.aborted) {\n        clearTimeout(timeoutId);\n        resolve(result);\n      }\n    }).catch((error) => {\n      if (!signal.aborted) {\n        clearTimeout(timeoutId);\n        reject(error);\n      }\n    });\n  });\n  const abort = () => controller.abort();\n  return [wrappedPromise, abort];\n}\nfunction waitForElement(target, options) {\n  const { timeout, rootNode } = options;\n  const win = getWindow(rootNode);\n  const doc = getDocument(rootNode);\n  const controller = new win.AbortController();\n  return waitForPromise(\n    new Promise((resolve) => {\n      const el = target();\n      if (el) {\n        resolve(el);\n        return;\n      }\n      const observer = new win.MutationObserver(() => {\n        const el2 = target();\n        if (el2) {\n          observer.disconnect();\n          resolve(el2);\n        }\n      });\n      observer.observe(doc.body, {\n        childList: true,\n        subtree: true\n      });\n    }),\n    controller,\n    timeout\n  );\n}\nfunction waitForElementValue(target, value, options) {\n  const { timeout, rootNode } = options;\n  const win = getWindow(rootNode);\n  const controller = new win.AbortController();\n  return waitForPromise(\n    new Promise((resolve) => {\n      const el = target();\n      if (!el) return;\n      const checkValue = () => {\n        if (el.value === value) {\n          resolve();\n          el.removeEventListener(\"input\", checkValue);\n        }\n      };\n      checkValue();\n      el.addEventListener(\"input\", checkValue, { signal: controller.signal });\n    }),\n    controller,\n    timeout\n  );\n}\n\nexport { anatomy, connect, machine, props, splitProps, waitForElement, waitForElementValue };\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,YAAY,EAAEC,aAAa,EAAEC,UAAU,QAAQ,cAAc;AACtE,SAASC,aAAa,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,gBAAgB,IAAIC,kBAAkB,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,mBAAmB;AAC1I,SAASC,YAAY,EAAEC,kBAAkB,QAAQ,gBAAgB;AACjE,SAASC,sBAAsB,QAAQ,qBAAqB;AAC5D,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,oBAAoB,QAAQ,0BAA0B;AAC/D,SAASC,SAAS,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,gBAAgB,QAAQ,eAAe;AACzF,SAASC,WAAW,QAAQ,eAAe;;AAE3C;AACA,IAAIC,OAAO,GAAGvB,aAAa,CAAC,MAAM,CAAC,CAACwB,KAAK,CACvC,SAAS,EACT,eAAe,EACf,cAAc,EACd,cAAc,EACd,OAAO,EACP,aAAa,EACb,YAAY,EACZ,OAAO,EACP,UAAU,EACV,UAAU,EACV,WACF,CAAC;AACD,IAAIA,KAAK,GAAGD,OAAO,CAACE,KAAK,CAAC,CAAC;;AAE3B;AACA,IAAIC,eAAe,GAAIC,GAAG,IAAKA,GAAG,CAACC,GAAG,EAAEC,UAAU,IAAI,mBAAmBF,GAAG,CAACG,EAAE,EAAE;AACjF,IAAIC,YAAY,GAAIJ,GAAG,IAAKA,GAAG,CAACC,GAAG,EAAEI,OAAO,IAAI,gBAAgBL,GAAG,CAACG,EAAE,EAAE;AACxE,IAAIG,UAAU,GAAIN,GAAG,IAAKA,GAAG,CAACC,GAAG,EAAEM,KAAK,IAAI,cAAcP,GAAG,CAACG,EAAE,EAAE;AAClE,IAAIK,gBAAgB,GAAIR,GAAG,IAAKA,GAAG,CAACC,GAAG,EAAEQ,WAAW,IAAI,aAAaT,GAAG,CAACG,EAAE,EAAE;AAC7E,IAAIO,UAAU,GAAIV,GAAG,IAAKA,GAAG,CAACC,GAAG,EAAEU,KAAK,IAAI,cAAcX,GAAG,CAACG,EAAE,EAAE;AAClE,IAAIS,aAAa,GAAIZ,GAAG,IAAKA,GAAG,CAACC,GAAG,EAAEY,QAAQ,IAAI,iBAAiBb,GAAG,CAACG,EAAE,EAAE;AAC3E,IAAIW,YAAY,GAAId,GAAG,IAAKA,GAAG,CAACe,OAAO,CAACX,YAAY,CAACJ,GAAG,CAAC,CAAC;AAC1D,IAAIgB,eAAe,GAAIhB,GAAG,IAAKA,GAAG,CAACe,OAAO,CAAChB,eAAe,CAACC,GAAG,CAAC,CAAC;AAChE,IAAIiB,aAAa,GAAIjB,GAAG,IAAKA,GAAG,CAACe,OAAO,CAACH,aAAa,CAACZ,GAAG,CAAC,CAAC;;AAE5D;AACA,SAASkB,WAAWA,CAACC,OAAO,EAAE;EAC5B,MAAM;IACJC,MAAM,GAAG,CAAC;IACVC,QAAQ,EAAE;MAAEC,KAAK,EAAEC,CAAC;MAAEC,MAAM,EAAEC;IAAE,CAAC;IACjCC,IAAI,EAAE;MAAEJ,KAAK;MAAEE,MAAM;MAAEG,CAAC;MAAEC;IAAE,CAAC;IAC7BC,OAAO,GAAG;EACZ,CAAC,GAAGV,OAAO;EACX,IAAI,CAACU,OAAO,EAAE,OAAO,EAAE;EACvB,MAAM;IACJC,OAAO,GAAG,CAAC;IACXC,QAAQ,GAAG,CAAC;IACZC,WAAW,GAAG,CAAC;IACfC,UAAU,GAAG;EACf,CAAC,GAAG,OAAOb,MAAM,KAAK,QAAQ,GAAG;IAAEU,OAAO,EAAEV,MAAM;IAAEW,QAAQ,EAAEX,MAAM;IAAEY,WAAW,EAAEZ,MAAM;IAAEa,UAAU,EAAEb;EAAO,CAAC,GAAGA,MAAM;EACxH,OAAO,IAAIG,CAAC,IAAIE,CAAC,cAAcF,CAAC,MAAME,CAAC,SAASE,CAAC,GAAGG,OAAO,IAAIF,CAAC,MAAME,OAAO,IAAIA,OAAO,UAAUA,OAAO,IAAIA,OAAO,MAAMN,MAAM,GAAGI,CAAC,GAAGK,UAAU,MAAMA,UAAU,IAAIA,UAAU,UAAUA,UAAU,IAAIA,UAAU,MAAMX,KAAK,GAAGK,CAAC,GAAGK,WAAW,MAAMA,WAAW,IAAIA,WAAW,UAAUA,WAAW,IAAIA,WAAW,MAAMJ,CAAC,GAAGG,QAAQ,MAAMA,QAAQ,IAAIA,QAAQ,UAAUA,QAAQ,IAAIA,QAAQ,KAAK;AACnY;;AAEA;AACA,IAAIG,aAAa,GAAIC,IAAI,IAAK;EAC5B,OAAOA,IAAI,EAAEC,IAAI,KAAK,SAAS;AACjC,CAAC;AACD,IAAIC,YAAY,GAAIF,IAAI,IAAK;EAC3B,OAAOA,IAAI,EAAEC,IAAI,KAAK,QAAQ;AAChC,CAAC;AACD,IAAIE,kBAAkB,GAAIC,SAAS,IAAK;EACtC,OAAOA,SAAS,IAAI,IAAI,IAAIA,SAAS,IAAI,QAAQ;AACnD,CAAC;AACD,IAAIC,aAAa,GAAIL,IAAI,IAAK;EAC5B,IAAIA,IAAI,CAACC,IAAI,KAAK,UAAU,EAAE;IAC5B,OAAO;MAAEvB,QAAQ,EAAE,KAAK;MAAEF,KAAK,EAAE,KAAK;MAAE4B,SAAS,EAAE,YAAY;MAAE,GAAGJ;IAAK,CAAC;EAC5E;EACA,IAAIA,IAAI,CAACM,MAAM,IAAI,IAAI,IAAIN,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;IACjD,OAAO;MAAEA,IAAI,EAAE,QAAQ;MAAEG,SAAS,EAAE,QAAQ;MAAE1B,QAAQ,EAAE,IAAI;MAAE,GAAGsB;IAAK,CAAC;EACzE;EACA,IAAI,CAACA,IAAI,CAACC,IAAI,IAAID,IAAI,CAACC,IAAI,KAAK,SAAS,EAAE;IACzC,OAAO;MAAEA,IAAI,EAAE,SAAS;MAAEzB,KAAK,EAAE,IAAI;MAAEE,QAAQ,EAAE,IAAI;MAAE,GAAGsB;IAAK,CAAC;EAClE;EACA,OAAOA,IAAI;AACb,CAAC;AACD,IAAIO,QAAQ,GAAGA,CAACC,KAAK,EAAExC,EAAE,KAAK;EAC5B,MAAMyC,GAAG,GAAGzC,EAAE,IAAI,IAAI,GAAGwC,KAAK,CAACE,IAAI,CAAEV,IAAI,IAAKA,IAAI,CAAChC,EAAE,KAAKA,EAAE,CAAC,GAAG,IAAI;EACpE,OAAOyC,GAAG,GAAGJ,aAAa,CAACI,GAAG,CAAC,GAAG,IAAI;AACxC,CAAC;AACD,IAAIE,aAAa,GAAGA,CAACH,KAAK,EAAExC,EAAE,KAAK;EACjC,OAAOA,EAAE,IAAI,IAAI,GAAGwC,KAAK,CAACI,SAAS,CAAEZ,IAAI,IAAKA,IAAI,CAAChC,EAAE,KAAKA,EAAE,CAAC,GAAG,CAAC,CAAC;AACpE,CAAC;;AAED;AACA,SAAS6C,OAAOA,CAACC,OAAO,EAAEC,SAAS,EAAE;EACnC,MAAM;IAAEC,KAAK;IAAEC,OAAO;IAAEC,QAAQ;IAAEC,IAAI;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGP,OAAO;EAC/D,MAAMQ,IAAI,GAAGN,KAAK,CAACO,MAAM,CAAC,MAAM,CAAC;EACjC,MAAMf,KAAK,GAAGgB,KAAK,CAACC,IAAI,CAACR,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC,CAAC;EAC9C,MAAMC,SAAS,GAAGT,QAAQ,CAAC,WAAW,CAAC;EACvC,MAAMlB,IAAI,GAAGkB,QAAQ,CAAC,MAAM,CAAC;EAC7B,MAAMU,SAAS,GAAG,OAAO5B,IAAI,EAAEM,MAAM,GAAG,CAAC,KAAK,WAAW;EACzD,MAAMuB,WAAW,GAAGX,QAAQ,CAAC,aAAa,CAAC;EAC3C,MAAMY,WAAW,GAAGZ,QAAQ,CAAC,aAAa,CAAC;EAC3C,MAAMa,SAAS,GAAGb,QAAQ,CAAC,aAAa,CAAC;EACzC,MAAMc,QAAQ,GAAGd,QAAQ,CAAC,YAAY,CAAC;EACvC,MAAMd,SAAS,GAAGa,OAAO,CAACS,GAAG,CAAC,kBAAkB,CAAC;EACjD,MAAMO,UAAU,GAAGhB,OAAO,CAACS,GAAG,CAAC,YAAY,CAAC;EAC5C,MAAMQ,YAAY,GAAGnF,kBAAkB,CAAC;IACtCoF,QAAQ,EAAE,UAAU;IACpB/B,SAAS,EAAED,kBAAkB,CAACC,SAAS,CAAC,GAAGA,SAAS,GAAG,KAAK;EAC9D,CAAC,CAAC;EACF,MAAMgC,QAAQ,GAAGrD,WAAW,CAAC;IAC3BW,OAAO,EAAEK,aAAa,CAACC,IAAI,CAAC;IAC5BT,IAAI,EAAE0C,UAAU;IAChB/C,QAAQ,EAAE+B,OAAO,CAACS,GAAG,CAAC,cAAc,CAAC;IACrCzC,MAAM,EAAEmC,IAAI,CAAC,iBAAiB;EAChC,CAAC,CAAC;EACF,MAAMiB,SAAS,GAAG;IAChBC,IAAIA,CAAA,EAAG;MACLnB,IAAI,CAAC;QAAElB,IAAI,EAAE,WAAW;QAAEsC,GAAG,EAAE;MAAgB,CAAC,CAAC;IACnD,CAAC;IACDC,IAAIA,CAAA,EAAG;MACLrB,IAAI,CAAC;QAAElB,IAAI,EAAE,WAAW;QAAEsC,GAAG,EAAE;MAAgB,CAAC,CAAC;IACnD,CAAC;IACDE,OAAOA,CAAA,EAAG;MACRtB,IAAI,CAAC;QAAElB,IAAI,EAAE,SAAS;QAAEsC,GAAG,EAAE;MAAgB,CAAC,CAAC;IACjD,CAAC;IACDG,IAAIA,CAAC1E,EAAE,EAAE;MACPmD,IAAI,CAAC;QAAElB,IAAI,EAAE,UAAU;QAAE0C,KAAK,EAAE3E,EAAE;QAAEuE,GAAG,EAAE;MAAgB,CAAC,CAAC;IAC7D;EACF,CAAC;EACD,OAAO;IACLjB,IAAI;IACJsB,UAAU,EAAEpC,KAAK,CAACqC,MAAM;IACxBlB,SAAS;IACT3B,IAAI;IACJ6B,WAAW;IACXC,WAAW;IACXC,SAAS;IACTC,QAAQ;IACRc,OAAOA,CAACC,KAAK,EAAE;MACb,MAAMT,IAAI,GAAG9B,KAAK,CAACwC,MAAM,CAACD,KAAK,CAAC;MAChC5B,IAAI,CAAC;QAAElB,IAAI,EAAE,WAAW;QAAE0C,KAAK,EAAEL,IAAI;QAAEC,GAAG,EAAE;MAAU,CAAC,CAAC;IAC1D,CAAC;IACDU,UAAUA,CAACjF,EAAE,EAAE;MACb,MAAMsE,IAAI,GAAG9B,KAAK,CAAC0C,MAAM,CAAEH,KAAK,IAAKA,KAAK,CAAC/E,EAAE,KAAKA,EAAE,CAAC;MACrDmD,IAAI,CAAC;QAAElB,IAAI,EAAE,WAAW;QAAE0C,KAAK,EAAEL,IAAI;QAAEC,GAAG,EAAE;MAAa,CAAC,CAAC;IAC7D,CAAC;IACDY,UAAUA,CAACnF,EAAE,EAAEoF,aAAa,EAAE;MAC5B,MAAMd,IAAI,GAAG9B,KAAK,CAAC6C,GAAG,CAAEN,KAAK,IAAKA,KAAK,CAAC/E,EAAE,KAAKA,EAAE,GAAG3B,UAAU,CAAC0G,KAAK,EAAEK,aAAa,CAAC,GAAGL,KAAK,CAAC;MAC7F5B,IAAI,CAAC;QAAElB,IAAI,EAAE,WAAW;QAAE0C,KAAK,EAAEL,IAAI;QAAEC,GAAG,EAAE;MAAa,CAAC,CAAC;IAC7D,CAAC;IACDe,QAAQA,CAACC,MAAM,EAAE;MACfpC,IAAI,CAAC;QAAElB,IAAI,EAAE,WAAW;QAAE0C,KAAK,EAAEY,MAAM;QAAEhB,GAAG,EAAE;MAAW,CAAC,CAAC;IAC7D,CAAC;IACDiB,OAAOA,CAACxF,EAAE,EAAE;MACVmD,IAAI,CAAC;QAAElB,IAAI,EAAE,UAAU;QAAE0C,KAAK,EAAE3E;MAAG,CAAC,CAAC;IACvC,CAAC;IACDyF,KAAKA,CAACzF,EAAE,EAAE;MACRmD,IAAI,CAAC;QAAElB,IAAI,EAAE,OAAO;QAAEjC;MAAG,CAAC,CAAC;IAC7B,CAAC;IACD0F,WAAWA,CAAC1F,EAAE,EAAE;MACd,OAAOwC,KAAK,CAACmD,IAAI,CAAEZ,KAAK,IAAKA,KAAK,CAAC/E,EAAE,KAAKA,EAAE,CAAC;IAC/C,CAAC;IACD4F,aAAaA,CAAC5F,EAAE,EAAE;MAChB,OAAO6F,OAAO,CAAC7D,IAAI,EAAEhC,EAAE,KAAKA,EAAE,CAAC;IACjC,CAAC;IACDsE,IAAIA,CAAA,EAAG;MACLnB,IAAI,CAAC;QAAElB,IAAI,EAAE;MAAY,CAAC,CAAC;IAC7B,CAAC;IACDuC,IAAIA,CAAA,EAAG;MACLrB,IAAI,CAAC;QAAElB,IAAI,EAAE;MAAY,CAAC,CAAC;IAC7B,CAAC;IACD6D,kBAAkBA,CAAA,EAAG;MACnB,OAAOnC,SAAS,GAAGnB,KAAK,CAACqC,MAAM,GAAG,GAAG;IACvC,CAAC;IACDkB,eAAeA,CAAA,EAAG;MAChB,MAAMC,cAAc,GAAGxD,KAAK,CAAC0C,MAAM,CAAEH,KAAK,IAAKA,KAAK,CAAC9C,IAAI,KAAK,MAAM,CAAC;MACrE,MAAMgE,KAAK,GAAGtD,aAAa,CAACqD,cAAc,EAAEhE,IAAI,EAAEhC,EAAE,CAAC;MACrD,MAAMkG,OAAO,GAAG;QAAEC,OAAO,EAAEF,KAAK;QAAEG,KAAK,EAAEJ,cAAc,CAACnB;MAAO,CAAC;MAChE,OAAOzB,IAAI,CAAC,cAAc,CAAC,CAACiD,YAAY,GAAGH,OAAO,CAAC,IAAI,EAAE;IAC3D,CAAC;IACDI,gBAAgBA,CAAA,EAAG;MACjB,OAAOvD,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAACgB,QAAQ,CAAC8F,KAAK;QACvBxG,EAAE,EAAES,aAAa,CAAC4C,KAAK,CAAC;QACxBoD,GAAG,EAAErD,IAAI,CAAC,KAAK,CAAC;QAChBsD,MAAM,EAAE,CAACpD,IAAI;QACb,YAAY,EAAEA,IAAI,GAAG,MAAM,GAAG,QAAQ;QACtC,WAAW,EAAEtB,IAAI,EAAEC,IAAI;QACvB0E,KAAK,EAAE;UACL,cAAc,EAAE,CAAC;UACjBvC,QAAQ,EAAErC,aAAa,CAACC,IAAI,CAAC,GAAG,SAASoC,QAAQ,IAAI,GAAG,KAAK,CAAC;UAC9DwC,QAAQ,EAAE,UAAU;UACpBC,KAAK,EAAE,GAAG;UACVC,UAAU,EAAE;QACd;MACF,CAAC,CAAC;IACJ,CAAC;IACDC,iBAAiBA,CAAA,EAAG;MAClB,OAAOhE,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAACsH,SAAS,CAACR,KAAK;QACxBE,MAAM,EAAE,CAACpD,IAAI,IAAI,CAACtB,IAAI,EAAEM,MAAM,GAAG,CAAC;QAClCqE,KAAK,EAAE;UACL,cAAc,EAAE,CAAC;UACjBC,QAAQ,EAAE,UAAU;UACpBzF,KAAK,EAAE,GAAG8C,UAAU,CAAC9C,KAAK,IAAI;UAC9BE,MAAM,EAAE,GAAG4C,UAAU,CAAC5C,MAAM,IAAI;UAChC4F,IAAI,EAAE,GAAGhD,UAAU,CAACzC,CAAC,IAAI;UACzB0F,GAAG,EAAE,GAAGjD,UAAU,CAACxC,CAAC,IAAI;UACxB0F,YAAY,EAAE,GAAG/D,IAAI,CAAC,iBAAiB,CAAC,IAAI;UAC5CgE,aAAa,EAAE;QACjB;MACF,CAAC,CAAC;IACJ,CAAC;IACDC,oBAAoBA,CAAA,EAAG;MACrB,OAAOtE,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAAC2G,YAAY,CAACG;MACxB,CAAC,CAAC;IACJ,CAAC;IACDc,kBAAkBA,CAAA,EAAG;MACnB,OAAOvE,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAACK,UAAU,CAACyG,KAAK;QACzBC,GAAG,EAAErD,IAAI,CAAC,KAAK,CAAC;QAChBpD,EAAE,EAAEJ,eAAe,CAACyD,KAAK,CAAC;QAC1B,WAAW,EAAErB,IAAI,EAAEC,IAAI;QACvB,gBAAgB,EAAEG,SAAS;QAC3BuE,KAAK,EAAE;UACL,cAAc,EAAE,CAAC;UACjB,IAAG3E,IAAI,EAAEC,IAAI,KAAK,SAAS,IAAIiC,YAAY,CAACqD,QAAQ;QACtD;MACF,CAAC,CAAC;IACJ,CAAC;IACDC,aAAaA,CAAA,EAAG;MACd,OAAOzE,SAAS,CAACwD,OAAO,CAAC;QACvBvG,EAAE,EAAEO,UAAU,CAAC8C,KAAK,CAAC;QACrB,GAAG3D,KAAK,CAACc,KAAK,CAACgG,KAAK;QACpBC,GAAG,EAAErD,IAAI,CAAC,KAAK,CAAC;QAChBsD,MAAM,EAAE1E,IAAI,EAAEC,IAAI,KAAK,SAAS;QAChC0E,KAAK,EAAE3E,IAAI,EAAEC,IAAI,KAAK,SAAS,GAAGiC,YAAY,CAAC1D,KAAK,GAAG,KAAK,CAAC;QAC7DiH,OAAO,EAAE7D,SAAS,GAAG,KAAK,CAAC,GAAG;MAChC,CAAC,CAAC;IACJ,CAAC;IACD8D,gBAAgBA,CAAA,EAAG;MACjB,OAAO3E,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAACiI,QAAQ,CAACnB,KAAK;QACvBC,GAAG,EAAErD,IAAI,CAAC,KAAK,CAAC;QAChBuD,KAAK,EAAEzC,YAAY,CAACyD;MACtB,CAAC,CAAC;IACJ,CAAC;IACDC,eAAeA,CAAA,EAAG;MAChB,OAAO7E,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAACQ,OAAO,CAACsG,KAAK;QACtBxG,EAAE,EAAEC,YAAY,CAACoD,KAAK,CAAC;QACvBoD,GAAG,EAAErD,IAAI,CAAC,KAAK,CAAC;QAChByE,IAAI,EAAE,aAAa;QACnB,YAAY,EAAE,MAAM;QACpB,WAAW,EAAE,QAAQ;QACrB,aAAa,EAAE,MAAM;QACrBnB,MAAM,EAAE,CAACpD,IAAI;QACb,YAAY,EAAEA,IAAI,GAAG,MAAM,GAAG,QAAQ;QACtC,WAAW,EAAEtB,IAAI,EAAEC,IAAI;QACvB,gBAAgB,EAAEG,SAAS;QAC3B,WAAW,EAAEJ,IAAI,EAAEhC,EAAE;QACrB,iBAAiB,EAAEG,UAAU,CAACkD,KAAK,CAAC;QACpC,kBAAkB,EAAEhD,gBAAgB,CAACgD,KAAK,CAAC;QAC3CyE,QAAQ,EAAE,CAAC,CAAC;QACZC,SAASA,CAACC,KAAK,EAAE;UACf,IAAIA,KAAK,CAACC,gBAAgB,EAAE;UAC5B,IAAI,CAAC7E,IAAI,CAAC,oBAAoB,CAAC,EAAE;UACjC,MAAM8E,KAAK,GAAG9E,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK;UACnC,QAAQ4E,KAAK,CAACG,GAAG;YACf,KAAK,YAAY;cACf,IAAI,CAACtE,WAAW,EAAE;cAClBV,IAAI,CAAC;gBAAElB,IAAI,EAAEiG,KAAK,GAAG,WAAW,GAAG,WAAW;gBAAE3D,GAAG,EAAE;cAAU,CAAC,CAAC;cACjE;YACF,KAAK,WAAW;cACd,IAAI,CAACT,WAAW,EAAE;cAClBX,IAAI,CAAC;gBAAElB,IAAI,EAAEiG,KAAK,GAAG,WAAW,GAAG,WAAW;gBAAE3D,GAAG,EAAE;cAAU,CAAC,CAAC;cACjE;UACJ;QACF;MACF,CAAC,CAAC;IACJ,CAAC;IACD6D,aAAaA,CAAA,EAAG;MACd,OAAOrF,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAACU,KAAK,CAACoG,KAAK;QACpBxG,EAAE,EAAEG,UAAU,CAACkD,KAAK,CAAC;QACrB,gBAAgB,EAAEO,SAAS,GAAGxB,SAAS,GAAG;MAC5C,CAAC,CAAC;IACJ,CAAC;IACDiG,mBAAmBA,CAAA,EAAG;MACpB,OAAOtF,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAACY,WAAW,CAACkG,KAAK;QAC1BxG,EAAE,EAAEK,gBAAgB,CAACgD,KAAK,CAAC;QAC3B,gBAAgB,EAAEO,SAAS,GAAGxB,SAAS,GAAG;MAC5C,CAAC,CAAC;IACJ,CAAC;IACDkG,oBAAoBA,CAAA,EAAG;MACrB,OAAOvF,SAAS,CAACwD,OAAO,CAAC;QACvB,GAAG7G,KAAK,CAAC6I,YAAY,CAAC/B,KAAK;QAC3B,WAAW,EAAExE,IAAI,EAAEC,IAAI;QACvB,YAAY,EAAEmB,IAAI,CAAC,cAAc,CAAC,CAACoF,KAAK;QACxCC,OAAO,EAAEpE,SAAS,CAACI;MACrB,CAAC,CAAC;IACJ,CAAC;IACDiE,qBAAqBA,CAACC,MAAM,EAAE;MAC5B,MAAM;QAAEC,MAAM;QAAEpC;MAAM,CAAC,GAAGmC,MAAM,CAACC,MAAM;MACvC,IAAIC,WAAW,GAAG,CAAC,CAAC;MACpB,QAAQD,MAAM;QACZ,KAAK,MAAM;UACTC,WAAW,GAAG;YACZ,WAAW,EAAE,MAAM;YACnBC,QAAQ,EAAE,CAACjF,WAAW;YACtB,eAAe,EAAEjF,QAAQ,CAAC,CAACiF,WAAW,CAAC;YACvC,YAAY,EAAET,IAAI,CAAC,cAAc,CAAC,CAAC2F,QAAQ;YAC3CN,OAAO,EAAEpE,SAAS,CAACC;UACrB,CAAC;UACD;QACF,KAAK,MAAM;UACTuE,WAAW,GAAG;YACZ,WAAW,EAAE,MAAM;YACnBC,QAAQ,EAAE,CAAChF,WAAW;YACtB,eAAe,EAAElF,QAAQ,CAAC,CAACkF,WAAW,CAAC;YACvC,YAAY,EAAEV,IAAI,CAAC,cAAc,CAAC,CAAC4F,QAAQ;YAC3CP,OAAO,EAAEpE,SAAS,CAACG;UACrB,CAAC;UACD;QACF,KAAK,SAAS;UACZqE,WAAW,GAAG;YACZ,WAAW,EAAE,OAAO;YACpB,YAAY,EAAEzF,IAAI,CAAC,cAAc,CAAC,CAACoF,KAAK;YACxCC,OAAO,EAAEpE,SAAS,CAACI;UACrB,CAAC;UACD;QACF;UACEoE,WAAW,GAAG;YACZ,WAAW,EAAE,QAAQ;YACrBJ,OAAOA,CAAA,EAAG;cACR,IAAI,OAAOG,MAAM,KAAK,UAAU,EAAE;gBAChCA,MAAM,CAACvE,SAAS,CAAC;cACnB;YACF;UACF,CAAC;UACD;MACJ;MACA,OAAOtB,SAAS,CAACkG,MAAM,CAAC;QACtB,GAAGvJ,KAAK,CAACwJ,aAAa,CAAC1C,KAAK;QAC5BvE,IAAI,EAAE,QAAQ;QACd,GAAGuE,KAAK;QACR,GAAGqC;MACL,CAAC,CAAC;IACJ;EACF,CAAC;AACH;AACA,SAASM,eAAeA,CAACC,GAAG,EAAE;EAC5B,OAAOA,GAAG,CAACC,MAAM,IAAIC,MAAM,CAACC,cAAc,CAACH,GAAG,CAACC,MAAM,CAAC,GAAGD,GAAG,CAACI,YAAY,GAAG,IAAI;AAClF;AACA,IAAIC,mBAAmB,GAAIzB,KAAK,IAAK;EACnC,IAAI0B,OAAO,GAAG1B,KAAK,CAAC0B,OAAO;EAC3B,IAAIC,OAAO,GAAG3B,KAAK,CAAC2B,OAAO;EAC3B,IAAIP,GAAG,GAAGpB,KAAK,CAAC4B,IAAI,IAAIC,MAAM;EAC9B,IAAIC,KAAK,GAAGX,eAAe,CAACC,GAAG,CAAC;EAChC,OAAOU,KAAK,EAAE;IACZ,MAAMC,UAAU,GAAGD,KAAK,CAACE,qBAAqB,CAAC,CAAC;IAChD,MAAMC,GAAG,GAAGxL,gBAAgB,CAACqL,KAAK,CAAC;IACnC,MAAM7C,IAAI,GAAG8C,UAAU,CAAC9C,IAAI,IAAI6C,KAAK,CAACI,UAAU,GAAGC,UAAU,CAACF,GAAG,CAACG,WAAW,CAAC,CAAC;IAC/E,MAAMlD,GAAG,GAAG6C,UAAU,CAAC7C,GAAG,IAAI4C,KAAK,CAACO,SAAS,GAAGF,UAAU,CAACF,GAAG,CAACK,UAAU,CAAC,CAAC;IAC3EZ,OAAO,IAAIzC,IAAI;IACf0C,OAAO,IAAIzC,GAAG;IACdkC,GAAG,GAAGzK,SAAS,CAACmL,KAAK,CAAC;IACtBA,KAAK,GAAGX,eAAe,CAACC,GAAG,CAAC;EAC9B;EACA,OAAO;IAAEM,OAAO;IAAEC;EAAQ,CAAC;AAC7B,CAAC;AACD,SAASY,aAAaA,CAAChJ,IAAI,EAAEyG,KAAK,EAAE;EAClC,MAAM;IAAE0B,OAAO;IAAEC;EAAQ,CAAC,GAAGF,mBAAmB,CAACzB,KAAK,CAAC;EACvD,OAAOzG,IAAI,CAACE,CAAC,IAAIkI,OAAO,IAAIA,OAAO,IAAIpI,IAAI,CAACE,CAAC,GAAGF,IAAI,CAACF,MAAM,IAAIE,IAAI,CAACC,CAAC,IAAIkI,OAAO,IAAIA,OAAO,IAAInI,IAAI,CAACC,CAAC,GAAGD,IAAI,CAACJ,KAAK;AACpH;AACA,SAASqJ,MAAMA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACpB,MAAMC,EAAE,GAAGD,CAAC,CAAClJ,CAAC,IAAI,CAAC;EACnB,MAAMoJ,EAAE,GAAGF,CAAC,CAACjJ,CAAC,IAAI,CAAC;EACnB,OAAO;IACLD,CAAC,EAAEiJ,CAAC,CAACjJ,CAAC,GAAGmJ,EAAE;IACXlJ,CAAC,EAAEgJ,CAAC,CAAChJ,CAAC,GAAGmJ,EAAE;IACXzJ,KAAK,EAAEsJ,CAAC,CAACtJ,KAAK,GAAGwJ,EAAE,GAAGA,EAAE;IACxBtJ,MAAM,EAAEoJ,CAAC,CAACpJ,MAAM,GAAGuJ,EAAE,GAAGA;EAC1B,CAAC;AACH;;AAEA;AACA,IAAI;EAAEC;AAAI,CAAC,GAAG1M,YAAY,CAAC,CAAC;AAC5B,IAAI2M,iBAAiB,GAAItI,KAAK,IAAKA,KAAK,CAAC0C,MAAM,CAAElD,IAAI,IAAKA,IAAI,CAACC,IAAI,KAAK,MAAM,CAAC;AAC/E,IAAI8I,WAAW,GAAGA,CAACvI,KAAK,EAAEmB,SAAS,KAAK;EACtC,MAAMqH,eAAe,GAAGF,iBAAiB,CAACtI,KAAK,CAAC,CAACqC,MAAM;EACvD,OAAO,CAAClB,SAAS,GAAG,CAAC,IAAIqH,eAAe;AAC1C,CAAC;AACD,IAAIC,OAAO,GAAG7M,aAAa,CAAC;EAC1B8M,KAAKA,CAAC;IAAEA,KAAK,EAAEvC;EAAO,CAAC,EAAE;IACvB,OAAO;MACLwC,kBAAkB,EAAE,KAAK;MACzBC,sBAAsB,EAAE,IAAI;MAC5BC,aAAa,EAAE,IAAI;MACnBC,kBAAkB,EAAE,IAAI;MACxBC,eAAe,EAAE;QAAE/J,CAAC,EAAE,EAAE;QAAEC,CAAC,EAAE;MAAG,CAAC;MACjC+J,eAAe,EAAE,CAAC;MAClB,GAAG7C,MAAM;MACT8C,YAAY,EAAE;QACZ1C,QAAQ,EAAE,WAAW;QACrBC,QAAQ,EAAE,eAAe;QACzBR,KAAK,EAAE,YAAY;QACnBnC,YAAY,EAAEA,CAAC;UAAEF,OAAO;UAAEC;QAAM,CAAC,KAAK,GAAGD,OAAO,GAAG,CAAC,OAAOC,KAAK,EAAE;QAClEsF,IAAI,EAAE,WAAW;QACjB,GAAG/C,MAAM,CAAC8C;MACZ;IACF,CAAC;EACH,CAAC;EACDE,YAAYA,CAAA,EAAG;IACb,OAAO,eAAe;EACxB,CAAC;EACD1I,OAAOA,CAAC;IAAEG,IAAI;IAAEwI,QAAQ;IAAEC;EAAW,CAAC,EAAE;IACtC,OAAO;MACLrJ,KAAK,EAAEoJ,QAAQ,CAAC,OAAO;QACrBE,YAAY,EAAE1I,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;QACjC2I,QAAQA,CAACpH,KAAK,EAAE;UACdvB,IAAI,CAAC,eAAe,CAAC,GAAG;YAAEZ,KAAK,EAAEmC;UAAM,CAAC,CAAC;QAC3C;MACF,CAAC,CAAC,CAAC;MACHqH,MAAM,EAAEJ,QAAQ,CAAC,OAAO;QACtBE,YAAY,EAAE1I,IAAI,CAAC,QAAQ,CAAC;QAC5B6I,IAAI,EAAE,IAAI;QACVF,QAAQA,CAACpH,KAAK,EAAE;UACd,MAAM1B,OAAO,GAAG4I,UAAU,CAAC,CAAC;UAC5B,MAAMrJ,KAAK,GAAGS,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC;UAClC,MAAMC,SAAS,GAAGhB,aAAa,CAACH,KAAK,EAAEmC,KAAK,CAAC;UAC7C,MAAMuH,QAAQ,GAAGnB,WAAW,CAACvI,KAAK,EAAEmB,SAAS,CAAC;UAC9C,MAAMwI,QAAQ,GAAGxI,SAAS,IAAInB,KAAK,CAACqC,MAAM,GAAG,CAAC;UAC9CzB,IAAI,CAAC,cAAc,CAAC,GAAG;YAAE4I,MAAM,EAAErH,KAAK;YAAEhB,SAAS;YAAEiB,UAAU,EAAEpC,KAAK,CAACqC,MAAM;YAAEsH,QAAQ;YAAED;UAAS,CAAC,CAAC;QACpG;MACF,CAAC,CAAC,CAAC;MACHE,cAAc,EAAER,QAAQ,CAAC,OAAO;QAC9BK,IAAI,EAAE,IAAI;QACVH,YAAY,EAAE;MAChB,CAAC,CAAC,CAAC;MACH7H,UAAU,EAAE2H,QAAQ,CAAC,OAAO;QAC1BE,YAAY,EAAE;UAAE3K,KAAK,EAAE,CAAC;UAAEE,MAAM,EAAE,CAAC;UAAEG,CAAC,EAAE,CAAC;UAAEC,CAAC,EAAE;QAAE;MAClD,CAAC,CAAC,CAAC;MACH4K,YAAY,EAAET,QAAQ,CAAC,OAAO;QAC5BE,YAAY,EAAE;UAAE3K,KAAK,EAAE,CAAC;UAAEE,MAAM,EAAE;QAAE;MACtC,CAAC,CAAC,CAAC;MACHiL,gBAAgB,EAAEV,QAAQ,CAAC,OAAO;QAChCE,YAAY,EAAE,KAAK;MACrB,CAAC,CAAC;IACJ,CAAC;EACH,CAAC;EACD5I,QAAQ,EAAE;IACRS,SAAS,EAAEA,CAAC;MAAEV;IAAQ,CAAC,KAAKN,aAAa,CAACM,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC,EAAET,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC,CAAC;IACtF1B,IAAI,EAAEA,CAAC;MAAEiB;IAAQ,CAAC,KAAKV,QAAQ,CAACU,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC,EAAET,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC5EG,WAAW,EAAEA,CAAC;MAAEZ,OAAO;MAAEC;IAAS,CAAC,KAAKA,QAAQ,CAAC,WAAW,CAAC,GAAGD,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC,CAACmB,MAAM,GAAG,CAAC;IAC/Ff,WAAW,EAAEA,CAAC;MAAEZ;IAAS,CAAC,KAAKA,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC;IACxDqJ,WAAW,EAAEA,CAAC;MAAErJ;IAAS,CAAC,KAAKA,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC;IAC1DsJ,UAAU,EAAEA,CAAC;MAAEvJ,OAAO;MAAEC;IAAS,CAAC,KAAKA,QAAQ,CAAC,WAAW,CAAC,KAAKD,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC,CAACmB,MAAM,GAAG,CAAC;IAChGqH,QAAQ,EAAEA,CAAC;MAAEjJ,OAAO;MAAEC;IAAS,CAAC,KAAK;MACnC,MAAM8H,eAAe,GAAGF,iBAAiB,CAAC7H,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC,CAAC,CAACmB,MAAM;MACtE,OAAO,CAAC3B,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI8H,eAAe;IACtD;EACF,CAAC;EACDyB,KAAKA,CAAC;IAAEC,KAAK;IAAEzJ,OAAO;IAAE2F;EAAO,CAAC,EAAE;IAChC8D,KAAK,CAAC,CAAC,MAAMzJ,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM;MACzCiJ,cAAc,CAAC,MAAM;QACnB/D,MAAM,CAAC,CAAC,mBAAmB,EAAE,iBAAiB,EAAE,iBAAiB,CAAC,CAAC;MACrE,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EACDgE,OAAO,EAAE,CAAC,mBAAmB,CAAC;EAC9BC,IAAI,EAAE,CAAC,aAAa,CAAC;EACrBC,EAAE,EAAE;IACF,WAAW,EAAE;MACXC,OAAO,EAAE,CAAC,UAAU;IACtB,CAAC;IACD,UAAU,EAAE;MACVA,OAAO,EAAE,CAAC,SAAS;IACrB,CAAC;IACD,WAAW,EAAE;MACXA,OAAO,EAAE,CAAC,aAAa;IACzB,CAAC;IACD,WAAW,EAAE;MACXA,OAAO,EAAE,CAAC,aAAa;IACzB,CAAC;IACD,cAAc,EAAE,CACd;MACEC,KAAK,EAAEnC,GAAG,CAAC,aAAa,EAAE,mBAAmB,CAAC;MAC9CvI,MAAM,EAAE,kBAAkB;MAC1ByK,OAAO,EAAE,CAAC,aAAa;IACzB,CAAC,EACD;MACEC,KAAK,EAAEnC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;MACtCvI,MAAM,EAAE,kBAAkB;MAC1ByK,OAAO,EAAE,CAAC,aAAa;IACzB,CAAC,EACD;MACEC,KAAK,EAAEnC,GAAG,CAAC,aAAa,EAAE,eAAe,CAAC;MAC1CvI,MAAM,EAAE,cAAc;MACtByK,OAAO,EAAE,CAAC,aAAa;IACzB,CAAC,EACD;MACEC,KAAK,EAAE,aAAa;MACpB1K,MAAM,EAAE,aAAa;MACrByK,OAAO,EAAE,CAAC,aAAa;IACzB,CAAC,CACF;IACDE,OAAO,EAAE,CACP;MACED,KAAK,EAAE,YAAY;MACnB1K,MAAM,EAAE,eAAe;MACvByK,OAAO,EAAE,CAAC,iBAAiB,EAAE,kBAAkB,EAAE,WAAW;IAC9D,CAAC,EACD;MACEzK,MAAM,EAAE,eAAe;MACvByK,OAAO,EAAE,CAAC,iBAAiB,EAAE,WAAW;IAC1C,CAAC;EAEL,CAAC;EACDG,MAAM,EAAE;IACN,eAAe,EAAE;MACfC,IAAI,EAAE,CAAC,QAAQ,CAAC;MAChBL,EAAE,EAAE;QACFM,KAAK,EAAE;UACLL,OAAO,EAAE,CAAC,gBAAgB,EAAE,eAAe;QAC7C;MACF;IACF,CAAC;IACD,kBAAkB,EAAE;MAClBI,IAAI,EAAE,CAAC,QAAQ,CAAC;MAChBP,OAAO,EAAE,CAAC,eAAe,EAAE,sBAAsB,CAAC;MAClDE,EAAE,EAAE;QACF,kBAAkB,EAAE;UAClBxK,MAAM,EAAE,eAAe;UACvByK,OAAO,EAAE,CAAC,kBAAkB,EAAE,WAAW;QAC3C,CAAC;QACD,iBAAiB,EAAE;UACjBzK,MAAM,EAAE,kBAAkB;UAC1ByK,OAAO,EAAE,CAAC,mBAAmB;QAC/B;MACF;IACF,CAAC;IACD,kBAAkB,EAAE;MAClBI,IAAI,EAAE,CAAC,MAAM,CAAC;MACdE,KAAK,EAAE,CAAC,gBAAgB,CAAC;MACzBT,OAAO,EAAE,CACP,kBAAkB,EAClB,WAAW,EACX,gBAAgB,EAChB,wBAAwB,EACxB,sBAAsB,EACtB,oBAAoB,CACrB;MACDE,EAAE,EAAE;QACF,YAAY,EAAE;UACZxK,MAAM,EAAE;QACV;MACF;IACF,CAAC;IACD,cAAc,EAAE;MACd6K,IAAI,EAAE,CAAC,QAAQ;IACjB,CAAC;IACD,aAAa,EAAE;MACbA,IAAI,EAAE,CAAC,MAAM,CAAC;MACdP,OAAO,EAAE,CAAC,WAAW,EAAE,gBAAgB,EAAE,wBAAwB,EAAE,sBAAsB,EAAE,oBAAoB;IACjH;EACF,CAAC;EACDU,eAAe,EAAE;IACfC,MAAM,EAAE;MACNf,UAAU,EAAEA,CAAC;QAAEtJ,QAAQ;QAAED;MAAQ,CAAC,KAAKC,QAAQ,CAAC,WAAW,CAAC,KAAKD,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC,CAACmB,MAAM,GAAG,CAAC;MAChGa,WAAW,EAAEA,CAAC;QAAEzC;MAAQ,CAAC,KAAKA,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI;MAC3DE,SAAS,EAAEA,CAAC;QAAEV;MAAS,CAAC,KAAKA,QAAQ,CAAC,MAAM,CAAC,EAAEZ,MAAM,IAAI,IAAI;MAC7DkL,iBAAiB,EAAEA,CAAC;QAAEvK;MAAQ,CAAC,KAAKA,OAAO,CAACS,GAAG,CAAC,gBAAgB,CAAC,IAAI,IAAI;MACzE+J,aAAa,EAAEA,CAAC;QAAEvK;MAAS,CAAC,KAAKA,QAAQ,CAAC,MAAM,CAAC,EAAEjB,IAAI,KAAK;IAC9D,CAAC;IACD8K,OAAO,EAAE;MACPW,cAAcA,CAAC;QAAEzK;MAAQ,CAAC,EAAE;QAC1B,MAAM0K,IAAI,GAAG1K,OAAO,CAACS,GAAG,CAAC,gBAAgB,CAAC;QAC1CiK,IAAI,EAAEC,cAAc,CAAC;UAAEC,QAAQ,EAAE,SAAS;UAAEC,KAAK,EAAE,QAAQ;UAAEC,MAAM,EAAE;QAAS,CAAC,CAAC;MAClF,CAAC;MACDvI,OAAOA,CAACwI,MAAM,EAAE;QACd,MAAM;UAAEhG;QAAM,CAAC,GAAGgG,MAAM;QACxBxI,OAAO,CAACwI,MAAM,EAAEhG,KAAK,CAACrD,KAAK,CAAC;MAC9B,CAAC;MACDsJ,SAASA,CAACD,MAAM,EAAE;QAChB,MAAM;UAAE/K;QAAQ,CAAC,GAAG+K,MAAM;QAC1B/K,OAAO,CAACiL,GAAG,CAAC,YAAY,EAAE;UAAE/M,KAAK,EAAE,CAAC;UAAEE,MAAM,EAAE,CAAC;UAAEG,CAAC,EAAE,CAAC;UAAEC,CAAC,EAAE;QAAE,CAAC,CAAC;QAC9D+D,OAAO,CAACwI,MAAM,EAAE,CAAC,CAAC,CAAC;MACrB,CAAC;MACDG,cAAcA,CAACH,MAAM,EAAE;QACrB,MAAM;UAAE/K,OAAO;UAAE+E;QAAM,CAAC,GAAGgG,MAAM;QACjC,MAAMxL,KAAK,GAAGS,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC;QAClC,IAAIlB,KAAK,CAACqC,MAAM,KAAK,CAAC,EAAE;QACxB,IAAIxF,QAAQ,CAAC2I,KAAK,CAACrD,KAAK,CAAC,EAAE;UACzB,MAAMyJ,GAAG,GAAGzL,aAAa,CAACH,KAAK,EAAEwF,KAAK,CAACrD,KAAK,CAAC;UAC7Ca,OAAO,CAACwI,MAAM,EAAEI,GAAG,CAAC;UACpB;QACF;QACA5I,OAAO,CAACwI,MAAM,EAAE,CAAC,CAAC;MACpB,CAAC;MACDK,WAAWA,CAACL,MAAM,EAAE;QAClB,MAAM;UAAE/K,OAAO;UAAEC;QAAS,CAAC,GAAG8K,MAAM;QACpC,MAAMxL,KAAK,GAAGS,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC;QAClC,MAAM0K,GAAG,GAAGhP,SAAS,CAACoD,KAAK,EAAEU,QAAQ,CAAC,WAAW,CAAC,CAAC;QACnDsC,OAAO,CAACwI,MAAM,EAAEI,GAAG,CAAC;MACtB,CAAC;MACDE,WAAWA,CAACN,MAAM,EAAE;QAClB,MAAM;UAAE/K,OAAO;UAAEC;QAAS,CAAC,GAAG8K,MAAM;QACpC,MAAMxL,KAAK,GAAGS,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC;QAClC,MAAM0K,GAAG,GAAGjP,SAAS,CAACqD,KAAK,EAAEU,QAAQ,CAAC,WAAW,CAAC,CAAC;QACnDsC,OAAO,CAACwI,MAAM,EAAEI,GAAG,CAAC;MACtB,CAAC;MACDG,aAAaA,CAAC;QAAEnL,IAAI;QAAEH,OAAO;QAAEC;MAAS,CAAC,EAAE;QACzCE,IAAI,CAAC,gBAAgB,CAAC,GAAG;UACvBoL,MAAM,EAAE,SAAS;UACjBxC,MAAM,EAAE/I,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC;UAC7BC,SAAS,EAAET,QAAQ,CAAC,WAAW;QACjC,CAAC,CAAC;MACJ,CAAC;MACDuL,eAAeA,CAAC;QAAErL,IAAI;QAAEH,OAAO;QAAEC;MAAS,CAAC,EAAE;QAC3CE,IAAI,CAAC,gBAAgB,CAAC,GAAG;UACvBoL,MAAM,EAAE,WAAW;UACnBxC,MAAM,EAAE/I,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC;UAC7BC,SAAS,EAAET,QAAQ,CAAC,WAAW;QACjC,CAAC,CAAC;MACJ,CAAC;MACDwL,gBAAgBA,CAAC;QAAEtL,IAAI;QAAEH,OAAO;QAAEC;MAAS,CAAC,EAAE;QAC5CE,IAAI,CAAC,gBAAgB,CAAC,GAAG;UACvBoL,MAAM,EAAE,WAAW;UACnBxC,MAAM,EAAE/I,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC;UAC7BC,SAAS,EAAET,QAAQ,CAAC,WAAW;QACjC,CAAC,CAAC;MACJ,CAAC;MACDyL,YAAYA,CAAC;QAAEvL,IAAI;QAAEH,OAAO;QAAEC;MAAS,CAAC,EAAE;QACxCE,IAAI,CAAC,gBAAgB,CAAC,GAAG;UACvBoL,MAAM,EAAE,SAAS;UACjBxC,MAAM,EAAE/I,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC;UAC7BC,SAAS,EAAET,QAAQ,CAAC,WAAW;QACjC,CAAC,CAAC;MACJ,CAAC;MACD0L,gBAAgBA,CAAC;QAAExL,IAAI;QAAEH,OAAO;QAAEC;MAAS,CAAC,EAAE;QAC5CE,IAAI,CAAC,gBAAgB,CAAC,GAAG;UACvBoL,MAAM,EAAE,WAAW;UACnBxC,MAAM,EAAE/I,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC;UAC7BC,SAAS,EAAET,QAAQ,CAAC,WAAW;QACjC,CAAC,CAAC;MACJ,CAAC;MACD2L,eAAeA,CAAC;QAAE1L;MAAK,CAAC,EAAE;QACxBA,IAAI,CAAC;UAAElB,IAAI,EAAE;QAAe,CAAC,CAAC;MAChC,CAAC;MACD6M,iBAAiBA,CAAC;QAAE7L,OAAO;QAAE+E,KAAK;QAAE9E;MAAS,CAAC,EAAE;QAC9C,MAAMyK,IAAI,GAAG3F,KAAK,CAAC2F,IAAI,IAAIzK,QAAQ,CAAC,MAAM,CAAC,EAAEZ,MAAM,GAAG,CAAC;QACvDW,OAAO,CAACiL,GAAG,CAAC,gBAAgB,EAAEP,IAAI,IAAI,IAAI,CAAC;MAC7C,CAAC;MACDoB,eAAeA,CAAC;QAAE9L,OAAO;QAAE+L,IAAI;QAAE5L;MAAK,CAAC,EAAE;QACvC4L,IAAI,CAACtL,GAAG,CAAC,gBAAgB,CAAC,GAAG,CAAC;QAC9BsL,IAAI,CAACd,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;QAClC,MAAMe,QAAQ,GAAGhM,OAAO,CAACS,GAAG,CAAC,gBAAgB,CAAC;QAC9C,IAAI,CAACuL,QAAQ,EAAE;QACf,IAAI7L,IAAI,CAAC,oBAAoB,CAAC,EAAE6L,QAAQ,CAACC,KAAK,GAAG,IAAI;QACrDD,QAAQ,CAACE,YAAY,CAAC,uBAAuB,EAAE,EAAE,CAAC;QAClDH,IAAI,CAACd,GAAG,CAAC,gBAAgB,EAAE,MAAM;UAC/B,IAAI9K,IAAI,CAAC,oBAAoB,CAAC,EAAE6L,QAAQ,CAACC,KAAK,GAAG,KAAK;UACtDD,QAAQ,CAACG,eAAe,CAAC,uBAAuB,CAAC;QACnD,CAAC,CAAC;MACJ,CAAC;MACDC,WAAWA,CAAC;QAAEL;MAAK,CAAC,EAAE;QACpBA,IAAI,CAACtL,GAAG,CAAC,gBAAgB,CAAC,GAAG,CAAC;QAC9BsL,IAAI,CAACd,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;QAClCc,IAAI,CAACtL,GAAG,CAAC,gBAAgB,CAAC,GAAG,CAAC;QAC9BsL,IAAI,CAACd,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;MACpC,CAAC;MACDoB,aAAaA,CAAC;QAAErM;MAAQ,CAAC,EAAE;QACzB,MAAMnD,GAAG,GAAG,eAAgB,IAAIyP,GAAG,CAAC,CAAC;QACrCtM,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC,CAAC8L,OAAO,CAAExN,IAAI,IAAK;UACrC,IAAIlC,GAAG,CAAC2P,GAAG,CAACzN,IAAI,CAAChC,EAAE,CAAC,EAAE;YACpB,MAAM,IAAI0P,KAAK,CAAC,oCAAoC1N,IAAI,CAAChC,EAAE,EAAE,CAAC;UAChE;UACA,IAAIgC,IAAI,CAACM,MAAM,IAAI,IAAI,IAAIN,IAAI,CAACC,IAAI,IAAI,IAAI,EAAE;YAC5C,MAAM,IAAIyN,KAAK,CAAC,sBAAsB1N,IAAI,CAAChC,EAAE,4DAA4D,CAAC;UAC5G;UACAF,GAAG,CAAC6P,GAAG,CAAC3N,IAAI,CAAChC,EAAE,CAAC;QAClB,CAAC,CAAC;MACJ;IACF,CAAC;IACD4M,OAAO,EAAE;MACPgD,gBAAgBA,CAAC;QAAEzM;MAAK,CAAC,EAAE;QACzB,MAAMnD,EAAE,GAAG6P,UAAU,CAAC,MAAM;UAC1B1M,IAAI,CAAC;YAAElB,IAAI,EAAE;UAAa,CAAC,CAAC;QAC9B,CAAC,EAAE,GAAG,CAAC;QACP,OAAO,MAAM6N,YAAY,CAAC9P,EAAE,CAAC;MAC/B,CAAC;MACD+P,oBAAoBA,CAAC;QAAE5M;MAAK,CAAC,EAAE;QAC7B,MAAMnD,EAAE,GAAG6P,UAAU,CAAC,MAAM;UAC1B1M,IAAI,CAAC;YAAElB,IAAI,EAAE;UAAmB,CAAC,CAAC;QACpC,CAAC,EAAE,GAAG,CAAC;QACP,OAAO,MAAM6N,YAAY,CAAC9P,EAAE,CAAC;MAC/B,CAAC;MACDgQ,aAAaA,CAAC;QAAE3M,KAAK;QAAEH,QAAQ;QAAEC;MAAK,CAAC,EAAE;QACvC,MAAMnB,IAAI,GAAGkB,QAAQ,CAAC,MAAM,CAAC;QAC7B,IAAI,CAAClB,IAAI,EAAE;QACX,MAAMiN,QAAQ,GAAGjN,IAAI,CAACM,MAAM;QAC5B,MAAM8G,GAAG,GAAG/F,KAAK,CAAC4M,MAAM,CAAC,CAAC;QAC1B,MAAMC,QAAQ,GAAG7M,KAAK,CAAC8M,WAAW,CAAC,CAAC;QACpC,MAAMC,QAAQ,GAAG,IAAIhH,GAAG,CAACiH,gBAAgB,CAAC,MAAM;UAC9C,MAAM1C,IAAI,GAAGsB,QAAQ,GAAG,CAAC;UACzB,IAAItB,IAAI,EAAE;YACRxK,IAAI,CAAC;cAAElB,IAAI,EAAE,iBAAiB;cAAE0L;YAAK,CAAC,CAAC;YACvCyC,QAAQ,CAACE,UAAU,CAAC,CAAC;UACvB;QACF,CAAC,CAAC;QACFF,QAAQ,CAACG,OAAO,CAACL,QAAQ,EAAE;UACzBM,SAAS,EAAE,IAAI;UACfC,OAAO,EAAE,IAAI;UACbC,aAAa,EAAE;QACjB,CAAC,CAAC;QACF,OAAO,MAAM;UACXN,QAAQ,CAACE,UAAU,CAAC,CAAC;QACvB,CAAC;MACH,CAAC;MACDK,iBAAiBA,CAAC;QAAE1N,OAAO;QAAEI;MAAM,CAAC,EAAE;QACpC,MAAM+F,GAAG,GAAG/F,KAAK,CAAC4M,MAAM,CAAC,CAAC;QAC1B,MAAMW,GAAG,GAAGvN,KAAK,CAACwN,MAAM,CAAC,CAAC;QAC1B,MAAMC,QAAQ,GAAGA,CAAA,KAAM;UACrB,MAAM3P,KAAK,GAAG4P,cAAc,EAAE5P,KAAK,IAAIiI,GAAG,CAAC4H,UAAU;UACrD,MAAM3P,MAAM,GAAGuP,GAAG,CAACK,eAAe,CAACC,YAAY;UAC/CjO,OAAO,CAACiL,GAAG,CAAC,cAAc,EAAE;YAAE/M,KAAK;YAAEE;UAAO,CAAC,CAAC;QAChD,CAAC;QACDyP,QAAQ,CAAC,CAAC;QACV,MAAMK,QAAQ,GAAG/H,GAAG,CAAC2H,cAAc,IAAI3H,GAAG;QAC1C+H,QAAQ,CAACC,gBAAgB,CAAC,QAAQ,EAAEN,QAAQ,CAAC;QAC7C,OAAO,MAAMK,QAAQ,CAACE,mBAAmB,CAAC,QAAQ,EAAEP,QAAQ,CAAC;MAC/D,CAAC;MACDQ,kBAAkBA,CAAC;QAAEjO,KAAK;QAAEF,IAAI;QAAEC;MAAK,CAAC,EAAE;QACxC,IAAI,CAACA,IAAI,CAAC,eAAe,CAAC,EAAE;QAC5B,MAAMwN,GAAG,GAAGvN,KAAK,CAACwN,MAAM,CAAC,CAAC;QAC1B,MAAM9I,SAAS,GAAIC,KAAK,IAAK;UAC3B,IAAIA,KAAK,CAACG,GAAG,KAAK,QAAQ,EAAE;YAC1BH,KAAK,CAACuJ,cAAc,CAAC,CAAC;YACtBvJ,KAAK,CAACwJ,eAAe,CAAC,CAAC;YACvBrO,IAAI,CAAC;cAAElB,IAAI,EAAE,SAAS;cAAEsC,GAAG,EAAE;YAAM,CAAC,CAAC;UACvC;QACF,CAAC;QACDqM,GAAG,CAACQ,gBAAgB,CAAC,SAAS,EAAErJ,SAAS,EAAE,IAAI,CAAC;QAChD,OAAO,MAAM;UACX6I,GAAG,CAACS,mBAAmB,CAAC,SAAS,EAAEtJ,SAAS,EAAE,IAAI,CAAC;QACrD,CAAC;MACH,CAAC;MACD7I,oBAAoBA,CAAC;QAAE+D,OAAO;QAAEC,QAAQ;QAAEG,KAAK;QAAEF,IAAI;QAAEC;MAAK,CAAC,EAAE;QAC7D,MAAMpB,IAAI,GAAGkB,QAAQ,CAAC,MAAM,CAAC;QAC7B,IAAIlB,IAAI,IAAI,IAAI,EAAE;QAClB,MAAMyP,SAAS,GAAGA,CAAA,KAAM9Q,YAAY,CAAC0C,KAAK,CAAC;QAC3C,OAAOnE,oBAAoB,CAACuS,SAAS,EAAE;UACrCC,KAAK,EAAE,IAAI;UACXC,OAAOA,CAACrP,MAAM,EAAE;YACd,OAAO/D,QAAQ,CAACyD,IAAI,CAACM,MAAM,GAAG,CAAC,EAAEA,MAAM,CAAC;UAC1C,CAAC;UACDsP,cAAcA,CAAC5J,KAAK,EAAE;YACpB5E,IAAI,CAAC,gBAAgB,CAAC,GAAG4E,KAAK,CAAC;YAC/B,IAAI,CAAC5E,IAAI,CAAC,wBAAwB,CAAC,EAAE;cACnC4E,KAAK,CAACuJ,cAAc,CAAC,CAAC;YACxB;UACF,CAAC;UACDM,oBAAoBA,CAAC7J,KAAK,EAAE;YAC1B5E,IAAI,CAAC,sBAAsB,CAAC,GAAG4E,KAAK,CAAC;YACrC,MAAM8J,QAAQ,GAAGvH,aAAa,CAACtH,OAAO,CAACS,GAAG,CAAC,YAAY,CAAC,EAAEsE,KAAK,CAAC+J,MAAM,CAACC,aAAa,CAAC;YACrF,IAAIF,QAAQ,EAAE;cACZ9J,KAAK,CAACuJ,cAAc,CAAC,CAAC;cACtB;YACF;YACA,IAAI,CAACnO,IAAI,CAAC,wBAAwB,CAAC,EAAE;cACnC4E,KAAK,CAACuJ,cAAc,CAAC,CAAC;YACxB;UACF,CAAC;UACDU,iBAAiBA,CAACjK,KAAK,EAAE;YACvB5E,IAAI,CAAC,mBAAmB,CAAC,GAAG4E,KAAK,CAAC;YAClC,IAAIA,KAAK,CAACC,gBAAgB,EAAE;YAC5B9E,IAAI,CAAC;cAAElB,IAAI,EAAE,SAAS;cAAEsC,GAAG,EAAE;YAAmB,CAAC,CAAC;UACpD;QACF,CAAC,CAAC;MACJ,CAAC;MACDvF,sBAAsBA,CAAC;QAAEkE,QAAQ;QAAEG;MAAM,CAAC,EAAE;QAC1C,MAAMrB,IAAI,GAAGkB,QAAQ,CAAC,MAAM,CAAC;QAC7B,IAAIlB,IAAI,IAAI,IAAI,EAAE;QAClB,MAAMyP,SAAS,GAAGA,CAAA,KAAM9Q,YAAY,CAAC0C,KAAK,CAAC;QAC3C,OAAOrE,sBAAsB,CAACyS,SAAS,EAAE;UAAEC,KAAK,EAAE,CAACD,SAAS,CAAC;QAAE,CAAC,CAAC;MACnE,CAAC;MACDxS,SAASA,CAAC;QAAEiE,QAAQ;QAAEG;MAAM,CAAC,EAAE;QAC7B,MAAMrB,IAAI,GAAGkB,QAAQ,CAAC,MAAM,CAAC;QAC7B,IAAIlB,IAAI,IAAI,IAAI,EAAE;QAClB,MAAMyP,SAAS,GAAGA,CAAA,KAAM9Q,YAAY,CAAC0C,KAAK,CAAC;QAC3C,OAAOpE,SAAS,CAACwS,SAAS,EAAE;UAC1BS,iBAAiB,EAAE,KAAK;UACxBC,iBAAiB,EAAE,IAAI;UACvBC,aAAa,EAAE,IAAI;UACnBC,uBAAuB,EAAE;QAC3B,CAAC,CAAC;MACJ,CAAC;MACDC,cAAcA,CAAC;QAAErP,OAAO;QAAEC,QAAQ;QAAEG,KAAK;QAAED;MAAK,CAAC,EAAE;QACjD,MAAMpB,IAAI,GAAGkB,QAAQ,CAAC,MAAM,CAAC;QAC7B,IAAIlB,IAAI,IAAI,IAAI,EAAE;QAClBiB,OAAO,CAACiL,GAAG,CAAC,kBAAkB,EAAElM,IAAI,CAACI,SAAS,IAAI,QAAQ,CAAC;QAC3D,IAAIF,YAAY,CAACF,IAAI,CAAC,EAAE;UACtB,OAAOuQ,UAAU,CAAClP,KAAK,CAAC;QAC1B;QACA,IAAI,CAACtB,aAAa,CAACC,IAAI,CAAC,EAAE;UACxB;QACF;QACA,MAAMwQ,YAAY,GAAGA,CAAA,KAAM3R,eAAe,CAACwC,KAAK,CAAC;QACjD,OAAOvE,YAAY,CAACmE,OAAO,CAACS,GAAG,CAAC,gBAAgB,CAAC,EAAE8O,YAAY,EAAE;UAC/Dd,KAAK,EAAE,IAAI;UACXtP,SAAS,EAAEJ,IAAI,CAACI,SAAS,IAAI,QAAQ;UACrC+B,QAAQ,EAAE,UAAU;UACpBsO,MAAM,EAAE,EAAE;UACVjI,MAAM,EAAExI,IAAI,CAACwI,MAAM;UACnBkI,aAAaA,CAACC,EAAE,EAAE;YAChB,IAAI,CAACrU,aAAa,CAACqU,EAAE,CAAC,EAAE,OAAO,IAAI;YACnC,MAAMpR,IAAI,GAAGoR,EAAE,CAAC3I,qBAAqB,CAAC,CAAC;YACvC,OAAOQ,MAAM,CAACjJ,IAAI,EAAE6B,IAAI,CAAC,iBAAiB,CAAC,CAAC;UAC9C,CAAC;UACDwP,UAAUA,CAACC,IAAI,EAAE;YACf,MAAM;cAAEC;YAAM,CAAC,GAAGD,IAAI,CAACE,cAAc;YACrC9P,OAAO,CAACiL,GAAG,CAAC,kBAAkB,EAAE2E,IAAI,CAACzQ,SAAS,CAAC;YAC/Ca,OAAO,CAACiL,GAAG,CAAC,YAAY,EAAE4E,KAAK,CAACE,SAAS,CAAC;UAC5C;QACF,CAAC,CAAC;MACJ;IACF;EACF;AACF,CAAC,CAAC;AACF,SAAST,UAAUA,CAAClP,KAAK,EAAE;EACzB,OAAO7E,GAAG,CAAC,MAAM;IACf,MAAMiT,SAAS,GAAG9Q,YAAY,CAAC0C,KAAK,CAAC;IACrC,IAAI,CAACoO,SAAS,EAAE;IAChB,MAAMwB,MAAM,GAAGvU,kBAAkB,CAAC+S,SAAS,CAAC;IAC5C,MAAMe,YAAY,GAAG3R,eAAe,CAACwC,KAAK,CAAC;IAC3C,MAAM6P,UAAU,GAAGpS,aAAa,CAACuC,KAAK,CAAC;IACvC,IAAImP,YAAY,EAAE;MAChBA,YAAY,CAAC7L,KAAK,CAACwM,WAAW,CAAC,WAAW,EAAEF,MAAM,CAACG,MAAM,CAAC;MAC1DZ,YAAY,CAAC7L,KAAK,CAACwM,WAAW,CAAC,SAAS,EAAE,gBAAgB,CAAC;IAC7D;IACA,IAAID,UAAU,EAAE;MACdA,UAAU,CAACvM,KAAK,CAACwM,WAAW,CAAC,WAAW,EAAEF,MAAM,CAACG,MAAM,CAAC;IAC1D;EACF,CAAC,CAAC;AACJ;AACA,SAAS5N,OAAOA,CAACwI,MAAM,EAAEI,GAAG,EAAE;EAC5B,MAAM;IAAEnL,OAAO;IAAE+L,IAAI;IAAE9L,QAAQ;IAAEE;EAAK,CAAC,GAAG4K,MAAM;EAChD,MAAMxL,KAAK,GAAGS,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC;EAClC,MAAM1B,IAAI,GAAGQ,KAAK,CAAC4L,GAAG,CAAC;EACvB,IAAI,CAACpM,IAAI,EAAE;IACTiB,OAAO,CAACiL,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC;IAC3B;EACF;EACA,IAAI5O,OAAO,CAAC2D,OAAO,CAACS,GAAG,CAAC,QAAQ,CAAC,EAAE1B,IAAI,CAAChC,EAAE,CAAC,EAAE;EAC7C,MAAMqT,MAAM,GAAIR,IAAI,IAAK;IACvB5P,OAAO,CAACiL,GAAG,CAAC,OAAO,EAAG1J,IAAI,IAAKA,IAAI,CAACa,GAAG,CAAC,CAACiO,CAAC,EAAE5I,CAAC,KAAKA,CAAC,KAAK0D,GAAG,GAAG;MAAE,GAAGkF,CAAC;MAAE,GAAGT;IAAK,CAAC,GAAGS,CAAC,CAAC,CAAC;EACvF,CAAC;EACD,MAAMhP,IAAI,GAAGA,CAAA,KAAM;IACjB,MAAMiP,IAAI,GAAGnU,SAAS,CAACoD,KAAK,EAAEU,QAAQ,CAAC,WAAW,CAAC,CAAC;IACpDD,OAAO,CAACiL,GAAG,CAAC,QAAQ,EAAE1L,KAAK,CAAC+Q,IAAI,CAAC,CAACvT,EAAE,CAAC;EACvC,CAAC;EACD,MAAM0E,IAAI,GAAI1E,EAAE,IAAK;IACnB,MAAM+E,KAAK,GAAGxC,QAAQ,CAACC,KAAK,EAAExC,EAAE,CAAC;IACjC,IAAI,CAAC+E,KAAK,EAAE;IACZ9B,OAAO,CAACiL,GAAG,CAAC,QAAQ,EAAEnJ,KAAK,CAAC/E,EAAE,CAAC;EACjC,CAAC;EACD,MAAMyE,OAAO,GAAGA,CAAA,KAAM;IACpBxB,OAAO,CAACiL,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC;IAC3B9K,IAAI,CAAC,gBAAgB,CAAC,GAAG;MAAEoL,MAAM,EAAE,WAAW;MAAExC,MAAM,EAAE,IAAI;MAAErI,SAAS,EAAE,CAAC;IAAE,CAAC,CAAC;EAChF,CAAC;EACD,MAAM6P,IAAI,GAAGA,CAAA,KAAM;IACjBvQ,OAAO,CAACiL,GAAG,CAAC,QAAQ,EAAElM,IAAI,CAAChC,EAAE,CAAC;EAChC,CAAC;EACD,IAAI,CAACgC,IAAI,CAACyR,MAAM,EAAE;IAChBD,IAAI,CAAC,CAAC;IACN;EACF;EACA,MAAME,OAAO,GAAG1R,IAAI,CAACyR,MAAM,CAAC;IAC1BD,IAAI;IACJlP,IAAI;IACJ+O,MAAM;IACN/Q,MAAM,EAAEN,IAAI,CAACM,MAAM;IACnBmC,OAAO;IACPC;EACF,CAAC,CAAC;EACFsK,IAAI,CAACd,GAAG,CAAC,gBAAgB,EAAEwF,OAAO,CAAC;AACrC;AACA,IAAIxI,KAAK,GAAG1L,WAAW,CAAC,CAAC,CAAC,CACxB,eAAe,EACf,wBAAwB,EACxB,KAAK,EACL,aAAa,EACb,IAAI,EACJ,KAAK,EACL,oBAAoB,EACpB,gBAAgB,EAChB,mBAAmB,EACnB,sBAAsB,EACtB,gBAAgB,EAChB,cAAc,EACd,eAAe,EACf,oBAAoB,EACpB,iBAAiB,EACjB,iBAAiB,EACjB,QAAQ,EACR,OAAO,EACP,cAAc,CACf,CAAC;AACF,IAAImU,UAAU,GAAGpU,gBAAgB,CAAC2L,KAAK,CAAC;AACxC,SAAS0I,cAAcA,CAACC,OAAO,EAAEC,UAAU,EAAEC,OAAO,EAAE;EACpD,MAAM;IAAEC;EAAO,CAAC,GAAGF,UAAU;EAC7B,MAAMG,cAAc,GAAG,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtD,MAAMC,SAAS,GAAGxE,UAAU,CAAC,MAAM;MACjCuE,MAAM,CAAC,IAAI1E,KAAK,CAAC,cAAcqE,OAAO,aAAa,CAAC,CAAC;IACvD,CAAC,EAAEA,OAAO,CAAC;IACXC,MAAM,CAAC5C,gBAAgB,CAAC,OAAO,EAAE,MAAM;MACrCtB,YAAY,CAACuE,SAAS,CAAC;MACvBD,MAAM,CAAC,IAAI1E,KAAK,CAAC,iBAAiB,CAAC,CAAC;IACtC,CAAC,CAAC;IACFmE,OAAO,CAACS,IAAI,CAAEC,MAAM,IAAK;MACvB,IAAI,CAACP,MAAM,CAACQ,OAAO,EAAE;QACnB1E,YAAY,CAACuE,SAAS,CAAC;QACvBF,OAAO,CAACI,MAAM,CAAC;MACjB;IACF,CAAC,CAAC,CAACE,KAAK,CAAEC,KAAK,IAAK;MAClB,IAAI,CAACV,MAAM,CAACQ,OAAO,EAAE;QACnB1E,YAAY,CAACuE,SAAS,CAAC;QACvBD,MAAM,CAACM,KAAK,CAAC;MACf;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,MAAMC,KAAK,GAAGA,CAAA,KAAMb,UAAU,CAACa,KAAK,CAAC,CAAC;EACtC,OAAO,CAACV,cAAc,EAAEU,KAAK,CAAC;AAChC;AACA,SAASC,cAAcA,CAACtS,MAAM,EAAEtB,OAAO,EAAE;EACvC,MAAM;IAAE+S,OAAO;IAAE7D;EAAS,CAAC,GAAGlP,OAAO;EACrC,MAAMoI,GAAG,GAAGzK,SAAS,CAACuR,QAAQ,CAAC;EAC/B,MAAMU,GAAG,GAAG/R,WAAW,CAACqR,QAAQ,CAAC;EACjC,MAAM4D,UAAU,GAAG,IAAI1K,GAAG,CAACyL,eAAe,CAAC,CAAC;EAC5C,OAAOjB,cAAc,CACnB,IAAIM,OAAO,CAAEC,OAAO,IAAK;IACvB,MAAMxB,EAAE,GAAGrQ,MAAM,CAAC,CAAC;IACnB,IAAIqQ,EAAE,EAAE;MACNwB,OAAO,CAACxB,EAAE,CAAC;MACX;IACF;IACA,MAAMvC,QAAQ,GAAG,IAAIhH,GAAG,CAACiH,gBAAgB,CAAC,MAAM;MAC9C,MAAMyE,GAAG,GAAGxS,MAAM,CAAC,CAAC;MACpB,IAAIwS,GAAG,EAAE;QACP1E,QAAQ,CAACE,UAAU,CAAC,CAAC;QACrB6D,OAAO,CAACW,GAAG,CAAC;MACd;IACF,CAAC,CAAC;IACF1E,QAAQ,CAACG,OAAO,CAACK,GAAG,CAACmE,IAAI,EAAE;MACzBvE,SAAS,EAAE,IAAI;MACfC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,EACFqD,UAAU,EACVC,OACF,CAAC;AACH;AACA,SAASiB,mBAAmBA,CAAC1S,MAAM,EAAEqC,KAAK,EAAE3D,OAAO,EAAE;EACnD,MAAM;IAAE+S,OAAO;IAAE7D;EAAS,CAAC,GAAGlP,OAAO;EACrC,MAAMoI,GAAG,GAAGzK,SAAS,CAACuR,QAAQ,CAAC;EAC/B,MAAM4D,UAAU,GAAG,IAAI1K,GAAG,CAACyL,eAAe,CAAC,CAAC;EAC5C,OAAOjB,cAAc,CACnB,IAAIM,OAAO,CAAEC,OAAO,IAAK;IACvB,MAAMxB,EAAE,GAAGrQ,MAAM,CAAC,CAAC;IACnB,IAAI,CAACqQ,EAAE,EAAE;IACT,MAAMsC,UAAU,GAAGA,CAAA,KAAM;MACvB,IAAItC,EAAE,CAAChO,KAAK,KAAKA,KAAK,EAAE;QACtBwP,OAAO,CAAC,CAAC;QACTxB,EAAE,CAACtB,mBAAmB,CAAC,OAAO,EAAE4D,UAAU,CAAC;MAC7C;IACF,CAAC;IACDA,UAAU,CAAC,CAAC;IACZtC,EAAE,CAACvB,gBAAgB,CAAC,OAAO,EAAE6D,UAAU,EAAE;MAAEjB,MAAM,EAAEF,UAAU,CAACE;IAAO,CAAC,CAAC;EACzE,CAAC,CAAC,EACFF,UAAU,EACVC,OACF,CAAC;AACH;AAEA,SAAStU,OAAO,EAAEoD,OAAO,EAAEoI,OAAO,EAAEC,KAAK,EAAEyI,UAAU,EAAEiB,cAAc,EAAEI,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}