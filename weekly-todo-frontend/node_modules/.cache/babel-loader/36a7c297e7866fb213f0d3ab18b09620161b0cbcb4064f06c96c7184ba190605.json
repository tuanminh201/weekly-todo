{"ast":null,"code":"import { createAnatomy } from '@zag-js/anatomy';\nimport { createGuards, createMachine, mergeProps } from '@zag-js/core';\nimport { isEditableElement, raf, getInitialFocus, contains, observeAttributes, addDomEvent, getEventTarget, getByTypeahead, clickIfLink, getWindow, scrollIntoView, queryAll, dataAttr, isDownloadingEvent, isOpeningInNewTab, isSelfTarget, isValidTabEvent, getEventKey, isPrintableKey, isModifierKey, isContextMenuEvent, getEventPoint, ariaAttr, isAnchorElement, isHTMLElement } from '@zag-js/dom-query';\nimport { getPlacementSide, getPlacement, getPlacementStyles } from '@zag-js/popper';\nimport { last, first, createSplitProps, prev, next } from '@zag-js/utils';\nimport { trackDismissableElement } from '@zag-js/dismissable';\nimport { getElementPolygon, isPointInPolygon } from '@zag-js/rect-utils';\nimport { createProps } from '@zag-js/types';\n\n// src/menu.anatomy.ts\nvar anatomy = createAnatomy(\"menu\").parts(\"arrow\", \"arrowTip\", \"content\", \"contextTrigger\", \"indicator\", \"item\", \"itemGroup\", \"itemGroupLabel\", \"itemIndicator\", \"itemText\", \"positioner\", \"separator\", \"trigger\", \"triggerItem\");\nvar parts = anatomy.build();\nvar getTriggerId = ctx => ctx.ids?.trigger ?? `menu:${ctx.id}:trigger`;\nvar getContextTriggerId = ctx => ctx.ids?.contextTrigger ?? `menu:${ctx.id}:ctx-trigger`;\nvar getContentId = ctx => ctx.ids?.content ?? `menu:${ctx.id}:content`;\nvar getArrowId = ctx => ctx.ids?.arrow ?? `menu:${ctx.id}:arrow`;\nvar getPositionerId = ctx => ctx.ids?.positioner ?? `menu:${ctx.id}:popper`;\nvar getGroupId = (ctx, id) => ctx.ids?.group?.(id) ?? `menu:${ctx.id}:group:${id}`;\nvar getItemId = (ctx, id) => `${ctx.id}/${id}`;\nvar getItemValue = el => el?.dataset.value ?? null;\nvar getGroupLabelId = (ctx, id) => ctx.ids?.groupLabel?.(id) ?? `menu:${ctx.id}:group-label:${id}`;\nvar getContentEl = ctx => ctx.getById(getContentId(ctx));\nvar getPositionerEl = ctx => ctx.getById(getPositionerId(ctx));\nvar getTriggerEl = ctx => ctx.getById(getTriggerId(ctx));\nvar getItemEl = (ctx, value) => value ? ctx.getById(getItemId(ctx, value)) : null;\nvar getContextTriggerEl = ctx => ctx.getById(getContextTriggerId(ctx));\nvar getElements = ctx => {\n  const ownerId = CSS.escape(getContentId(ctx));\n  const selector = `[role^=\"menuitem\"][data-ownedby=${ownerId}]:not([data-disabled])`;\n  return queryAll(getContentEl(ctx), selector);\n};\nvar getFirstEl = ctx => first(getElements(ctx));\nvar getLastEl = ctx => last(getElements(ctx));\nvar isMatch = (el, value) => {\n  if (!value) return false;\n  return el.id === value || el.dataset.value === value;\n};\nvar getNextEl = (ctx, opts) => {\n  const items = getElements(ctx);\n  const index = items.findIndex(el => isMatch(el, opts.value));\n  return next(items, index, {\n    loop: opts.loop ?? opts.loopFocus\n  });\n};\nvar getPrevEl = (ctx, opts) => {\n  const items = getElements(ctx);\n  const index = items.findIndex(el => isMatch(el, opts.value));\n  return prev(items, index, {\n    loop: opts.loop ?? opts.loopFocus\n  });\n};\nvar getElemByKey = (ctx, opts) => {\n  const items = getElements(ctx);\n  const item = items.find(el => isMatch(el, opts.value));\n  return getByTypeahead(items, {\n    state: opts.typeaheadState,\n    key: opts.key,\n    activeId: item?.id ?? null\n  });\n};\nvar isTargetDisabled = v => {\n  return isHTMLElement(v) && (v.dataset.disabled === \"\" || v.hasAttribute(\"disabled\"));\n};\nvar isTriggerItem = el => {\n  return !!el?.getAttribute(\"role\")?.startsWith(\"menuitem\") && !!el?.hasAttribute(\"aria-controls\");\n};\nvar itemSelectEvent = \"menu:select\";\nfunction dispatchSelectionEvent(el, value) {\n  if (!el) return;\n  const win = getWindow(el);\n  const event = new win.CustomEvent(itemSelectEvent, {\n    detail: {\n      value\n    }\n  });\n  el.dispatchEvent(event);\n}\n\n// src/menu.connect.ts\nfunction connect(service, normalize) {\n  const {\n    context,\n    send,\n    state,\n    computed,\n    prop,\n    scope\n  } = service;\n  const open = state.hasTag(\"open\");\n  const isSubmenu = computed(\"isSubmenu\");\n  const isTypingAhead = computed(\"isTypingAhead\");\n  const composite = prop(\"composite\");\n  const currentPlacement = context.get(\"currentPlacement\");\n  const anchorPoint = context.get(\"anchorPoint\");\n  const highlightedValue = context.get(\"highlightedValue\");\n  const popperStyles = getPlacementStyles({\n    ...prop(\"positioning\"),\n    placement: anchorPoint ? \"bottom\" : currentPlacement\n  });\n  function getItemState(props2) {\n    return {\n      id: getItemId(scope, props2.value),\n      disabled: !!props2.disabled,\n      highlighted: highlightedValue === props2.value\n    };\n  }\n  function getOptionItemProps(props2) {\n    const valueText = props2.valueText ?? props2.value;\n    return {\n      ...props2,\n      id: props2.value,\n      valueText\n    };\n  }\n  function getOptionItemState(props2) {\n    const itemState = getItemState(getOptionItemProps(props2));\n    return {\n      ...itemState,\n      checked: !!props2.checked\n    };\n  }\n  function getItemProps(props2) {\n    const {\n      closeOnSelect,\n      valueText,\n      value\n    } = props2;\n    const itemState = getItemState(props2);\n    const id = getItemId(scope, value);\n    return normalize.element({\n      ...parts.item.attrs,\n      id,\n      role: \"menuitem\",\n      \"aria-disabled\": ariaAttr(itemState.disabled),\n      \"data-disabled\": dataAttr(itemState.disabled),\n      \"data-ownedby\": getContentId(scope),\n      \"data-highlighted\": dataAttr(itemState.highlighted),\n      \"data-value\": value,\n      \"data-valuetext\": valueText,\n      onDragStart(event) {\n        const isLink = event.currentTarget.matches(\"a[href]\");\n        if (isLink) event.preventDefault();\n      },\n      onPointerMove(event) {\n        if (itemState.disabled) return;\n        if (event.pointerType !== \"mouse\") return;\n        const target = event.currentTarget;\n        if (itemState.highlighted) return;\n        send({\n          type: \"ITEM_POINTERMOVE\",\n          id,\n          target,\n          closeOnSelect\n        });\n      },\n      onPointerLeave(event) {\n        if (itemState.disabled) return;\n        if (event.pointerType !== \"mouse\") return;\n        const pointerMoved = service.event.previous()?.type.includes(\"POINTER\");\n        if (!pointerMoved) return;\n        const target = event.currentTarget;\n        send({\n          type: \"ITEM_POINTERLEAVE\",\n          id,\n          target,\n          closeOnSelect\n        });\n      },\n      onPointerDown(event) {\n        if (itemState.disabled) return;\n        const target = event.currentTarget;\n        send({\n          type: \"ITEM_POINTERDOWN\",\n          target,\n          id,\n          closeOnSelect\n        });\n      },\n      onClick(event) {\n        if (isDownloadingEvent(event)) return;\n        if (isOpeningInNewTab(event)) return;\n        if (itemState.disabled) return;\n        const target = event.currentTarget;\n        send({\n          type: \"ITEM_CLICK\",\n          target,\n          id,\n          closeOnSelect\n        });\n      }\n    });\n  }\n  return {\n    highlightedValue,\n    open,\n    setOpen(nextOpen) {\n      const open2 = state.hasTag(\"open\");\n      if (open2 === nextOpen) return;\n      send({\n        type: nextOpen ? \"OPEN\" : \"CLOSE\"\n      });\n    },\n    setHighlightedValue(value) {\n      send({\n        type: \"HIGHLIGHTED.SET\",\n        value\n      });\n    },\n    setParent(parent) {\n      send({\n        type: \"PARENT.SET\",\n        value: parent,\n        id: parent.prop(\"id\")\n      });\n    },\n    setChild(child) {\n      send({\n        type: \"CHILD.SET\",\n        value: child,\n        id: child.prop(\"id\")\n      });\n    },\n    reposition(options = {}) {\n      send({\n        type: \"POSITIONING.SET\",\n        options\n      });\n    },\n    addItemListener(props2) {\n      const node = scope.getById(props2.id);\n      if (!node) return;\n      const listener = () => props2.onSelect?.();\n      node.addEventListener(itemSelectEvent, listener);\n      return () => node.removeEventListener(itemSelectEvent, listener);\n    },\n    getContextTriggerProps() {\n      return normalize.element({\n        ...parts.contextTrigger.attrs,\n        dir: prop(\"dir\"),\n        id: getContextTriggerId(scope),\n        onPointerDown(event) {\n          if (event.pointerType === \"mouse\") return;\n          const point = getEventPoint(event);\n          send({\n            type: \"CONTEXT_MENU_START\",\n            point\n          });\n        },\n        onPointerCancel(event) {\n          if (event.pointerType === \"mouse\") return;\n          send({\n            type: \"CONTEXT_MENU_CANCEL\"\n          });\n        },\n        onPointerMove(event) {\n          if (event.pointerType === \"mouse\") return;\n          send({\n            type: \"CONTEXT_MENU_CANCEL\"\n          });\n        },\n        onPointerUp(event) {\n          if (event.pointerType === \"mouse\") return;\n          send({\n            type: \"CONTEXT_MENU_CANCEL\"\n          });\n        },\n        onContextMenu(event) {\n          const point = getEventPoint(event);\n          send({\n            type: \"CONTEXT_MENU\",\n            point\n          });\n          event.preventDefault();\n        },\n        style: {\n          WebkitTouchCallout: \"none\",\n          WebkitUserSelect: \"none\",\n          userSelect: \"none\"\n        }\n      });\n    },\n    getTriggerItemProps(childApi) {\n      const triggerProps = childApi.getTriggerProps();\n      return mergeProps(getItemProps({\n        value: triggerProps.id\n      }), triggerProps);\n    },\n    getTriggerProps() {\n      return normalize.button({\n        ...(isSubmenu ? parts.triggerItem.attrs : parts.trigger.attrs),\n        \"data-placement\": context.get(\"currentPlacement\"),\n        type: \"button\",\n        dir: prop(\"dir\"),\n        id: getTriggerId(scope),\n        \"data-uid\": prop(\"id\"),\n        \"aria-haspopup\": composite ? \"menu\" : \"dialog\",\n        \"aria-controls\": getContentId(scope),\n        \"aria-expanded\": open || void 0,\n        \"data-state\": open ? \"open\" : \"closed\",\n        onPointerMove(event) {\n          if (event.pointerType !== \"mouse\") return;\n          const disabled = isTargetDisabled(event.currentTarget);\n          if (disabled || !isSubmenu) return;\n          const point = getEventPoint(event);\n          send({\n            type: \"TRIGGER_POINTERMOVE\",\n            target: event.currentTarget,\n            point\n          });\n        },\n        onPointerLeave(event) {\n          if (isTargetDisabled(event.currentTarget)) return;\n          if (event.pointerType !== \"mouse\") return;\n          if (!isSubmenu) return;\n          const point = getEventPoint(event);\n          send({\n            type: \"TRIGGER_POINTERLEAVE\",\n            target: event.currentTarget,\n            point\n          });\n        },\n        onPointerDown(event) {\n          if (isTargetDisabled(event.currentTarget)) return;\n          if (isContextMenuEvent(event)) return;\n          event.preventDefault();\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (isTargetDisabled(event.currentTarget)) return;\n          send({\n            type: \"TRIGGER_CLICK\",\n            target: event.currentTarget\n          });\n        },\n        onBlur() {\n          send({\n            type: \"TRIGGER_BLUR\"\n          });\n        },\n        onFocus() {\n          send({\n            type: \"TRIGGER_FOCUS\"\n          });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          const keyMap = {\n            ArrowDown() {\n              send({\n                type: \"ARROW_DOWN\"\n              });\n            },\n            ArrowUp() {\n              send({\n                type: \"ARROW_UP\"\n              });\n            },\n            Enter() {\n              send({\n                type: \"ARROW_DOWN\",\n                src: \"enter\"\n              });\n            },\n            Space() {\n              send({\n                type: \"ARROW_DOWN\",\n                src: \"space\"\n              });\n            }\n          };\n          const key = getEventKey(event, {\n            orientation: \"vertical\",\n            dir: prop(\"dir\")\n          });\n          const exec = keyMap[key];\n          if (exec) {\n            event.preventDefault();\n            exec(event);\n          }\n        }\n      });\n    },\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: prop(\"dir\"),\n        \"data-state\": open ? \"open\" : \"closed\"\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        style: popperStyles.floating\n      });\n    },\n    getArrowProps() {\n      return normalize.element({\n        id: getArrowId(scope),\n        ...parts.arrow.attrs,\n        dir: prop(\"dir\"),\n        style: popperStyles.arrow\n      });\n    },\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: prop(\"dir\"),\n        style: popperStyles.arrowTip\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        id: getContentId(scope),\n        \"aria-label\": prop(\"aria-label\"),\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        role: composite ? \"menu\" : \"dialog\",\n        tabIndex: 0,\n        dir: prop(\"dir\"),\n        \"aria-activedescendant\": computed(\"highlightedId\") || void 0,\n        \"aria-labelledby\": getTriggerId(scope),\n        \"data-placement\": currentPlacement,\n        onPointerEnter(event) {\n          if (event.pointerType !== \"mouse\") return;\n          send({\n            type: \"MENU_POINTERENTER\"\n          });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!isSelfTarget(event)) return;\n          const target = getEventTarget(event);\n          const sameMenu = target?.closest(\"[role=menu]\") === event.currentTarget || target === event.currentTarget;\n          if (!sameMenu) return;\n          if (event.key === \"Tab\") {\n            const valid = isValidTabEvent(event);\n            if (!valid) {\n              event.preventDefault();\n              return;\n            }\n          }\n          const item = getItemEl(scope, highlightedValue);\n          const keyMap = {\n            ArrowDown() {\n              send({\n                type: \"ARROW_DOWN\"\n              });\n            },\n            ArrowUp() {\n              send({\n                type: \"ARROW_UP\"\n              });\n            },\n            ArrowLeft() {\n              send({\n                type: \"ARROW_LEFT\"\n              });\n            },\n            ArrowRight() {\n              send({\n                type: \"ARROW_RIGHT\"\n              });\n            },\n            Enter() {\n              send({\n                type: \"ENTER\"\n              });\n              if (highlightedValue == null) return;\n              if (isAnchorElement(item)) {\n                prop(\"navigate\")?.({\n                  value: highlightedValue,\n                  node: item,\n                  href: item.href\n                });\n              }\n            },\n            Space(event2) {\n              if (isTypingAhead) {\n                send({\n                  type: \"TYPEAHEAD\",\n                  key: event2.key\n                });\n              } else {\n                keyMap.Enter?.(event2);\n              }\n            },\n            Home() {\n              send({\n                type: \"HOME\"\n              });\n            },\n            End() {\n              send({\n                type: \"END\"\n              });\n            }\n          };\n          const key = getEventKey(event, {\n            dir: prop(\"dir\")\n          });\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            event.stopPropagation();\n            event.preventDefault();\n            return;\n          }\n          if (!prop(\"typeahead\")) return;\n          if (!isPrintableKey(event)) return;\n          if (isModifierKey(event)) return;\n          if (isEditableElement(target)) return;\n          send({\n            type: \"TYPEAHEAD\",\n            key: event.key\n          });\n          event.preventDefault();\n        }\n      });\n    },\n    getSeparatorProps() {\n      return normalize.element({\n        ...parts.separator.attrs,\n        role: \"separator\",\n        dir: prop(\"dir\"),\n        \"aria-orientation\": \"horizontal\"\n      });\n    },\n    getItemState,\n    getItemProps,\n    getOptionItemState,\n    getOptionItemProps(props2) {\n      const {\n        type,\n        disabled,\n        onCheckedChange,\n        closeOnSelect\n      } = props2;\n      const option = getOptionItemProps(props2);\n      const itemState = getOptionItemState(props2);\n      return {\n        ...getItemProps(option),\n        ...normalize.element({\n          \"data-type\": type,\n          ...parts.item.attrs,\n          dir: prop(\"dir\"),\n          \"data-value\": option.value,\n          role: `menuitem${type}`,\n          \"aria-checked\": !!itemState.checked,\n          \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n          onClick(event) {\n            if (disabled) return;\n            if (isDownloadingEvent(event)) return;\n            if (isOpeningInNewTab(event)) return;\n            const target = event.currentTarget;\n            send({\n              type: \"ITEM_CLICK\",\n              target,\n              option,\n              closeOnSelect\n            });\n            onCheckedChange?.(!itemState.checked);\n          }\n        })\n      };\n    },\n    getItemIndicatorProps(props2) {\n      const itemState = getOptionItemState(props2);\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n        hidden: !itemState.checked\n      });\n    },\n    getItemTextProps(props2) {\n      const itemState = getOptionItemState(props2);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.checked ? \"checked\" : \"unchecked\"\n      });\n    },\n    getItemGroupLabelProps(props2) {\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        id: getGroupLabelId(scope, props2.htmlFor),\n        dir: prop(\"dir\")\n      });\n    },\n    getItemGroupProps(props2) {\n      return normalize.element({\n        id: getGroupId(scope, props2.id),\n        ...parts.itemGroup.attrs,\n        dir: prop(\"dir\"),\n        \"aria-labelledby\": getGroupLabelId(scope, props2.id),\n        role: \"group\"\n      });\n    }\n  };\n}\nvar {\n  not,\n  and,\n  or\n} = createGuards();\nvar machine = createMachine({\n  props({\n    props: props2\n  }) {\n    return {\n      closeOnSelect: true,\n      typeahead: true,\n      composite: true,\n      loopFocus: false,\n      navigate(details) {\n        clickIfLink(details.node);\n      },\n      ...props2,\n      positioning: {\n        placement: \"bottom-start\",\n        gutter: 8,\n        ...props2.positioning\n      }\n    };\n  },\n  initialState({\n    prop\n  }) {\n    const open = prop(\"open\") || prop(\"defaultOpen\");\n    return open ? \"open\" : \"idle\";\n  },\n  context({\n    bindable,\n    prop\n  }) {\n    return {\n      suspendPointer: bindable(() => ({\n        defaultValue: false\n      })),\n      highlightedValue: bindable(() => ({\n        defaultValue: prop(\"defaultHighlightedValue\") || null,\n        value: prop(\"highlightedValue\"),\n        onChange(value) {\n          prop(\"onHighlightChange\")?.({\n            highlightedValue: value\n          });\n        }\n      })),\n      lastHighlightedValue: bindable(() => ({\n        defaultValue: null\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      })),\n      intentPolygon: bindable(() => ({\n        defaultValue: null\n      })),\n      anchorPoint: bindable(() => ({\n        defaultValue: null,\n        hash(value) {\n          return `x: ${value?.x}, y: ${value?.y}`;\n        }\n      }))\n    };\n  },\n  refs() {\n    return {\n      parent: null,\n      children: {},\n      typeaheadState: {\n        ...getByTypeahead.defaultOptions\n      },\n      positioningOverride: {}\n    };\n  },\n  computed: {\n    isSubmenu: ({\n      refs\n    }) => refs.get(\"parent\") != null,\n    isRtl: ({\n      prop\n    }) => prop(\"dir\") === \"rtl\",\n    isTypingAhead: ({\n      refs\n    }) => refs.get(\"typeaheadState\").keysSoFar !== \"\",\n    highlightedId: ({\n      context,\n      scope,\n      refs\n    }) => resolveItemId(refs.get(\"children\"), context.get(\"highlightedValue\"), scope)\n  },\n  watch({\n    track,\n    action,\n    context,\n    computed,\n    prop\n  }) {\n    track([() => computed(\"isSubmenu\")], () => {\n      action([\"setSubmenuPlacement\"]);\n    });\n    track([() => context.hash(\"anchorPoint\")], () => {\n      action([\"reposition\"]);\n    });\n    track([() => prop(\"open\")], () => {\n      action([\"toggleVisibility\"]);\n    });\n  },\n  on: {\n    \"PARENT.SET\": {\n      actions: [\"setParentMenu\"]\n    },\n    \"CHILD.SET\": {\n      actions: [\"setChildMenu\"]\n    },\n    OPEN: [{\n      guard: \"isOpenControlled\",\n      actions: [\"invokeOnOpen\"]\n    }, {\n      target: \"open\",\n      actions: [\"invokeOnOpen\"]\n    }],\n    OPEN_AUTOFOCUS: [{\n      guard: \"isOpenControlled\",\n      actions: [\"invokeOnOpen\"]\n    }, {\n      // internal: true,\n      target: \"open\",\n      actions: [\"highlightFirstItem\", \"invokeOnOpen\"]\n    }],\n    CLOSE: [{\n      guard: \"isOpenControlled\",\n      actions: [\"invokeOnClose\"]\n    }, {\n      target: \"closed\",\n      actions: [\"invokeOnClose\"]\n    }],\n    \"HIGHLIGHTED.RESTORE\": {\n      actions: [\"restoreHighlightedItem\"]\n    },\n    \"HIGHLIGHTED.SET\": {\n      actions: [\"setHighlightedItem\"]\n    }\n  },\n  states: {\n    idle: {\n      tags: [\"closed\"],\n      on: {\n        \"CONTROLLED.OPEN\": {\n          target: \"open\"\n        },\n        \"CONTROLLED.CLOSE\": {\n          target: \"closed\"\n        },\n        CONTEXT_MENU_START: {\n          target: \"opening:contextmenu\",\n          actions: [\"setAnchorPoint\"]\n        },\n        CONTEXT_MENU: [{\n          guard: \"isOpenControlled\",\n          actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n        }],\n        TRIGGER_CLICK: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"invokeOnOpen\"]\n        }],\n        TRIGGER_FOCUS: {\n          guard: not(\"isSubmenu\"),\n          target: \"closed\"\n        },\n        TRIGGER_POINTERMOVE: {\n          guard: \"isSubmenu\",\n          target: \"opening\"\n        }\n      }\n    },\n    \"opening:contextmenu\": {\n      tags: [\"closed\"],\n      effects: [\"waitForLongPress\"],\n      on: {\n        \"CONTROLLED.OPEN\": {\n          target: \"open\"\n        },\n        \"CONTROLLED.CLOSE\": {\n          target: \"closed\"\n        },\n        CONTEXT_MENU_CANCEL: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnClose\"]\n        }, {\n          target: \"closed\",\n          actions: [\"invokeOnClose\"]\n        }],\n        \"LONG_PRESS.OPEN\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"invokeOnOpen\"]\n        }]\n      }\n    },\n    opening: {\n      tags: [\"closed\"],\n      effects: [\"waitForOpenDelay\"],\n      on: {\n        \"CONTROLLED.OPEN\": {\n          target: \"open\"\n        },\n        \"CONTROLLED.CLOSE\": {\n          target: \"closed\"\n        },\n        BLUR: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnClose\"]\n        }, {\n          target: \"closed\",\n          actions: [\"invokeOnClose\"]\n        }],\n        TRIGGER_POINTERLEAVE: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnClose\"]\n        }, {\n          target: \"closed\",\n          actions: [\"invokeOnClose\"]\n        }],\n        \"DELAY.OPEN\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"invokeOnOpen\"]\n        }]\n      }\n    },\n    closing: {\n      tags: [\"open\"],\n      effects: [\"trackPointerMove\", \"trackInteractOutside\", \"waitForCloseDelay\"],\n      on: {\n        \"CONTROLLED.OPEN\": {\n          target: \"open\"\n        },\n        \"CONTROLLED.CLOSE\": {\n          target: \"closed\",\n          actions: [\"focusParentMenu\", \"restoreParentHighlightedItem\"]\n        },\n        // don't invoke on open here since the menu is still open (we're only keeping it open)\n        MENU_POINTERENTER: {\n          target: \"open\",\n          actions: [\"clearIntentPolygon\"]\n        },\n        POINTER_MOVED_AWAY_FROM_SUBMENU: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnClose\"]\n        }, {\n          target: \"closed\",\n          actions: [\"focusParentMenu\", \"restoreParentHighlightedItem\"]\n        }],\n        \"DELAY.CLOSE\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnClose\"]\n        }, {\n          target: \"closed\",\n          actions: [\"focusParentMenu\", \"restoreParentHighlightedItem\", \"invokeOnClose\"]\n        }]\n      }\n    },\n    closed: {\n      tags: [\"closed\"],\n      entry: [\"clearHighlightedItem\", \"focusTrigger\", \"resumePointer\"],\n      on: {\n        \"CONTROLLED.OPEN\": [{\n          guard: or(\"isOpenAutoFocusEvent\", \"isArrowDownEvent\"),\n          target: \"open\",\n          actions: [\"highlightFirstItem\"]\n        }, {\n          guard: \"isArrowUpEvent\",\n          target: \"open\",\n          actions: [\"highlightLastItem\"]\n        }, {\n          target: \"open\"\n        }],\n        CONTEXT_MENU_START: {\n          target: \"opening:contextmenu\",\n          actions: [\"setAnchorPoint\"]\n        },\n        CONTEXT_MENU: [{\n          guard: \"isOpenControlled\",\n          actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n        }],\n        TRIGGER_CLICK: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"invokeOnOpen\"]\n        }],\n        TRIGGER_POINTERMOVE: {\n          guard: \"isTriggerItem\",\n          target: \"opening\"\n        },\n        TRIGGER_BLUR: {\n          target: \"idle\"\n        },\n        ARROW_DOWN: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"highlightFirstItem\", \"invokeOnOpen\"]\n        }],\n        ARROW_UP: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"highlightLastItem\", \"invokeOnOpen\"]\n        }]\n      }\n    },\n    open: {\n      tags: [\"open\"],\n      effects: [\"trackInteractOutside\", \"trackPositioning\", \"scrollToHighlightedItem\"],\n      entry: [\"focusMenu\", \"resumePointer\"],\n      on: {\n        \"CONTROLLED.CLOSE\": [{\n          target: \"closed\",\n          guard: \"isArrowLeftEvent\",\n          actions: [\"focusParentMenu\"]\n        }, {\n          target: \"closed\"\n        }],\n        TRIGGER_CLICK: [{\n          guard: and(not(\"isTriggerItem\"), \"isOpenControlled\"),\n          actions: [\"invokeOnClose\"]\n        }, {\n          guard: not(\"isTriggerItem\"),\n          target: \"closed\",\n          actions: [\"invokeOnClose\"]\n        }],\n        CONTEXT_MENU: {\n          actions: [\"setAnchorPoint\", \"focusMenu\"]\n        },\n        ARROW_UP: {\n          actions: [\"highlightPrevItem\", \"focusMenu\"]\n        },\n        ARROW_DOWN: {\n          actions: [\"highlightNextItem\", \"focusMenu\"]\n        },\n        ARROW_LEFT: [{\n          guard: and(\"isSubmenu\", \"isOpenControlled\"),\n          actions: [\"invokeOnClose\"]\n        }, {\n          guard: \"isSubmenu\",\n          target: \"closed\",\n          actions: [\"focusParentMenu\", \"invokeOnClose\"]\n        }],\n        HOME: {\n          actions: [\"highlightFirstItem\", \"focusMenu\"]\n        },\n        END: {\n          actions: [\"highlightLastItem\", \"focusMenu\"]\n        },\n        ARROW_RIGHT: {\n          guard: \"isTriggerItemHighlighted\",\n          actions: [\"openSubmenu\"]\n        },\n        ENTER: [{\n          guard: \"isTriggerItemHighlighted\",\n          actions: [\"openSubmenu\"]\n        }, {\n          actions: [\"clickHighlightedItem\"]\n        }],\n        ITEM_POINTERMOVE: [{\n          guard: not(\"isPointerSuspended\"),\n          actions: [\"setHighlightedItem\", \"focusMenu\"]\n        }, {\n          actions: [\"setLastHighlightedItem\"]\n        }],\n        ITEM_POINTERLEAVE: {\n          guard: and(not(\"isPointerSuspended\"), not(\"isTriggerItem\")),\n          actions: [\"clearHighlightedItem\"]\n        },\n        ITEM_CLICK: [\n        // == grouped ==\n        {\n          guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\"), \"closeOnSelect\", \"isOpenControlled\"),\n          actions: [\"invokeOnSelect\", \"setOptionState\", \"closeRootMenu\", \"invokeOnClose\"]\n        }, {\n          guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\"), \"closeOnSelect\"),\n          target: \"closed\",\n          actions: [\"invokeOnSelect\", \"setOptionState\", \"closeRootMenu\", \"invokeOnClose\"]\n        },\n        //\n        {\n          guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\")),\n          actions: [\"invokeOnSelect\", \"setOptionState\"]\n        }, {\n          actions: [\"setHighlightedItem\"]\n        }],\n        TRIGGER_POINTERMOVE: {\n          guard: \"isTriggerItem\",\n          actions: [\"setIntentPolygon\"]\n        },\n        TRIGGER_POINTERLEAVE: {\n          target: \"closing\"\n        },\n        ITEM_POINTERDOWN: {\n          actions: [\"setHighlightedItem\"]\n        },\n        TYPEAHEAD: {\n          actions: [\"highlightMatchedItem\"]\n        },\n        FOCUS_MENU: {\n          actions: [\"focusMenu\"]\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      closeOnSelect: ({\n        prop,\n        event\n      }) => !!(event?.closeOnSelect ?? prop(\"closeOnSelect\")),\n      // whether the trigger is also a menu item\n      isTriggerItem: ({\n        event\n      }) => isTriggerItem(event.target),\n      // whether the trigger item is the active item\n      isTriggerItemHighlighted: ({\n        event,\n        scope,\n        computed\n      }) => {\n        const target = event.target ?? scope.getById(computed(\"highlightedId\"));\n        return !!target?.hasAttribute(\"aria-controls\");\n      },\n      isSubmenu: ({\n        computed\n      }) => computed(\"isSubmenu\"),\n      isPointerSuspended: ({\n        context\n      }) => context.get(\"suspendPointer\"),\n      isHighlightedItemEditable: ({\n        scope,\n        computed\n      }) => isEditableElement(scope.getById(computed(\"highlightedId\"))),\n      // guard assertions (for controlled mode)\n      isOpenControlled: ({\n        prop\n      }) => prop(\"open\") !== void 0,\n      isArrowLeftEvent: ({\n        event\n      }) => event.previousEvent?.type === \"ARROW_LEFT\",\n      isArrowUpEvent: ({\n        event\n      }) => event.previousEvent?.type === \"ARROW_UP\",\n      isArrowDownEvent: ({\n        event\n      }) => event.previousEvent?.type === \"ARROW_DOWN\",\n      isOpenAutoFocusEvent: ({\n        event\n      }) => event.previousEvent?.type === \"OPEN_AUTOFOCUS\"\n    },\n    effects: {\n      waitForOpenDelay({\n        send\n      }) {\n        const timer = setTimeout(() => {\n          send({\n            type: \"DELAY.OPEN\"\n          });\n        }, 100);\n        return () => clearTimeout(timer);\n      },\n      waitForCloseDelay({\n        send\n      }) {\n        const timer = setTimeout(() => {\n          send({\n            type: \"DELAY.CLOSE\"\n          });\n        }, 300);\n        return () => clearTimeout(timer);\n      },\n      waitForLongPress({\n        send\n      }) {\n        const timer = setTimeout(() => {\n          send({\n            type: \"LONG_PRESS.OPEN\"\n          });\n        }, 700);\n        return () => clearTimeout(timer);\n      },\n      trackPositioning({\n        context,\n        prop,\n        scope,\n        refs\n      }) {\n        if (!!getContextTriggerEl(scope)) return;\n        const positioning = {\n          ...prop(\"positioning\"),\n          ...refs.get(\"positioningOverride\")\n        };\n        context.set(\"currentPlacement\", positioning.placement);\n        const getPositionerEl2 = () => getPositionerEl(scope);\n        return getPlacement(getTriggerEl(scope), getPositionerEl2, {\n          ...positioning,\n          defer: true,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      trackInteractOutside({\n        refs,\n        scope,\n        prop,\n        computed,\n        send\n      }) {\n        const getContentEl2 = () => getContentEl(scope);\n        let restoreFocus = true;\n        return trackDismissableElement(getContentEl2, {\n          defer: true,\n          exclude: [getTriggerEl(scope)],\n          onInteractOutside: prop(\"onInteractOutside\"),\n          onFocusOutside: prop(\"onFocusOutside\"),\n          onEscapeKeyDown(event) {\n            prop(\"onEscapeKeyDown\")?.(event);\n            if (computed(\"isSubmenu\")) event.preventDefault();\n            closeRootMenu({\n              parent: refs.get(\"parent\")\n            });\n          },\n          onPointerDownOutside(event) {\n            const target = getEventTarget(event.detail.originalEvent);\n            const isWithinContextTrigger = contains(getContextTriggerEl(scope), target);\n            if (isWithinContextTrigger && event.detail.contextmenu) {\n              event.preventDefault();\n              return;\n            }\n            restoreFocus = !event.detail.focusable;\n            prop(\"onPointerDownOutside\")?.(event);\n          },\n          onDismiss() {\n            send({\n              type: \"CLOSE\",\n              src: \"interact-outside\",\n              restoreFocus\n            });\n          }\n        });\n      },\n      trackPointerMove({\n        context,\n        scope,\n        send,\n        refs,\n        flush\n      }) {\n        const parent = refs.get(\"parent\");\n        flush(() => {\n          parent.context.set(\"suspendPointer\", true);\n        });\n        const doc = scope.getDoc();\n        return addDomEvent(doc, \"pointermove\", e => {\n          const isMovingToSubmenu = isWithinPolygon(context.get(\"intentPolygon\"), {\n            x: e.clientX,\n            y: e.clientY\n          });\n          if (!isMovingToSubmenu) {\n            send({\n              type: \"POINTER_MOVED_AWAY_FROM_SUBMENU\"\n            });\n            parent.context.set(\"suspendPointer\", false);\n          }\n        });\n      },\n      scrollToHighlightedItem({\n        event,\n        scope,\n        computed\n      }) {\n        const exec = () => {\n          if (event.type.startsWith(\"ITEM_POINTER\")) return;\n          const itemEl = scope.getById(computed(\"highlightedId\"));\n          const contentEl2 = getContentEl(scope);\n          scrollIntoView(itemEl, {\n            rootEl: contentEl2,\n            block: \"nearest\"\n          });\n        };\n        raf(() => exec());\n        const contentEl = () => getContentEl(scope);\n        return observeAttributes(contentEl, {\n          defer: true,\n          attributes: [\"aria-activedescendant\"],\n          callback: exec\n        });\n      }\n    },\n    actions: {\n      setAnchorPoint({\n        context,\n        event\n      }) {\n        context.set(\"anchorPoint\", event.point);\n      },\n      setSubmenuPlacement({\n        computed,\n        refs\n      }) {\n        if (!computed(\"isSubmenu\")) return;\n        const placement = computed(\"isRtl\") ? \"left-start\" : \"right-start\";\n        refs.set(\"positioningOverride\", {\n          placement,\n          gutter: 0\n        });\n      },\n      reposition({\n        context,\n        scope,\n        prop,\n        event,\n        refs\n      }) {\n        const getPositionerEl2 = () => getPositionerEl(scope);\n        const anchorPoint = context.get(\"anchorPoint\");\n        const getAnchorRect = anchorPoint ? () => ({\n          width: 0,\n          height: 0,\n          ...anchorPoint\n        }) : void 0;\n        const positioning = {\n          ...prop(\"positioning\"),\n          ...refs.get(\"positioningOverride\")\n        };\n        getPlacement(getTriggerEl(scope), getPositionerEl2, {\n          ...positioning,\n          defer: true,\n          getAnchorRect,\n          ...(event.options ?? {}),\n          listeners: false,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      setOptionState({\n        event\n      }) {\n        if (!event.option) return;\n        const {\n          checked,\n          onCheckedChange,\n          type\n        } = event.option;\n        if (type === \"radio\") {\n          onCheckedChange?.(true);\n        } else if (type === \"checkbox\") {\n          onCheckedChange?.(!checked);\n        }\n      },\n      clickHighlightedItem({\n        scope,\n        computed\n      }) {\n        const itemEl = scope.getById(computed(\"highlightedId\"));\n        if (!itemEl || itemEl.dataset.disabled) return;\n        queueMicrotask(() => itemEl.click());\n      },\n      setIntentPolygon({\n        context,\n        scope,\n        event\n      }) {\n        const menu = getContentEl(scope);\n        const placement = context.get(\"currentPlacement\");\n        if (!menu || !placement) return;\n        const rect = menu.getBoundingClientRect();\n        const polygon = getElementPolygon(rect, placement);\n        if (!polygon) return;\n        const rightSide = getPlacementSide(placement) === \"right\";\n        const bleed = rightSide ? -5 : 5;\n        context.set(\"intentPolygon\", [{\n          ...event.point,\n          x: event.point.x + bleed\n        }, ...polygon]);\n      },\n      clearIntentPolygon({\n        context\n      }) {\n        context.set(\"intentPolygon\", null);\n      },\n      resumePointer({\n        refs,\n        flush\n      }) {\n        const parent = refs.get(\"parent\");\n        if (!parent) return;\n        flush(() => {\n          parent.context.set(\"suspendPointer\", false);\n        });\n      },\n      setHighlightedItem({\n        context,\n        event\n      }) {\n        const value = event.value || getItemValue(event.target);\n        context.set(\"highlightedValue\", value);\n      },\n      clearHighlightedItem({\n        context\n      }) {\n        context.set(\"highlightedValue\", null);\n      },\n      focusMenu({\n        scope\n      }) {\n        raf(() => {\n          const contentEl = getContentEl(scope);\n          const initialFocusEl = getInitialFocus({\n            root: contentEl,\n            enabled: !contains(contentEl, scope.getActiveElement()),\n            filter(node) {\n              return !node.role?.startsWith(\"menuitem\");\n            }\n          });\n          initialFocusEl?.focus({\n            preventScroll: true\n          });\n        });\n      },\n      highlightFirstItem({\n        context,\n        scope\n      }) {\n        const fn = getContentEl(scope) ? queueMicrotask : raf;\n        fn(() => {\n          const first2 = getFirstEl(scope);\n          if (!first2) return;\n          context.set(\"highlightedValue\", getItemValue(first2));\n        });\n      },\n      highlightLastItem({\n        context,\n        scope\n      }) {\n        const fn = getContentEl(scope) ? queueMicrotask : raf;\n        fn(() => {\n          const last2 = getLastEl(scope);\n          if (!last2) return;\n          context.set(\"highlightedValue\", getItemValue(last2));\n        });\n      },\n      highlightNextItem({\n        context,\n        scope,\n        event,\n        prop\n      }) {\n        const next2 = getNextEl(scope, {\n          loop: event.loop,\n          value: context.get(\"highlightedValue\"),\n          loopFocus: prop(\"loopFocus\")\n        });\n        context.set(\"highlightedValue\", getItemValue(next2));\n      },\n      highlightPrevItem({\n        context,\n        scope,\n        event,\n        prop\n      }) {\n        const prev2 = getPrevEl(scope, {\n          loop: event.loop,\n          value: context.get(\"highlightedValue\"),\n          loopFocus: prop(\"loopFocus\")\n        });\n        context.set(\"highlightedValue\", getItemValue(prev2));\n      },\n      invokeOnSelect({\n        context,\n        prop,\n        scope\n      }) {\n        const value = context.get(\"highlightedValue\");\n        if (value == null) return;\n        const node = getItemEl(scope, value);\n        dispatchSelectionEvent(node, value);\n        prop(\"onSelect\")?.({\n          value\n        });\n      },\n      focusTrigger({\n        scope,\n        context,\n        event,\n        computed\n      }) {\n        if (computed(\"isSubmenu\") || context.get(\"anchorPoint\") || event.restoreFocus === false) return;\n        queueMicrotask(() => getTriggerEl(scope)?.focus({\n          preventScroll: true\n        }));\n      },\n      highlightMatchedItem({\n        scope,\n        context,\n        event,\n        refs\n      }) {\n        const node = getElemByKey(scope, {\n          key: event.key,\n          value: context.get(\"highlightedValue\"),\n          typeaheadState: refs.get(\"typeaheadState\")\n        });\n        if (!node) return;\n        context.set(\"highlightedValue\", getItemValue(node));\n      },\n      setParentMenu({\n        refs,\n        event\n      }) {\n        refs.set(\"parent\", event.value);\n      },\n      setChildMenu({\n        refs,\n        event\n      }) {\n        const children = refs.get(\"children\");\n        children[event.id] = event.value;\n        refs.set(\"children\", children);\n      },\n      closeRootMenu({\n        refs\n      }) {\n        closeRootMenu({\n          parent: refs.get(\"parent\")\n        });\n      },\n      openSubmenu({\n        refs,\n        scope,\n        computed\n      }) {\n        const item = scope.getById(computed(\"highlightedId\"));\n        const id = item?.getAttribute(\"data-uid\");\n        const children = refs.get(\"children\");\n        const child = id ? children[id] : null;\n        child?.send({\n          type: \"OPEN_AUTOFOCUS\"\n        });\n      },\n      focusParentMenu({\n        refs\n      }) {\n        refs.get(\"parent\")?.send({\n          type: \"FOCUS_MENU\"\n        });\n      },\n      setLastHighlightedItem({\n        context,\n        event\n      }) {\n        context.set(\"lastHighlightedValue\", getItemValue(event.target));\n      },\n      restoreHighlightedItem({\n        context\n      }) {\n        if (!context.get(\"lastHighlightedValue\")) return;\n        context.set(\"highlightedValue\", context.get(\"lastHighlightedValue\"));\n        context.set(\"lastHighlightedValue\", null);\n      },\n      restoreParentHighlightedItem({\n        refs\n      }) {\n        refs.get(\"parent\")?.send({\n          type: \"HIGHLIGHTED.RESTORE\"\n        });\n      },\n      invokeOnOpen({\n        prop\n      }) {\n        prop(\"onOpenChange\")?.({\n          open: true\n        });\n      },\n      invokeOnClose({\n        prop\n      }) {\n        prop(\"onOpenChange\")?.({\n          open: false\n        });\n      },\n      toggleVisibility({\n        prop,\n        event,\n        send\n      }) {\n        send({\n          type: prop(\"open\") ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\",\n          previousEvent: event\n        });\n      }\n    }\n  }\n});\nfunction closeRootMenu(ctx) {\n  let parent = ctx.parent;\n  while (parent && parent.computed(\"isSubmenu\")) {\n    parent = parent.refs.get(\"parent\");\n  }\n  parent?.send({\n    type: \"CLOSE\"\n  });\n}\nfunction isWithinPolygon(polygon, point) {\n  if (!polygon) return false;\n  return isPointInPolygon(polygon, point);\n}\nfunction resolveItemId(children, value, scope) {\n  const hasChildren = Object.keys(children).length > 0;\n  if (!value) return null;\n  if (!hasChildren) {\n    return getItemId(scope, value);\n  }\n  for (const id in children) {\n    const childMenu = children[id];\n    const childTriggerId = getTriggerId(childMenu.scope);\n    if (childTriggerId === value) {\n      return childTriggerId;\n    }\n  }\n  return getItemId(scope, value);\n}\nvar props = createProps()([\"anchorPoint\", \"aria-label\", \"closeOnSelect\", \"composite\", \"defaultHighlightedValue\", \"defaultOpen\", \"dir\", \"getRootNode\", \"highlightedValue\", \"id\", \"ids\", \"loopFocus\", \"navigate\", \"onEscapeKeyDown\", \"onFocusOutside\", \"onHighlightChange\", \"onInteractOutside\", \"onOpenChange\", \"onPointerDownOutside\", \"onSelect\", \"open\", \"positioning\", \"typeahead\"]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"closeOnSelect\", \"disabled\", \"value\", \"valueText\"]);\nvar splitItemProps = createSplitProps(itemProps);\nvar itemGroupLabelProps = createProps()([\"htmlFor\"]);\nvar splitItemGroupLabelProps = createSplitProps(itemGroupLabelProps);\nvar itemGroupProps = createProps()([\"id\"]);\nvar splitItemGroupProps = createSplitProps(itemGroupProps);\nvar optionItemProps = createProps()([\"checked\", \"closeOnSelect\", \"disabled\", \"onCheckedChange\", \"type\", \"value\", \"valueText\"]);\nvar splitOptionItemProps = createSplitProps(optionItemProps);\nexport { anatomy, connect, itemGroupLabelProps, itemGroupProps, itemProps, machine, optionItemProps, props, splitItemGroupLabelProps, splitItemGroupProps, splitItemProps, splitOptionItemProps, splitProps };","map":{"version":3,"names":["createAnatomy","createGuards","createMachine","mergeProps","isEditableElement","raf","getInitialFocus","contains","observeAttributes","addDomEvent","getEventTarget","getByTypeahead","clickIfLink","getWindow","scrollIntoView","queryAll","dataAttr","isDownloadingEvent","isOpeningInNewTab","isSelfTarget","isValidTabEvent","getEventKey","isPrintableKey","isModifierKey","isContextMenuEvent","getEventPoint","ariaAttr","isAnchorElement","isHTMLElement","getPlacementSide","getPlacement","getPlacementStyles","last","first","createSplitProps","prev","next","trackDismissableElement","getElementPolygon","isPointInPolygon","createProps","anatomy","parts","build","getTriggerId","ctx","ids","trigger","id","getContextTriggerId","contextTrigger","getContentId","content","getArrowId","arrow","getPositionerId","positioner","getGroupId","group","getItemId","getItemValue","el","dataset","value","getGroupLabelId","groupLabel","getContentEl","getById","getPositionerEl","getTriggerEl","getItemEl","getContextTriggerEl","getElements","ownerId","CSS","escape","selector","getFirstEl","getLastEl","isMatch","getNextEl","opts","items","index","findIndex","loop","loopFocus","getPrevEl","getElemByKey","item","find","state","typeaheadState","key","activeId","isTargetDisabled","v","disabled","hasAttribute","isTriggerItem","getAttribute","startsWith","itemSelectEvent","dispatchSelectionEvent","win","event","CustomEvent","detail","dispatchEvent","connect","service","normalize","context","send","computed","prop","scope","open","hasTag","isSubmenu","isTypingAhead","composite","currentPlacement","get","anchorPoint","highlightedValue","popperStyles","placement","getItemState","props2","highlighted","getOptionItemProps","valueText","getOptionItemState","itemState","checked","getItemProps","closeOnSelect","element","attrs","role","onDragStart","isLink","currentTarget","matches","preventDefault","onPointerMove","pointerType","target","type","onPointerLeave","pointerMoved","previous","includes","onPointerDown","onClick","setOpen","nextOpen","open2","setHighlightedValue","setParent","parent","setChild","child","reposition","options","addItemListener","node","listener","onSelect","addEventListener","removeEventListener","getContextTriggerProps","dir","point","onPointerCancel","onPointerUp","onContextMenu","style","WebkitTouchCallout","WebkitUserSelect","userSelect","getTriggerItemProps","childApi","triggerProps","getTriggerProps","button","triggerItem","defaultPrevented","onBlur","onFocus","onKeyDown","keyMap","ArrowDown","ArrowUp","Enter","src","Space","orientation","exec","getIndicatorProps","indicator","getPositionerProps","floating","getArrowProps","getArrowTipProps","arrowTip","getContentProps","hidden","tabIndex","onPointerEnter","sameMenu","closest","valid","ArrowLeft","ArrowRight","href","event2","Home","End","stopPropagation","getSeparatorProps","separator","onCheckedChange","option","getItemIndicatorProps","itemIndicator","getItemTextProps","itemText","getItemGroupLabelProps","itemGroupLabel","htmlFor","getItemGroupProps","itemGroup","not","and","or","machine","props","typeahead","navigate","details","positioning","gutter","initialState","bindable","suspendPointer","defaultValue","onChange","lastHighlightedValue","intentPolygon","hash","x","y","refs","children","defaultOptions","positioningOverride","isRtl","keysSoFar","highlightedId","resolveItemId","watch","track","action","on","actions","OPEN","guard","OPEN_AUTOFOCUS","CLOSE","states","idle","tags","CONTEXT_MENU_START","CONTEXT_MENU","TRIGGER_CLICK","TRIGGER_FOCUS","TRIGGER_POINTERMOVE","effects","CONTEXT_MENU_CANCEL","opening","BLUR","TRIGGER_POINTERLEAVE","closing","MENU_POINTERENTER","POINTER_MOVED_AWAY_FROM_SUBMENU","closed","entry","TRIGGER_BLUR","ARROW_DOWN","ARROW_UP","ARROW_LEFT","HOME","END","ARROW_RIGHT","ENTER","ITEM_POINTERMOVE","ITEM_POINTERLEAVE","ITEM_CLICK","ITEM_POINTERDOWN","TYPEAHEAD","FOCUS_MENU","implementations","guards","isTriggerItemHighlighted","isPointerSuspended","isHighlightedItemEditable","isOpenControlled","isArrowLeftEvent","previousEvent","isArrowUpEvent","isArrowDownEvent","isOpenAutoFocusEvent","waitForOpenDelay","timer","setTimeout","clearTimeout","waitForCloseDelay","waitForLongPress","trackPositioning","set","getPositionerEl2","defer","onComplete","data","trackInteractOutside","getContentEl2","restoreFocus","exclude","onInteractOutside","onFocusOutside","onEscapeKeyDown","closeRootMenu","onPointerDownOutside","originalEvent","isWithinContextTrigger","contextmenu","focusable","onDismiss","trackPointerMove","flush","doc","getDoc","e","isMovingToSubmenu","isWithinPolygon","clientX","clientY","scrollToHighlightedItem","itemEl","contentEl2","rootEl","block","contentEl","attributes","callback","setAnchorPoint","setSubmenuPlacement","getAnchorRect","width","height","listeners","setOptionState","clickHighlightedItem","queueMicrotask","click","setIntentPolygon","menu","rect","getBoundingClientRect","polygon","rightSide","bleed","clearIntentPolygon","resumePointer","setHighlightedItem","clearHighlightedItem","focusMenu","initialFocusEl","root","enabled","getActiveElement","filter","focus","preventScroll","highlightFirstItem","fn","first2","highlightLastItem","last2","highlightNextItem","next2","highlightPrevItem","prev2","invokeOnSelect","focusTrigger","highlightMatchedItem","setParentMenu","setChildMenu","openSubmenu","focusParentMenu","setLastHighlightedItem","restoreHighlightedItem","restoreParentHighlightedItem","invokeOnOpen","invokeOnClose","toggleVisibility","hasChildren","Object","keys","length","childMenu","childTriggerId","splitProps","itemProps","splitItemProps","itemGroupLabelProps","splitItemGroupLabelProps","itemGroupProps","splitItemGroupProps","optionItemProps","splitOptionItemProps"],"sources":["C:/Users/tuanl/weekly-todo-frontend/node_modules/@zag-js/menu/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { createGuards, createMachine, mergeProps } from '@zag-js/core';\nimport { isEditableElement, raf, getInitialFocus, contains, observeAttributes, addDomEvent, getEventTarget, getByTypeahead, clickIfLink, getWindow, scrollIntoView, queryAll, dataAttr, isDownloadingEvent, isOpeningInNewTab, isSelfTarget, isValidTabEvent, getEventKey, isPrintableKey, isModifierKey, isContextMenuEvent, getEventPoint, ariaAttr, isAnchorElement, isHTMLElement } from '@zag-js/dom-query';\nimport { getPlacementSide, getPlacement, getPlacementStyles } from '@zag-js/popper';\nimport { last, first, createSplitProps, prev, next } from '@zag-js/utils';\nimport { trackDismissableElement } from '@zag-js/dismissable';\nimport { getElementPolygon, isPointInPolygon } from '@zag-js/rect-utils';\nimport { createProps } from '@zag-js/types';\n\n// src/menu.anatomy.ts\nvar anatomy = createAnatomy(\"menu\").parts(\n  \"arrow\",\n  \"arrowTip\",\n  \"content\",\n  \"contextTrigger\",\n  \"indicator\",\n  \"item\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"itemIndicator\",\n  \"itemText\",\n  \"positioner\",\n  \"separator\",\n  \"trigger\",\n  \"triggerItem\"\n);\nvar parts = anatomy.build();\nvar getTriggerId = (ctx) => ctx.ids?.trigger ?? `menu:${ctx.id}:trigger`;\nvar getContextTriggerId = (ctx) => ctx.ids?.contextTrigger ?? `menu:${ctx.id}:ctx-trigger`;\nvar getContentId = (ctx) => ctx.ids?.content ?? `menu:${ctx.id}:content`;\nvar getArrowId = (ctx) => ctx.ids?.arrow ?? `menu:${ctx.id}:arrow`;\nvar getPositionerId = (ctx) => ctx.ids?.positioner ?? `menu:${ctx.id}:popper`;\nvar getGroupId = (ctx, id) => ctx.ids?.group?.(id) ?? `menu:${ctx.id}:group:${id}`;\nvar getItemId = (ctx, id) => `${ctx.id}/${id}`;\nvar getItemValue = (el) => el?.dataset.value ?? null;\nvar getGroupLabelId = (ctx, id) => ctx.ids?.groupLabel?.(id) ?? `menu:${ctx.id}:group-label:${id}`;\nvar getContentEl = (ctx) => ctx.getById(getContentId(ctx));\nvar getPositionerEl = (ctx) => ctx.getById(getPositionerId(ctx));\nvar getTriggerEl = (ctx) => ctx.getById(getTriggerId(ctx));\nvar getItemEl = (ctx, value) => value ? ctx.getById(getItemId(ctx, value)) : null;\nvar getContextTriggerEl = (ctx) => ctx.getById(getContextTriggerId(ctx));\nvar getElements = (ctx) => {\n  const ownerId = CSS.escape(getContentId(ctx));\n  const selector = `[role^=\"menuitem\"][data-ownedby=${ownerId}]:not([data-disabled])`;\n  return queryAll(getContentEl(ctx), selector);\n};\nvar getFirstEl = (ctx) => first(getElements(ctx));\nvar getLastEl = (ctx) => last(getElements(ctx));\nvar isMatch = (el, value) => {\n  if (!value) return false;\n  return el.id === value || el.dataset.value === value;\n};\nvar getNextEl = (ctx, opts) => {\n  const items = getElements(ctx);\n  const index = items.findIndex((el) => isMatch(el, opts.value));\n  return next(items, index, { loop: opts.loop ?? opts.loopFocus });\n};\nvar getPrevEl = (ctx, opts) => {\n  const items = getElements(ctx);\n  const index = items.findIndex((el) => isMatch(el, opts.value));\n  return prev(items, index, { loop: opts.loop ?? opts.loopFocus });\n};\nvar getElemByKey = (ctx, opts) => {\n  const items = getElements(ctx);\n  const item = items.find((el) => isMatch(el, opts.value));\n  return getByTypeahead(items, { state: opts.typeaheadState, key: opts.key, activeId: item?.id ?? null });\n};\nvar isTargetDisabled = (v) => {\n  return isHTMLElement(v) && (v.dataset.disabled === \"\" || v.hasAttribute(\"disabled\"));\n};\nvar isTriggerItem = (el) => {\n  return !!el?.getAttribute(\"role\")?.startsWith(\"menuitem\") && !!el?.hasAttribute(\"aria-controls\");\n};\nvar itemSelectEvent = \"menu:select\";\nfunction dispatchSelectionEvent(el, value) {\n  if (!el) return;\n  const win = getWindow(el);\n  const event = new win.CustomEvent(itemSelectEvent, { detail: { value } });\n  el.dispatchEvent(event);\n}\n\n// src/menu.connect.ts\nfunction connect(service, normalize) {\n  const { context, send, state, computed, prop, scope } = service;\n  const open = state.hasTag(\"open\");\n  const isSubmenu = computed(\"isSubmenu\");\n  const isTypingAhead = computed(\"isTypingAhead\");\n  const composite = prop(\"composite\");\n  const currentPlacement = context.get(\"currentPlacement\");\n  const anchorPoint = context.get(\"anchorPoint\");\n  const highlightedValue = context.get(\"highlightedValue\");\n  const popperStyles = getPlacementStyles({\n    ...prop(\"positioning\"),\n    placement: anchorPoint ? \"bottom\" : currentPlacement\n  });\n  function getItemState(props2) {\n    return {\n      id: getItemId(scope, props2.value),\n      disabled: !!props2.disabled,\n      highlighted: highlightedValue === props2.value\n    };\n  }\n  function getOptionItemProps(props2) {\n    const valueText = props2.valueText ?? props2.value;\n    return { ...props2, id: props2.value, valueText };\n  }\n  function getOptionItemState(props2) {\n    const itemState = getItemState(getOptionItemProps(props2));\n    return {\n      ...itemState,\n      checked: !!props2.checked\n    };\n  }\n  function getItemProps(props2) {\n    const { closeOnSelect, valueText, value } = props2;\n    const itemState = getItemState(props2);\n    const id = getItemId(scope, value);\n    return normalize.element({\n      ...parts.item.attrs,\n      id,\n      role: \"menuitem\",\n      \"aria-disabled\": ariaAttr(itemState.disabled),\n      \"data-disabled\": dataAttr(itemState.disabled),\n      \"data-ownedby\": getContentId(scope),\n      \"data-highlighted\": dataAttr(itemState.highlighted),\n      \"data-value\": value,\n      \"data-valuetext\": valueText,\n      onDragStart(event) {\n        const isLink = event.currentTarget.matches(\"a[href]\");\n        if (isLink) event.preventDefault();\n      },\n      onPointerMove(event) {\n        if (itemState.disabled) return;\n        if (event.pointerType !== \"mouse\") return;\n        const target = event.currentTarget;\n        if (itemState.highlighted) return;\n        send({ type: \"ITEM_POINTERMOVE\", id, target, closeOnSelect });\n      },\n      onPointerLeave(event) {\n        if (itemState.disabled) return;\n        if (event.pointerType !== \"mouse\") return;\n        const pointerMoved = service.event.previous()?.type.includes(\"POINTER\");\n        if (!pointerMoved) return;\n        const target = event.currentTarget;\n        send({ type: \"ITEM_POINTERLEAVE\", id, target, closeOnSelect });\n      },\n      onPointerDown(event) {\n        if (itemState.disabled) return;\n        const target = event.currentTarget;\n        send({ type: \"ITEM_POINTERDOWN\", target, id, closeOnSelect });\n      },\n      onClick(event) {\n        if (isDownloadingEvent(event)) return;\n        if (isOpeningInNewTab(event)) return;\n        if (itemState.disabled) return;\n        const target = event.currentTarget;\n        send({ type: \"ITEM_CLICK\", target, id, closeOnSelect });\n      }\n    });\n  }\n  return {\n    highlightedValue,\n    open,\n    setOpen(nextOpen) {\n      const open2 = state.hasTag(\"open\");\n      if (open2 === nextOpen) return;\n      send({ type: nextOpen ? \"OPEN\" : \"CLOSE\" });\n    },\n    setHighlightedValue(value) {\n      send({ type: \"HIGHLIGHTED.SET\", value });\n    },\n    setParent(parent) {\n      send({ type: \"PARENT.SET\", value: parent, id: parent.prop(\"id\") });\n    },\n    setChild(child) {\n      send({ type: \"CHILD.SET\", value: child, id: child.prop(\"id\") });\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options });\n    },\n    addItemListener(props2) {\n      const node = scope.getById(props2.id);\n      if (!node) return;\n      const listener = () => props2.onSelect?.();\n      node.addEventListener(itemSelectEvent, listener);\n      return () => node.removeEventListener(itemSelectEvent, listener);\n    },\n    getContextTriggerProps() {\n      return normalize.element({\n        ...parts.contextTrigger.attrs,\n        dir: prop(\"dir\"),\n        id: getContextTriggerId(scope),\n        onPointerDown(event) {\n          if (event.pointerType === \"mouse\") return;\n          const point = getEventPoint(event);\n          send({ type: \"CONTEXT_MENU_START\", point });\n        },\n        onPointerCancel(event) {\n          if (event.pointerType === \"mouse\") return;\n          send({ type: \"CONTEXT_MENU_CANCEL\" });\n        },\n        onPointerMove(event) {\n          if (event.pointerType === \"mouse\") return;\n          send({ type: \"CONTEXT_MENU_CANCEL\" });\n        },\n        onPointerUp(event) {\n          if (event.pointerType === \"mouse\") return;\n          send({ type: \"CONTEXT_MENU_CANCEL\" });\n        },\n        onContextMenu(event) {\n          const point = getEventPoint(event);\n          send({ type: \"CONTEXT_MENU\", point });\n          event.preventDefault();\n        },\n        style: {\n          WebkitTouchCallout: \"none\",\n          WebkitUserSelect: \"none\",\n          userSelect: \"none\"\n        }\n      });\n    },\n    getTriggerItemProps(childApi) {\n      const triggerProps = childApi.getTriggerProps();\n      return mergeProps(getItemProps({ value: triggerProps.id }), triggerProps);\n    },\n    getTriggerProps() {\n      return normalize.button({\n        ...isSubmenu ? parts.triggerItem.attrs : parts.trigger.attrs,\n        \"data-placement\": context.get(\"currentPlacement\"),\n        type: \"button\",\n        dir: prop(\"dir\"),\n        id: getTriggerId(scope),\n        \"data-uid\": prop(\"id\"),\n        \"aria-haspopup\": composite ? \"menu\" : \"dialog\",\n        \"aria-controls\": getContentId(scope),\n        \"aria-expanded\": open || void 0,\n        \"data-state\": open ? \"open\" : \"closed\",\n        onPointerMove(event) {\n          if (event.pointerType !== \"mouse\") return;\n          const disabled = isTargetDisabled(event.currentTarget);\n          if (disabled || !isSubmenu) return;\n          const point = getEventPoint(event);\n          send({ type: \"TRIGGER_POINTERMOVE\", target: event.currentTarget, point });\n        },\n        onPointerLeave(event) {\n          if (isTargetDisabled(event.currentTarget)) return;\n          if (event.pointerType !== \"mouse\") return;\n          if (!isSubmenu) return;\n          const point = getEventPoint(event);\n          send({\n            type: \"TRIGGER_POINTERLEAVE\",\n            target: event.currentTarget,\n            point\n          });\n        },\n        onPointerDown(event) {\n          if (isTargetDisabled(event.currentTarget)) return;\n          if (isContextMenuEvent(event)) return;\n          event.preventDefault();\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (isTargetDisabled(event.currentTarget)) return;\n          send({ type: \"TRIGGER_CLICK\", target: event.currentTarget });\n        },\n        onBlur() {\n          send({ type: \"TRIGGER_BLUR\" });\n        },\n        onFocus() {\n          send({ type: \"TRIGGER_FOCUS\" });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          const keyMap = {\n            ArrowDown() {\n              send({ type: \"ARROW_DOWN\" });\n            },\n            ArrowUp() {\n              send({ type: \"ARROW_UP\" });\n            },\n            Enter() {\n              send({ type: \"ARROW_DOWN\", src: \"enter\" });\n            },\n            Space() {\n              send({ type: \"ARROW_DOWN\", src: \"space\" });\n            }\n          };\n          const key = getEventKey(event, {\n            orientation: \"vertical\",\n            dir: prop(\"dir\")\n          });\n          const exec = keyMap[key];\n          if (exec) {\n            event.preventDefault();\n            exec(event);\n          }\n        }\n      });\n    },\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: prop(\"dir\"),\n        \"data-state\": open ? \"open\" : \"closed\"\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        style: popperStyles.floating\n      });\n    },\n    getArrowProps() {\n      return normalize.element({\n        id: getArrowId(scope),\n        ...parts.arrow.attrs,\n        dir: prop(\"dir\"),\n        style: popperStyles.arrow\n      });\n    },\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: prop(\"dir\"),\n        style: popperStyles.arrowTip\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        id: getContentId(scope),\n        \"aria-label\": prop(\"aria-label\"),\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        role: composite ? \"menu\" : \"dialog\",\n        tabIndex: 0,\n        dir: prop(\"dir\"),\n        \"aria-activedescendant\": computed(\"highlightedId\") || void 0,\n        \"aria-labelledby\": getTriggerId(scope),\n        \"data-placement\": currentPlacement,\n        onPointerEnter(event) {\n          if (event.pointerType !== \"mouse\") return;\n          send({ type: \"MENU_POINTERENTER\" });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!isSelfTarget(event)) return;\n          const target = getEventTarget(event);\n          const sameMenu = target?.closest(\"[role=menu]\") === event.currentTarget || target === event.currentTarget;\n          if (!sameMenu) return;\n          if (event.key === \"Tab\") {\n            const valid = isValidTabEvent(event);\n            if (!valid) {\n              event.preventDefault();\n              return;\n            }\n          }\n          const item = getItemEl(scope, highlightedValue);\n          const keyMap = {\n            ArrowDown() {\n              send({ type: \"ARROW_DOWN\" });\n            },\n            ArrowUp() {\n              send({ type: \"ARROW_UP\" });\n            },\n            ArrowLeft() {\n              send({ type: \"ARROW_LEFT\" });\n            },\n            ArrowRight() {\n              send({ type: \"ARROW_RIGHT\" });\n            },\n            Enter() {\n              send({ type: \"ENTER\" });\n              if (highlightedValue == null) return;\n              if (isAnchorElement(item)) {\n                prop(\"navigate\")?.({ value: highlightedValue, node: item, href: item.href });\n              }\n            },\n            Space(event2) {\n              if (isTypingAhead) {\n                send({ type: \"TYPEAHEAD\", key: event2.key });\n              } else {\n                keyMap.Enter?.(event2);\n              }\n            },\n            Home() {\n              send({ type: \"HOME\" });\n            },\n            End() {\n              send({ type: \"END\" });\n            }\n          };\n          const key = getEventKey(event, { dir: prop(\"dir\") });\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            event.stopPropagation();\n            event.preventDefault();\n            return;\n          }\n          if (!prop(\"typeahead\")) return;\n          if (!isPrintableKey(event)) return;\n          if (isModifierKey(event)) return;\n          if (isEditableElement(target)) return;\n          send({ type: \"TYPEAHEAD\", key: event.key });\n          event.preventDefault();\n        }\n      });\n    },\n    getSeparatorProps() {\n      return normalize.element({\n        ...parts.separator.attrs,\n        role: \"separator\",\n        dir: prop(\"dir\"),\n        \"aria-orientation\": \"horizontal\"\n      });\n    },\n    getItemState,\n    getItemProps,\n    getOptionItemState,\n    getOptionItemProps(props2) {\n      const { type, disabled, onCheckedChange, closeOnSelect } = props2;\n      const option = getOptionItemProps(props2);\n      const itemState = getOptionItemState(props2);\n      return {\n        ...getItemProps(option),\n        ...normalize.element({\n          \"data-type\": type,\n          ...parts.item.attrs,\n          dir: prop(\"dir\"),\n          \"data-value\": option.value,\n          role: `menuitem${type}`,\n          \"aria-checked\": !!itemState.checked,\n          \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n          onClick(event) {\n            if (disabled) return;\n            if (isDownloadingEvent(event)) return;\n            if (isOpeningInNewTab(event)) return;\n            const target = event.currentTarget;\n            send({ type: \"ITEM_CLICK\", target, option, closeOnSelect });\n            onCheckedChange?.(!itemState.checked);\n          }\n        })\n      };\n    },\n    getItemIndicatorProps(props2) {\n      const itemState = getOptionItemState(props2);\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n        hidden: !itemState.checked\n      });\n    },\n    getItemTextProps(props2) {\n      const itemState = getOptionItemState(props2);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.checked ? \"checked\" : \"unchecked\"\n      });\n    },\n    getItemGroupLabelProps(props2) {\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        id: getGroupLabelId(scope, props2.htmlFor),\n        dir: prop(\"dir\")\n      });\n    },\n    getItemGroupProps(props2) {\n      return normalize.element({\n        id: getGroupId(scope, props2.id),\n        ...parts.itemGroup.attrs,\n        dir: prop(\"dir\"),\n        \"aria-labelledby\": getGroupLabelId(scope, props2.id),\n        role: \"group\"\n      });\n    }\n  };\n}\nvar { not, and, or } = createGuards();\nvar machine = createMachine({\n  props({ props: props2 }) {\n    return {\n      closeOnSelect: true,\n      typeahead: true,\n      composite: true,\n      loopFocus: false,\n      navigate(details) {\n        clickIfLink(details.node);\n      },\n      ...props2,\n      positioning: {\n        placement: \"bottom-start\",\n        gutter: 8,\n        ...props2.positioning\n      }\n    };\n  },\n  initialState({ prop }) {\n    const open = prop(\"open\") || prop(\"defaultOpen\");\n    return open ? \"open\" : \"idle\";\n  },\n  context({ bindable, prop }) {\n    return {\n      suspendPointer: bindable(() => ({\n        defaultValue: false\n      })),\n      highlightedValue: bindable(() => ({\n        defaultValue: prop(\"defaultHighlightedValue\") || null,\n        value: prop(\"highlightedValue\"),\n        onChange(value) {\n          prop(\"onHighlightChange\")?.({ highlightedValue: value });\n        }\n      })),\n      lastHighlightedValue: bindable(() => ({\n        defaultValue: null\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      })),\n      intentPolygon: bindable(() => ({\n        defaultValue: null\n      })),\n      anchorPoint: bindable(() => ({\n        defaultValue: null,\n        hash(value) {\n          return `x: ${value?.x}, y: ${value?.y}`;\n        }\n      }))\n    };\n  },\n  refs() {\n    return {\n      parent: null,\n      children: {},\n      typeaheadState: { ...getByTypeahead.defaultOptions },\n      positioningOverride: {}\n    };\n  },\n  computed: {\n    isSubmenu: ({ refs }) => refs.get(\"parent\") != null,\n    isRtl: ({ prop }) => prop(\"dir\") === \"rtl\",\n    isTypingAhead: ({ refs }) => refs.get(\"typeaheadState\").keysSoFar !== \"\",\n    highlightedId: ({ context, scope, refs }) => resolveItemId(refs.get(\"children\"), context.get(\"highlightedValue\"), scope)\n  },\n  watch({ track, action, context, computed, prop }) {\n    track([() => computed(\"isSubmenu\")], () => {\n      action([\"setSubmenuPlacement\"]);\n    });\n    track([() => context.hash(\"anchorPoint\")], () => {\n      action([\"reposition\"]);\n    });\n    track([() => prop(\"open\")], () => {\n      action([\"toggleVisibility\"]);\n    });\n  },\n  on: {\n    \"PARENT.SET\": {\n      actions: [\"setParentMenu\"]\n    },\n    \"CHILD.SET\": {\n      actions: [\"setChildMenu\"]\n    },\n    OPEN: [\n      {\n        guard: \"isOpenControlled\",\n        actions: [\"invokeOnOpen\"]\n      },\n      {\n        target: \"open\",\n        actions: [\"invokeOnOpen\"]\n      }\n    ],\n    OPEN_AUTOFOCUS: [\n      {\n        guard: \"isOpenControlled\",\n        actions: [\"invokeOnOpen\"]\n      },\n      {\n        // internal: true,\n        target: \"open\",\n        actions: [\"highlightFirstItem\", \"invokeOnOpen\"]\n      }\n    ],\n    CLOSE: [\n      {\n        guard: \"isOpenControlled\",\n        actions: [\"invokeOnClose\"]\n      },\n      {\n        target: \"closed\",\n        actions: [\"invokeOnClose\"]\n      }\n    ],\n    \"HIGHLIGHTED.RESTORE\": {\n      actions: [\"restoreHighlightedItem\"]\n    },\n    \"HIGHLIGHTED.SET\": {\n      actions: [\"setHighlightedItem\"]\n    }\n  },\n  states: {\n    idle: {\n      tags: [\"closed\"],\n      on: {\n        \"CONTROLLED.OPEN\": {\n          target: \"open\"\n        },\n        \"CONTROLLED.CLOSE\": {\n          target: \"closed\"\n        },\n        CONTEXT_MENU_START: {\n          target: \"opening:contextmenu\",\n          actions: [\"setAnchorPoint\"]\n        },\n        CONTEXT_MENU: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n          }\n        ],\n        TRIGGER_CLICK: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"invokeOnOpen\"]\n          }\n        ],\n        TRIGGER_FOCUS: {\n          guard: not(\"isSubmenu\"),\n          target: \"closed\"\n        },\n        TRIGGER_POINTERMOVE: {\n          guard: \"isSubmenu\",\n          target: \"opening\"\n        }\n      }\n    },\n    \"opening:contextmenu\": {\n      tags: [\"closed\"],\n      effects: [\"waitForLongPress\"],\n      on: {\n        \"CONTROLLED.OPEN\": { target: \"open\" },\n        \"CONTROLLED.CLOSE\": { target: \"closed\" },\n        CONTEXT_MENU_CANCEL: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            target: \"closed\",\n            actions: [\"invokeOnClose\"]\n          }\n        ],\n        \"LONG_PRESS.OPEN\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"invokeOnOpen\"]\n          }\n        ]\n      }\n    },\n    opening: {\n      tags: [\"closed\"],\n      effects: [\"waitForOpenDelay\"],\n      on: {\n        \"CONTROLLED.OPEN\": {\n          target: \"open\"\n        },\n        \"CONTROLLED.CLOSE\": {\n          target: \"closed\"\n        },\n        BLUR: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            target: \"closed\",\n            actions: [\"invokeOnClose\"]\n          }\n        ],\n        TRIGGER_POINTERLEAVE: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            target: \"closed\",\n            actions: [\"invokeOnClose\"]\n          }\n        ],\n        \"DELAY.OPEN\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"invokeOnOpen\"]\n          }\n        ]\n      }\n    },\n    closing: {\n      tags: [\"open\"],\n      effects: [\"trackPointerMove\", \"trackInteractOutside\", \"waitForCloseDelay\"],\n      on: {\n        \"CONTROLLED.OPEN\": {\n          target: \"open\"\n        },\n        \"CONTROLLED.CLOSE\": {\n          target: \"closed\",\n          actions: [\"focusParentMenu\", \"restoreParentHighlightedItem\"]\n        },\n        // don't invoke on open here since the menu is still open (we're only keeping it open)\n        MENU_POINTERENTER: {\n          target: \"open\",\n          actions: [\"clearIntentPolygon\"]\n        },\n        POINTER_MOVED_AWAY_FROM_SUBMENU: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            target: \"closed\",\n            actions: [\"focusParentMenu\", \"restoreParentHighlightedItem\"]\n          }\n        ],\n        \"DELAY.CLOSE\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            target: \"closed\",\n            actions: [\"focusParentMenu\", \"restoreParentHighlightedItem\", \"invokeOnClose\"]\n          }\n        ]\n      }\n    },\n    closed: {\n      tags: [\"closed\"],\n      entry: [\"clearHighlightedItem\", \"focusTrigger\", \"resumePointer\"],\n      on: {\n        \"CONTROLLED.OPEN\": [\n          {\n            guard: or(\"isOpenAutoFocusEvent\", \"isArrowDownEvent\"),\n            target: \"open\",\n            actions: [\"highlightFirstItem\"]\n          },\n          {\n            guard: \"isArrowUpEvent\",\n            target: \"open\",\n            actions: [\"highlightLastItem\"]\n          },\n          {\n            target: \"open\"\n          }\n        ],\n        CONTEXT_MENU_START: {\n          target: \"opening:contextmenu\",\n          actions: [\"setAnchorPoint\"]\n        },\n        CONTEXT_MENU: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setAnchorPoint\", \"invokeOnOpen\"]\n          }\n        ],\n        TRIGGER_CLICK: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"invokeOnOpen\"]\n          }\n        ],\n        TRIGGER_POINTERMOVE: {\n          guard: \"isTriggerItem\",\n          target: \"opening\"\n        },\n        TRIGGER_BLUR: { target: \"idle\" },\n        ARROW_DOWN: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"highlightFirstItem\", \"invokeOnOpen\"]\n          }\n        ],\n        ARROW_UP: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"highlightLastItem\", \"invokeOnOpen\"]\n          }\n        ]\n      }\n    },\n    open: {\n      tags: [\"open\"],\n      effects: [\"trackInteractOutside\", \"trackPositioning\", \"scrollToHighlightedItem\"],\n      entry: [\"focusMenu\", \"resumePointer\"],\n      on: {\n        \"CONTROLLED.CLOSE\": [\n          {\n            target: \"closed\",\n            guard: \"isArrowLeftEvent\",\n            actions: [\"focusParentMenu\"]\n          },\n          {\n            target: \"closed\"\n          }\n        ],\n        TRIGGER_CLICK: [\n          {\n            guard: and(not(\"isTriggerItem\"), \"isOpenControlled\"),\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            guard: not(\"isTriggerItem\"),\n            target: \"closed\",\n            actions: [\"invokeOnClose\"]\n          }\n        ],\n        CONTEXT_MENU: {\n          actions: [\"setAnchorPoint\", \"focusMenu\"]\n        },\n        ARROW_UP: {\n          actions: [\"highlightPrevItem\", \"focusMenu\"]\n        },\n        ARROW_DOWN: {\n          actions: [\"highlightNextItem\", \"focusMenu\"]\n        },\n        ARROW_LEFT: [\n          {\n            guard: and(\"isSubmenu\", \"isOpenControlled\"),\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            guard: \"isSubmenu\",\n            target: \"closed\",\n            actions: [\"focusParentMenu\", \"invokeOnClose\"]\n          }\n        ],\n        HOME: {\n          actions: [\"highlightFirstItem\", \"focusMenu\"]\n        },\n        END: {\n          actions: [\"highlightLastItem\", \"focusMenu\"]\n        },\n        ARROW_RIGHT: {\n          guard: \"isTriggerItemHighlighted\",\n          actions: [\"openSubmenu\"]\n        },\n        ENTER: [\n          {\n            guard: \"isTriggerItemHighlighted\",\n            actions: [\"openSubmenu\"]\n          },\n          {\n            actions: [\"clickHighlightedItem\"]\n          }\n        ],\n        ITEM_POINTERMOVE: [\n          {\n            guard: not(\"isPointerSuspended\"),\n            actions: [\"setHighlightedItem\", \"focusMenu\"]\n          },\n          {\n            actions: [\"setLastHighlightedItem\"]\n          }\n        ],\n        ITEM_POINTERLEAVE: {\n          guard: and(not(\"isPointerSuspended\"), not(\"isTriggerItem\")),\n          actions: [\"clearHighlightedItem\"]\n        },\n        ITEM_CLICK: [\n          // == grouped ==\n          {\n            guard: and(\n              not(\"isTriggerItemHighlighted\"),\n              not(\"isHighlightedItemEditable\"),\n              \"closeOnSelect\",\n              \"isOpenControlled\"\n            ),\n            actions: [\"invokeOnSelect\", \"setOptionState\", \"closeRootMenu\", \"invokeOnClose\"]\n          },\n          {\n            guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\"), \"closeOnSelect\"),\n            target: \"closed\",\n            actions: [\"invokeOnSelect\", \"setOptionState\", \"closeRootMenu\", \"invokeOnClose\"]\n          },\n          //\n          {\n            guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\")),\n            actions: [\"invokeOnSelect\", \"setOptionState\"]\n          },\n          { actions: [\"setHighlightedItem\"] }\n        ],\n        TRIGGER_POINTERMOVE: {\n          guard: \"isTriggerItem\",\n          actions: [\"setIntentPolygon\"]\n        },\n        TRIGGER_POINTERLEAVE: {\n          target: \"closing\"\n        },\n        ITEM_POINTERDOWN: {\n          actions: [\"setHighlightedItem\"]\n        },\n        TYPEAHEAD: {\n          actions: [\"highlightMatchedItem\"]\n        },\n        FOCUS_MENU: {\n          actions: [\"focusMenu\"]\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      closeOnSelect: ({ prop, event }) => !!(event?.closeOnSelect ?? prop(\"closeOnSelect\")),\n      // whether the trigger is also a menu item\n      isTriggerItem: ({ event }) => isTriggerItem(event.target),\n      // whether the trigger item is the active item\n      isTriggerItemHighlighted: ({ event, scope, computed }) => {\n        const target = event.target ?? scope.getById(computed(\"highlightedId\"));\n        return !!target?.hasAttribute(\"aria-controls\");\n      },\n      isSubmenu: ({ computed }) => computed(\"isSubmenu\"),\n      isPointerSuspended: ({ context }) => context.get(\"suspendPointer\"),\n      isHighlightedItemEditable: ({ scope, computed }) => isEditableElement(scope.getById(computed(\"highlightedId\"))),\n      // guard assertions (for controlled mode)\n      isOpenControlled: ({ prop }) => prop(\"open\") !== void 0,\n      isArrowLeftEvent: ({ event }) => event.previousEvent?.type === \"ARROW_LEFT\",\n      isArrowUpEvent: ({ event }) => event.previousEvent?.type === \"ARROW_UP\",\n      isArrowDownEvent: ({ event }) => event.previousEvent?.type === \"ARROW_DOWN\",\n      isOpenAutoFocusEvent: ({ event }) => event.previousEvent?.type === \"OPEN_AUTOFOCUS\"\n    },\n    effects: {\n      waitForOpenDelay({ send }) {\n        const timer = setTimeout(() => {\n          send({ type: \"DELAY.OPEN\" });\n        }, 100);\n        return () => clearTimeout(timer);\n      },\n      waitForCloseDelay({ send }) {\n        const timer = setTimeout(() => {\n          send({ type: \"DELAY.CLOSE\" });\n        }, 300);\n        return () => clearTimeout(timer);\n      },\n      waitForLongPress({ send }) {\n        const timer = setTimeout(() => {\n          send({ type: \"LONG_PRESS.OPEN\" });\n        }, 700);\n        return () => clearTimeout(timer);\n      },\n      trackPositioning({ context, prop, scope, refs }) {\n        if (!!getContextTriggerEl(scope)) return;\n        const positioning = {\n          ...prop(\"positioning\"),\n          ...refs.get(\"positioningOverride\")\n        };\n        context.set(\"currentPlacement\", positioning.placement);\n        const getPositionerEl2 = () => getPositionerEl(scope);\n        return getPlacement(getTriggerEl(scope), getPositionerEl2, {\n          ...positioning,\n          defer: true,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      trackInteractOutside({ refs, scope, prop, computed, send }) {\n        const getContentEl2 = () => getContentEl(scope);\n        let restoreFocus = true;\n        return trackDismissableElement(getContentEl2, {\n          defer: true,\n          exclude: [getTriggerEl(scope)],\n          onInteractOutside: prop(\"onInteractOutside\"),\n          onFocusOutside: prop(\"onFocusOutside\"),\n          onEscapeKeyDown(event) {\n            prop(\"onEscapeKeyDown\")?.(event);\n            if (computed(\"isSubmenu\")) event.preventDefault();\n            closeRootMenu({ parent: refs.get(\"parent\") });\n          },\n          onPointerDownOutside(event) {\n            const target = getEventTarget(event.detail.originalEvent);\n            const isWithinContextTrigger = contains(getContextTriggerEl(scope), target);\n            if (isWithinContextTrigger && event.detail.contextmenu) {\n              event.preventDefault();\n              return;\n            }\n            restoreFocus = !event.detail.focusable;\n            prop(\"onPointerDownOutside\")?.(event);\n          },\n          onDismiss() {\n            send({ type: \"CLOSE\", src: \"interact-outside\", restoreFocus });\n          }\n        });\n      },\n      trackPointerMove({ context, scope, send, refs, flush }) {\n        const parent = refs.get(\"parent\");\n        flush(() => {\n          parent.context.set(\"suspendPointer\", true);\n        });\n        const doc = scope.getDoc();\n        return addDomEvent(doc, \"pointermove\", (e) => {\n          const isMovingToSubmenu = isWithinPolygon(context.get(\"intentPolygon\"), {\n            x: e.clientX,\n            y: e.clientY\n          });\n          if (!isMovingToSubmenu) {\n            send({ type: \"POINTER_MOVED_AWAY_FROM_SUBMENU\" });\n            parent.context.set(\"suspendPointer\", false);\n          }\n        });\n      },\n      scrollToHighlightedItem({ event, scope, computed }) {\n        const exec = () => {\n          if (event.type.startsWith(\"ITEM_POINTER\")) return;\n          const itemEl = scope.getById(computed(\"highlightedId\"));\n          const contentEl2 = getContentEl(scope);\n          scrollIntoView(itemEl, { rootEl: contentEl2, block: \"nearest\" });\n        };\n        raf(() => exec());\n        const contentEl = () => getContentEl(scope);\n        return observeAttributes(contentEl, {\n          defer: true,\n          attributes: [\"aria-activedescendant\"],\n          callback: exec\n        });\n      }\n    },\n    actions: {\n      setAnchorPoint({ context, event }) {\n        context.set(\"anchorPoint\", event.point);\n      },\n      setSubmenuPlacement({ computed, refs }) {\n        if (!computed(\"isSubmenu\")) return;\n        const placement = computed(\"isRtl\") ? \"left-start\" : \"right-start\";\n        refs.set(\"positioningOverride\", { placement, gutter: 0 });\n      },\n      reposition({ context, scope, prop, event, refs }) {\n        const getPositionerEl2 = () => getPositionerEl(scope);\n        const anchorPoint = context.get(\"anchorPoint\");\n        const getAnchorRect = anchorPoint ? () => ({ width: 0, height: 0, ...anchorPoint }) : void 0;\n        const positioning = {\n          ...prop(\"positioning\"),\n          ...refs.get(\"positioningOverride\")\n        };\n        getPlacement(getTriggerEl(scope), getPositionerEl2, {\n          ...positioning,\n          defer: true,\n          getAnchorRect,\n          ...event.options ?? {},\n          listeners: false,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      setOptionState({ event }) {\n        if (!event.option) return;\n        const { checked, onCheckedChange, type } = event.option;\n        if (type === \"radio\") {\n          onCheckedChange?.(true);\n        } else if (type === \"checkbox\") {\n          onCheckedChange?.(!checked);\n        }\n      },\n      clickHighlightedItem({ scope, computed }) {\n        const itemEl = scope.getById(computed(\"highlightedId\"));\n        if (!itemEl || itemEl.dataset.disabled) return;\n        queueMicrotask(() => itemEl.click());\n      },\n      setIntentPolygon({ context, scope, event }) {\n        const menu = getContentEl(scope);\n        const placement = context.get(\"currentPlacement\");\n        if (!menu || !placement) return;\n        const rect = menu.getBoundingClientRect();\n        const polygon = getElementPolygon(rect, placement);\n        if (!polygon) return;\n        const rightSide = getPlacementSide(placement) === \"right\";\n        const bleed = rightSide ? -5 : 5;\n        context.set(\"intentPolygon\", [{ ...event.point, x: event.point.x + bleed }, ...polygon]);\n      },\n      clearIntentPolygon({ context }) {\n        context.set(\"intentPolygon\", null);\n      },\n      resumePointer({ refs, flush }) {\n        const parent = refs.get(\"parent\");\n        if (!parent) return;\n        flush(() => {\n          parent.context.set(\"suspendPointer\", false);\n        });\n      },\n      setHighlightedItem({ context, event }) {\n        const value = event.value || getItemValue(event.target);\n        context.set(\"highlightedValue\", value);\n      },\n      clearHighlightedItem({ context }) {\n        context.set(\"highlightedValue\", null);\n      },\n      focusMenu({ scope }) {\n        raf(() => {\n          const contentEl = getContentEl(scope);\n          const initialFocusEl = getInitialFocus({\n            root: contentEl,\n            enabled: !contains(contentEl, scope.getActiveElement()),\n            filter(node) {\n              return !node.role?.startsWith(\"menuitem\");\n            }\n          });\n          initialFocusEl?.focus({ preventScroll: true });\n        });\n      },\n      highlightFirstItem({ context, scope }) {\n        const fn = getContentEl(scope) ? queueMicrotask : raf;\n        fn(() => {\n          const first2 = getFirstEl(scope);\n          if (!first2) return;\n          context.set(\"highlightedValue\", getItemValue(first2));\n        });\n      },\n      highlightLastItem({ context, scope }) {\n        const fn = getContentEl(scope) ? queueMicrotask : raf;\n        fn(() => {\n          const last2 = getLastEl(scope);\n          if (!last2) return;\n          context.set(\"highlightedValue\", getItemValue(last2));\n        });\n      },\n      highlightNextItem({ context, scope, event, prop }) {\n        const next2 = getNextEl(scope, {\n          loop: event.loop,\n          value: context.get(\"highlightedValue\"),\n          loopFocus: prop(\"loopFocus\")\n        });\n        context.set(\"highlightedValue\", getItemValue(next2));\n      },\n      highlightPrevItem({ context, scope, event, prop }) {\n        const prev2 = getPrevEl(scope, {\n          loop: event.loop,\n          value: context.get(\"highlightedValue\"),\n          loopFocus: prop(\"loopFocus\")\n        });\n        context.set(\"highlightedValue\", getItemValue(prev2));\n      },\n      invokeOnSelect({ context, prop, scope }) {\n        const value = context.get(\"highlightedValue\");\n        if (value == null) return;\n        const node = getItemEl(scope, value);\n        dispatchSelectionEvent(node, value);\n        prop(\"onSelect\")?.({ value });\n      },\n      focusTrigger({ scope, context, event, computed }) {\n        if (computed(\"isSubmenu\") || context.get(\"anchorPoint\") || event.restoreFocus === false) return;\n        queueMicrotask(() => getTriggerEl(scope)?.focus({ preventScroll: true }));\n      },\n      highlightMatchedItem({ scope, context, event, refs }) {\n        const node = getElemByKey(scope, {\n          key: event.key,\n          value: context.get(\"highlightedValue\"),\n          typeaheadState: refs.get(\"typeaheadState\")\n        });\n        if (!node) return;\n        context.set(\"highlightedValue\", getItemValue(node));\n      },\n      setParentMenu({ refs, event }) {\n        refs.set(\"parent\", event.value);\n      },\n      setChildMenu({ refs, event }) {\n        const children = refs.get(\"children\");\n        children[event.id] = event.value;\n        refs.set(\"children\", children);\n      },\n      closeRootMenu({ refs }) {\n        closeRootMenu({ parent: refs.get(\"parent\") });\n      },\n      openSubmenu({ refs, scope, computed }) {\n        const item = scope.getById(computed(\"highlightedId\"));\n        const id = item?.getAttribute(\"data-uid\");\n        const children = refs.get(\"children\");\n        const child = id ? children[id] : null;\n        child?.send({ type: \"OPEN_AUTOFOCUS\" });\n      },\n      focusParentMenu({ refs }) {\n        refs.get(\"parent\")?.send({ type: \"FOCUS_MENU\" });\n      },\n      setLastHighlightedItem({ context, event }) {\n        context.set(\"lastHighlightedValue\", getItemValue(event.target));\n      },\n      restoreHighlightedItem({ context }) {\n        if (!context.get(\"lastHighlightedValue\")) return;\n        context.set(\"highlightedValue\", context.get(\"lastHighlightedValue\"));\n        context.set(\"lastHighlightedValue\", null);\n      },\n      restoreParentHighlightedItem({ refs }) {\n        refs.get(\"parent\")?.send({ type: \"HIGHLIGHTED.RESTORE\" });\n      },\n      invokeOnOpen({ prop }) {\n        prop(\"onOpenChange\")?.({ open: true });\n      },\n      invokeOnClose({ prop }) {\n        prop(\"onOpenChange\")?.({ open: false });\n      },\n      toggleVisibility({ prop, event, send }) {\n        send({\n          type: prop(\"open\") ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\",\n          previousEvent: event\n        });\n      }\n    }\n  }\n});\nfunction closeRootMenu(ctx) {\n  let parent = ctx.parent;\n  while (parent && parent.computed(\"isSubmenu\")) {\n    parent = parent.refs.get(\"parent\");\n  }\n  parent?.send({ type: \"CLOSE\" });\n}\nfunction isWithinPolygon(polygon, point) {\n  if (!polygon) return false;\n  return isPointInPolygon(polygon, point);\n}\nfunction resolveItemId(children, value, scope) {\n  const hasChildren = Object.keys(children).length > 0;\n  if (!value) return null;\n  if (!hasChildren) {\n    return getItemId(scope, value);\n  }\n  for (const id in children) {\n    const childMenu = children[id];\n    const childTriggerId = getTriggerId(childMenu.scope);\n    if (childTriggerId === value) {\n      return childTriggerId;\n    }\n  }\n  return getItemId(scope, value);\n}\nvar props = createProps()([\n  \"anchorPoint\",\n  \"aria-label\",\n  \"closeOnSelect\",\n  \"composite\",\n  \"defaultHighlightedValue\",\n  \"defaultOpen\",\n  \"dir\",\n  \"getRootNode\",\n  \"highlightedValue\",\n  \"id\",\n  \"ids\",\n  \"loopFocus\",\n  \"navigate\",\n  \"onEscapeKeyDown\",\n  \"onFocusOutside\",\n  \"onHighlightChange\",\n  \"onInteractOutside\",\n  \"onOpenChange\",\n  \"onPointerDownOutside\",\n  \"onSelect\",\n  \"open\",\n  \"positioning\",\n  \"typeahead\"\n]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"closeOnSelect\", \"disabled\", \"value\", \"valueText\"]);\nvar splitItemProps = createSplitProps(itemProps);\nvar itemGroupLabelProps = createProps()([\"htmlFor\"]);\nvar splitItemGroupLabelProps = createSplitProps(itemGroupLabelProps);\nvar itemGroupProps = createProps()([\"id\"]);\nvar splitItemGroupProps = createSplitProps(itemGroupProps);\nvar optionItemProps = createProps()([\n  \"checked\",\n  \"closeOnSelect\",\n  \"disabled\",\n  \"onCheckedChange\",\n  \"type\",\n  \"value\",\n  \"valueText\"\n]);\nvar splitOptionItemProps = createSplitProps(optionItemProps);\n\nexport { anatomy, connect, itemGroupLabelProps, itemGroupProps, itemProps, machine, optionItemProps, props, splitItemGroupLabelProps, splitItemGroupProps, splitItemProps, splitOptionItemProps, splitProps };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}